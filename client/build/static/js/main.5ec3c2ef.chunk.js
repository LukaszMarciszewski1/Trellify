(this["webpackJsonpprint-management"]=this["webpackJsonpprint-management"]||[]).push([[0],{100:function(e,t,a){e.exports={button:"styles_button__kzQWl",reset:"styles_reset__pbyPF"}},101:function(e,t,a){e.exports={taskButton:"styles_taskButton__37MC8",icon:"styles_icon__19Jm-"}},102:function(e,t,a){e.exports={container:"styles_container__21WZn",items:"styles_items__lyoja"}},103:function(e,t,a){e.exports={cardLabels:"styles_cardLabels__2eu4r",cardLabelsList:"styles_cardLabelsList__1OEOM"}},104:function(e,t,a){e.exports={label:"styles_label__1Tkbh",boxColor:"styles_boxColor__nCJkl"}},106:function(e,t,a){e.exports={descriptionContainer:"styles_descriptionContainer__3gxsT",descriptionHeader:"styles_descriptionHeader__106vb"}},120:function(e,t,a){e.exports={iconButton:"styles_iconButton__2Tcyu"}},121:function(e,t,a){e.exports={input:"styles_input__iJOgd"}},122:function(e,t,a){e.exports={loading:"styles_loading__1tild"}},127:function(e,t,a){e.exports={cardCover:"styles_cardCover__1pPp6"}},128:function(e,t,a){e.exports={labelsList:"styles_labelsList__2gu5B"}},130:function(e,t,a){e.exports={actionsForm:"styles_actionsForm__1nFy6"}},135:function(e,t,a){e.exports={materials:"styles_materials__qZxfy"}},144:function(e,t,a){},21:function(e,t,a){e.exports={productForm:"styles_productForm__blZJT",formContainer:"styles_formContainer__3C9j6",formGroup:"styles_formGroup__9bsMI",inputContainer:"styles_inputContainer__qQIMg",selectGroup:"styles_selectGroup__QrqKR",select:"styles_select__1Kg3n",actionForm:"styles_actionForm__LxvJg",message:"styles_message__31VVT"}},216:function(e,t,a){"use strict";a.r(t);var n,r=a(2),c=a.n(r),s=a(38),i=a.n(s),l=(a(144),a(18)),o=a(28),d=a(12),u=a.n(d),j=a(20),b=a(4),O=a(43),p=a.n(O),m=a(11),f=a(1),x=Object(r.createContext)(null),h=function(e){var t=e.children,a=function(){var e=Object(r.useState)(null),t=Object(b.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(b.a)(c,2),i=s[0],l=s[1],o=Object(r.useState)(!1),d=Object(b.a)(o,2),O=d[0],f=d[1],x=Object(r.useState)(!1),h=Object(b.a)(x,2),_=h[0],y=h[1],g=Object(m.h)();Object(r.useEffect)((function(){var e=localStorage.getItem("token")||null;e&&Object(j.a)(u.a.mark((function t(){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("".concat("https://print-control-m-backend.herokuapp.com/","users/me"),{headers:{authorization:"Bearer ".concat(e)}});case 3:a=t.sent,r=a.data,n(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[]);var v=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,r,c,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.password,c={headers:{"Content-type":"application/json"}},y(!0),e.prev=3,e.next=6,p.a.post("".concat("https://print-control-m-backend.herokuapp.com/","users/login"),{email:a,password:r},c);case 6:s=e.sent,i=s.data,y(!1),n(i),localStorage.setItem("token",i.token),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),y(!1),l(e.t0.response.data.message);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.email,r=t.password,c={headers:{"Content-type":"application/json"}},y(!0),e.prev=3,e.next=6,p.a.post("".concat("https://print-control-m-backend.herokuapp.com/","users"),{name:a,email:n,password:r},c);case 6:y(!1),f(!0),setTimeout((function(){return g("/logowanie")}),1e3),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),y(!1),l(e.t0.response.data.message);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return{user:a,loading:_,success:O,error:i,signIn:v,signUp:C,signOut:function(){n(null),localStorage.removeItem("token")}}}();return Object(f.jsx)(x.Provider,{value:a,children:t})},_=function(){var e=Object(r.useContext)(x);if(!e)throw new Error("useAuth needs to be used inside AuthContext");return e},y=a(23),g=a(9),v=a(14),C=a(33),k=a(25),w=["_id"],N=localStorage.getItem("token")||null,S=Object(C.a)({reducerPath:"boardApi",baseQuery:Object(k.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/",prepareHeaders:function(e){var t=localStorage.getItem("token");return t&&e.set("authorization","Bearer ".concat(t)),e}}),tagTypes:["Board"],refetchOnMountOrArgChange:!!N,endpoints:function(e){return{getAllBoards:e.query({query:function(){return"boards"},providesTags:["Board"]}),getBoard:e.query({query:function(e){return{url:"boards/".concat(e)}},providesTags:["Board"]}),createBoard:e.mutation({query:function(e){return{url:"boards",method:"POST",body:e}},invalidatesTags:["Board"]}),updateBoard:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,w);return{url:"boards/".concat(t),method:"PATCH",body:a}},invalidatesTags:["Board"]})}}}),I=S.useGetAllBoardsQuery,L=S.useGetBoardQuery,F=(S.useCreateBoardMutation,S.useUpdateBoardMutation),z=["_id"],T=["_id"],D=Object(C.a)({reducerPath:"listApi",baseQuery:Object(k.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/"}),tagTypes:["List"],endpoints:function(e){return{getAllLists:e.query({query:function(){return"lists"},providesTags:["List"]}),getList:e.query({query:function(e){return"lists/".concat(e)},providesTags:["List"]}),addList:e.mutation({query:function(e){return{url:"lists",method:"POST",body:e}},invalidatesTags:["List"]}),updateList:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,z);return{url:"lists/".concat(t),method:"PATCH",body:a}},invalidatesTags:["List"]}),deleteList:e.mutation({query:function(e){return{url:"lists/".concat(e),method:"DELETE"}},invalidatesTags:["List"]}),deleteAllCardsOfList:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,T);return{url:"lists/".concat(t,"/cards"),method:"PATCH",body:a}},invalidatesTags:["List"]})}}}),P=(D.useGetAllListsQuery,D.useGetListQuery,D.useAddListMutation),q=D.useUpdateListMutation,B=D.useDeleteListMutation,W=D.useDeleteAllCardsOfListMutation,A=["_id"],E=Object(C.a)({reducerPath:"cardsApi",baseQuery:Object(k.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/"}),tagTypes:["Cards"],endpoints:function(e){return{getAllCards:e.query({query:function(){return"cards"},providesTags:["Cards"]}),getCard:e.query({query:function(e){return"cards/".concat(e)},providesTags:["Cards"]}),addCard:e.mutation({query:function(e){return{url:"cards",method:"POST",body:e}},invalidatesTags:["Cards"]}),updateCard:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,A);return{url:"cards/".concat(t),method:"PATCH",body:a}},invalidatesTags:["Cards"]}),deleteCard:e.mutation({query:function(e){return{url:"cards/".concat(e),method:"DELETE"}},invalidatesTags:["Cards"]})}}}),M=E.useGetAllCardsQuery,U=(E.useGetCardQuery,E.useAddCardMutation),H=E.useDeleteCardMutation,Z=E.useUpdateCardMutation,Q=Object(C.a)({reducerPath:"filesApi",baseQuery:Object(k.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/"}),tagTypes:["Files"],endpoints:function(e){return{getAllFiles:e.query({query:function(){return"files"},providesTags:["Files"]}),getFile:e.query({query:function(e){return"files/".concat(e)},providesTags:["Files"]}),uploadFile:e.mutation({query:function(e){return{url:"files",method:"POST",body:e}},invalidatesTags:["Files"]}),deleteFile:e.mutation({query:function(e){return{url:"files/".concat(e),method:"DELETE"}},invalidatesTags:["Files"]})}}}),R=(Q.useGetAllFilesQuery,Q.useGetFileQuery,Q.useUploadFileMutation,Q.useDeleteFileMutation),G=["_id"],K=localStorage.getItem("token")||null,V=Object(C.a)({reducerPath:"productsApi",baseQuery:Object(k.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/",prepareHeaders:function(e){var t=localStorage.getItem("token")||null;return t&&e.set("authorization","Bearer ".concat(t)),e}}),refetchOnMountOrArgChange:!!K,tagTypes:["Products"],endpoints:function(e){return{getAllProducts:e.query({query:function(){return"products"},providesTags:["Products"]}),getProduct:e.query({query:function(e){return"products/".concat(e)},providesTags:["Products"]}),addProduct:e.mutation({query:function(e){return{url:"products",method:"POST",body:e}},invalidatesTags:["Products"]}),updateProduct:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,G);return{url:"products/".concat(t),method:"PATCH",body:a}},invalidatesTags:["Products"]}),deleteProduct:e.mutation({query:function(e){return{url:"products/".concat(e),method:"DELETE"}},invalidatesTags:["Products"]})}}}),Y=V.useGetAllProductsQuery,J=(V.useGetProductQuery,V.useAddProductMutation),X=V.useDeleteProductMutation,$=V.useUpdateProductMutation,ee=Object(g.a)({reducer:(n={},Object(y.a)(n,S.reducerPath,S.reducer),Object(y.a)(n,D.reducerPath,D.reducer),Object(y.a)(n,E.reducerPath,E.reducer),Object(y.a)(n,Q.reducerPath,Q.reducer),Object(y.a)(n,V.reducerPath,V.reducer),n),middleware:function(e){return e().concat(S.middleware,D.middleware,E.middleware,Q.middleware,V.middleware)}}),te=function(e){var t=e.children;return Object(f.jsx)(l.a,{store:ee,children:Object(f.jsx)(o.a,{children:Object(f.jsx)(h,{children:t})})})},ae=a(67),ne=a.n(ae),re=a(26),ce=a.n(re),se=a(52),ie=a(118),le=a(76),oe=a(119),de=a(41),ue=a(22),je=[{name:"Zadania",path:"/zadania",icon:Object(f.jsx)(de.b,{})},{name:"Magazyn",path:"/magazyn",icon:Object(f.jsx)(ue.a,{})},{name:"Kalkulator",path:"/kalkulator",icon:Object(f.jsx)(ie.a,{})},{name:"Statystyki",path:"/statystyki",icon:Object(f.jsx)(le.b,{})},{name:"Ustawienia",path:"/ustawienia",icon:Object(f.jsx)(oe.a,{})}],be=function(){var e=Object(m.g)(),t=Object(r.useState)(!0),a=Object(b.a)(t,2),n=a[0],c=a[1];return Object(f.jsxs)("nav",{className:"".concat(ce.a.nav," ").concat(n?ce.a.navHidden:ce.a.nav),children:[Object(f.jsx)("button",{className:"".concat(ce.a.switchButton," ").concat(n?ce.a.switchButton:ce.a.switchButtonHidden),onClick:function(){return c((function(e){return!e}))},children:Object(f.jsx)(se.a,{})}),Object(f.jsx)("ul",{className:ce.a.linksContainer,children:je.map((function(t){return Object(f.jsx)("li",{className:ce.a.navItem,children:Object(f.jsx)(o.b,{to:t.path,children:Object(f.jsxs)("div",{className:"".concat(ce.a.navLink," ").concat(e.pathname===t.path?ce.a.active:ce.a.navLink),children:[Object(f.jsx)("div",{className:ce.a.icon,children:t.icon}),Object(f.jsx)("span",{children:n?null:t.name})]})})},t.name)}))}),Object(f.jsx)("div",{className:ce.a.divider})]})},Oe=a(49),pe=a.n(Oe),me=a(5),fe=a(87),xe=a.n(fe),he=a(120),_e=a.n(he),ye=function(e){var t=e.style,a=e.onClick,n=e.children;return Object(f.jsx)("button",{className:_e.a.iconButton,onClick:a,type:"button",style:t,children:n})},ge=a(19);var ve=function(e,t){Object(r.useEffect)((function(){var a=function(a){var n=null===e||void 0===e?void 0:e.current;n&&!n.contains(a.target)&&t(a)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),function(){document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}}),[e,t])},Ce=["children","trigger","title","isEditWindow","closePopup","backToMainWindow"],ke=function(e){var t=e.children,a=e.trigger,n=e.title,c=e.isEditWindow,s=e.closePopup,i=e.backToMainWindow,l=Object(v.a)(e,Ce),o=Object(r.useRef)(null);return ve(o,s),a?Object(f.jsxs)("div",{className:xe.a.popup,ref:o,style:Object(me.a)({},l),children:[Object(f.jsxs)("div",{className:xe.a.header,children:[c?Object(f.jsx)(ye,{onClick:i,children:Object(f.jsx)(se.b,{})}):null,Object(f.jsx)("h4",{children:n}),Object(f.jsx)(ye,{onClick:s,children:Object(f.jsx)(ge.e,{})})]}),Object(f.jsx)("div",{className:xe.a.popupContent,children:t})]}):null},we=a(100),Ne=a.n(we),Se=function(e){var t=e.title,a=e.style,n=e.disabled,r=e.type,c=e.onClick;return Object(f.jsx)("button",{className:"".concat(Ne.a.button," ").concat("reset"===r&&Ne.a.reset),style:a,onClick:c,disabled:n,children:t})},Ie=a.p+"static/media/logo.7eca49e8.svg",Le=function(){var e=_(),t=e.user,a=e.signOut,n=Object(r.useState)(!1),c=Object(b.a)(n,2),s=c[0],i=c[1],l=t?t.name.charAt(0):"";return Object(f.jsxs)("div",{className:pe.a.header,children:[Object(f.jsx)("div",{className:pe.a.logoContainer,children:Object(f.jsx)("img",{src:Ie,alt:"logo"})}),Object(f.jsxs)("div",{className:pe.a.userAction,children:[Object(f.jsx)("button",{onClick:function(){return i(!0)},className:pe.a.userActionBtn,children:Object(f.jsx)("h3",{children:l})}),Object(f.jsxs)(ke,{title:"Konto",trigger:s,closePopup:function(){i(!1)},top:"55px",right:"5px",children:[Object(f.jsxs)("div",{className:pe.a.userInfo,children:[Object(f.jsx)("div",{className:pe.a.userSignature,children:Object(f.jsx)("h3",{children:l})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:null===t||void 0===t?void 0:t.name}),Object(f.jsx)("span",{children:null===t||void 0===t?void 0:t.email})]})]}),Object(f.jsx)(Se,{title:"Wyloguj",onClick:a,type:"button"})]})]})]})},Fe=function(){return Object(f.jsxs)("div",{className:ne.a.layout,children:[Object(f.jsx)("div",{className:ne.a.header,children:Object(f.jsx)(Le,{})}),Object(f.jsx)("div",{className:ne.a.navigation,children:Object(f.jsx)(be,{})}),Object(f.jsx)("div",{className:ne.a.pages,children:Object(f.jsx)(m.b,{})})]})},ze=a(45),Te=a.n(ze),De=a(53),Pe=a(121),qe=a.n(Pe),Be=["id","name","label","type","placeholder","disabled","value","defaultValue","step","minValue","maxValue","onChange"],We=Object(r.forwardRef)((function(e,t){var a=e.id,n=e.name,r=e.label,c=e.type,s=e.placeholder,i=e.disabled,l=e.value,o=e.defaultValue,d=e.step,u=e.minValue,j=e.maxValue,b=e.onChange,O=Object(v.a)(e,Be);return Object(f.jsx)("input",Object(me.a)({id:a,ref:t,name:n,type:c,value:l,defaultValue:o,"aria-label":r,placeholder:s,step:d,min:u,max:j,onChange:b,disabled:i,className:qe.a.input},O))})),Ae=a(39),Ee=a.n(Ae),Me=function(e){var t=e.message;return Object(f.jsx)("div",{className:Ee.a.wrapper,children:Object(f.jsxs)("span",{className:Ee.a.error,children:[Object(f.jsx)(ue.d,{})," ",t]})})},Ue=a(123),He=a.n(Ue),Ze=a(122),Qe=a.n(Ze),Re=function(){return Object(f.jsx)("div",{className:Qe.a.loading,children:Object(f.jsx)(He.a,{size:40})})},Ge=function(){var e=_(),t=e.loading,a=e.signIn,n=Object(De.a)(),r=n.register,c=n.handleSubmit,s=n.formState.errors;return Object(f.jsx)("div",{className:Te.a.auth,children:Object(f.jsxs)("div",{className:Te.a.formContainer,children:[Object(f.jsxs)("div",{className:Te.a.left,children:[t?Object(f.jsx)(Re,{}):null,Object(f.jsxs)("form",{className:Te.a.form,onSubmit:c(a),children:[Object(f.jsx)("h1",{children:"Zaloguj si\u0119"}),Object(f.jsx)(We,Object(me.a)({id:"email",placeholder:"email",label:"Email",type:"text"},r("email",{required:!0}))),s.email&&Object(f.jsx)(Me,{message:"Email jest wymagany"}),Object(f.jsx)(We,Object(me.a)({id:"password",placeholder:"password",label:"Password",type:"password"},r("password",{required:!0}))),s.password&&Object(f.jsx)(Me,{message:"Has\u0142o jest wymagane"}),Object(f.jsx)("button",{type:"submit",className:Te.a.blueBtn,children:"Logowanie"})]})]}),Object(f.jsxs)("div",{className:Te.a.right,children:[Object(f.jsx)("h1",{children:"Zarejestruj si\u0119"})," ",Object(f.jsx)("br",{}),Object(f.jsx)(o.b,{to:"/rejestracja",children:Object(f.jsx)("button",{type:"button",className:Te.a.whiteBtn,children:"Rejestracja"})})]})]})})},Ke=a(46),Ve=a.n(Ke),Ye=function(e){var t=e.message;return Object(f.jsx)("div",{className:Ee.a.validateWrapper,children:Object(f.jsx)("span",{className:Ee.a.validate,children:t})})},Je=function(e){var t=e.message;return Object(f.jsx)("div",{className:Ee.a.wrapper,children:Object(f.jsxs)("span",{className:Ee.a.success,children:[Object(f.jsx)(le.a,{})," ",t]})})},Xe={required:!0,maxLength:20,minLength:2},$e={required:!0,pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},et={required:!0,pattern:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/},tt=function(){var e,t,a,n=_(),r=n.loading,c=n.success,s=n.signUp,i=Object(De.a)(),l=i.register,d=i.handleSubmit,u=i.watch,j=i.formState.errors;return Object(f.jsx)("div",{className:Ve.a.auth,children:Object(f.jsxs)("div",{className:Ve.a.formContainer,children:[Object(f.jsxs)("div",{className:Ve.a.left,children:[Object(f.jsx)("h1",{children:"Zaloguj si\u0119"}),Object(f.jsx)("br",{}),Object(f.jsx)(o.b,{to:"/logowanie",children:Object(f.jsx)("button",{type:"button",className:Ve.a.whiteBtn,children:"Logowanie"})})]}),Object(f.jsxs)("div",{className:Ve.a.right,children:[r?Object(f.jsx)(Re,{}):null,c&&Object(f.jsx)(Je,{message:"Zosta\u0142e\u015b zarejestrowany"}),Object(f.jsxs)("form",{className:Ve.a.form,onSubmit:d(s),children:[Object(f.jsx)("h1",{children:"Utw\xf3rz konto"}),Object(f.jsx)(We,Object(me.a)({id:"name",placeholder:"Imi\u0119",label:"Imi\u0119",type:"text",error:j.name},l("name",Object(me.a)({},Xe)))),function(e){switch(e){case"required":return Object(f.jsx)(Ye,{message:"Imi\u0119 jest wymagane"});case"minLength":return Object(f.jsx)(Ye,{message:"Imi\u0119 musi zawiera\u0107 conajmiej 2 znaki"});case"maxLength":return Object(f.jsx)(Ye,{message:"Imi\u0119 mo\u017ce zawiera\u0107 maksymalnie 20 znak\xf3w"});default:return null}}(null===(e=j.name)||void 0===e?void 0:e.type),Object(f.jsx)(We,Object(me.a)({id:"email",placeholder:"email",label:"Email",type:"text"},l("email",Object(me.a)({},$e)))),function(e){switch(e){case"required":return Object(f.jsx)(Ye,{message:"Email jest wymagany"});case"pattern":return Object(f.jsx)(Ye,{message:"Email jest niepoprawny"});default:return null}}(null===(t=j.email)||void 0===t?void 0:t.type),Object(f.jsx)(We,Object(me.a)({id:"password",placeholder:"password",label:"Password",type:"password"},l("password",Object(me.a)({},et)))),function(e){switch(e){case"required":return Object(f.jsx)(Ye,{message:"Has\u0142o jest wymagane"});case"pattern":return Object(f.jsx)(Ye,{message:"Has\u0142o musi zawiera\u0107: co najmniej 8 znak\xf3w, 1 cyfr\u0119, 1 ma\u0142\u0105 liter\u0119 i 1 wielk\u0105 liter\u0119"});default:return null}}(null===(a=j.password)||void 0===a?void 0:a.type),Object(f.jsx)(We,Object(me.a)({id:"confirm_password",placeholder:"confirm password",label:"Confirm Password",type:"password"},l("confirm_password",{required:!0,validate:function(e){return e===u("password")}}))),j.confirm_password&&Object(f.jsx)(Ye,{message:"Wpisz poprawne has\u0142o"}),Object(f.jsx)("button",{type:"submit",className:Ve.a.blueBtn,children:"Rejestracja"})]})]})]})})},at=a(10),nt=a(68),rt=a.n(nt),ct=a(44),st=a(101),it=a.n(st),lt=function(e){var t=e.onClick,a=e.name,n=e.icon,r=e.style;return Object(f.jsxs)("button",{className:it.a.taskButton,onClick:t,style:r,children:[Object(f.jsx)("div",{className:it.a.icon,children:n}),Object(f.jsx)("span",{children:a})]})},ot=a(37),dt=a.n(ot),ut=a(77),jt=a(42),bt=a(32),Ot=a.n(bt),pt=a(16),mt=a.n(pt),ft=a(124),xt=a.n(ft),ht=a(125),_t=a.n(ht),yt=a(126),gt=a.n(yt),vt=(a(172),"undefined"!==typeof window?r.useLayoutEffect:r.useEffect);var Ct=function(e,t,a){var n=Object(r.useRef)(t);vt((function(){n.current=t}),[t]),Object(r.useEffect)((function(){var t=(null===a||void 0===a?void 0:a.current)||window;if(t&&t.addEventListener){var r=function(e){return n.current(e)};return t.addEventListener(e,r),function(){t.removeEventListener(e,r)}}}),[e,a])};var kt=function(e){var t=Object(r.useState)(!1),a=Object(b.a)(t,2),n=a[0],c=a[1];return Ct("mouseenter",(function(){return c(!0)}),e),Ct("mouseleave",(function(){return c(!1)}),e),n},wt=function(e){return"string"===typeof e&&null!==e.match(/^http[^\?]*.(jpg|jpeg|gif|png|tiff|bmp|webp)(\?(.*))?$/gim)},Nt=a(88),St=a.n(Nt),It=function(e){var t=e.onClick,a=e.children;return Object(f.jsx)("div",{className:St.a.box,children:Object(f.jsxs)("div",{className:St.a.wrapper,children:[Object(f.jsx)("div",{className:St.a.clickableArea,onClick:t}),a]})})},Lt=a(59),Ft=a.n(Lt),zt=a(89),Tt=a.n(zt),Dt=function(e){var t=e.children,a=e.trigger,n=e.closeModal,c=Object(r.useRef)(null);return ve(c,n),a?Object(f.jsx)("div",{className:Tt.a.overlay,children:Object(f.jsxs)("div",{className:Tt.a.modal,ref:c,children:[Object(f.jsx)("div",{className:Tt.a.header,children:Object(f.jsx)(ye,{onClick:n,children:Object(f.jsx)(ge.e,{})})}),t]})}):null},Pt=a(127),qt=a.n(Pt),Bt=function(e){var t=e.cover;return Object(f.jsx)(f.Fragment,{children:t&&wt(t)?Object(f.jsx)("div",{className:qt.a.cardCover,children:Object(f.jsx)("img",{onClick:function(){var e=window.open("".concat(t),"_blank","noopener,noreferrer");e&&(e.opener=null)},src:t,alt:t})}):null})},Wt=a(90),At=a.n(Wt),Et=function(e){var t=e.cardId,a=e.boardId,n=e.cardTitle,r=e.listTitle,c=e.setCardTitle,s=Z(),i=Object(b.a)(s,1)[0],l=F(),o=Object(b.a)(l,1)[0],d=Object(ut.a)((function(e){i({_id:t,title:e}),o({_id:a})}),300);return Object(f.jsx)("div",{className:At.a.cardTitle,children:Object(f.jsxs)("div",{className:At.a.cardTitleContainer,children:[Object(f.jsx)(jt.a,{id:"card-title",autoFocus:!1,value:n,className:At.a.cardTitleTextarea,onChange:function(e){"card-title"===e.target.id&&(c(e.target.value),d(e.target.value))},onFocus:function(e){return e.target.select()},rows:20,maxRows:4,required:!0}),Object(f.jsxs)("p",{children:["Na liscie: ",Object(f.jsx)("strong",{children:r})]})]})})},Mt=a(128),Ut=a.n(Mt),Ht=a(102),Zt=a.n(Ht),Qt=function(e){var t=e.children,a=e.title,n=e.data,r=Array.isArray(n)?!!n.length:null!==n&&void 0!==n;return Object(f.jsx)(f.Fragment,{children:r?Object(f.jsxs)("div",{className:Zt.a.container,children:[Object(f.jsx)("h4",{children:a}),Object(f.jsx)("div",{className:Zt.a.items,children:t})]}):null})},Rt=function(e){var t=e.cardLabels,a=e.setLabelsTrigger;return Object(f.jsx)(Qt,{data:t,title:"Etykiety",children:t.map((function(e){return Object(f.jsx)("div",{style:{backgroundColor:"".concat(e.color)},className:Ut.a.labelsList,onClick:function(){return a(!0)},children:Object(f.jsx)("span",{children:e.title})},e._id)}))})},Gt=a(103),Kt=a.n(Gt),Vt=a(47),Yt=a.n(Vt),Jt=a(129),Xt=["#FB8B24","#9575cd","#F36935","#EA4746","#AE0366","#53416B","#ba68c8","#2F8278","#C5D86D","#30B68E","#0d6192","#A2D2FF","#3f3c3c","#FFDAB9"],$t=function(e){var t=e.formId,a=e.selectColor,n=e.value,r=e.handleChangeTitle,c=e.handleSubmitForm,s=e.handleDeleteLabel,i=e.onFocus,l=e.setSelectColor;return Object(f.jsxs)("form",{className:Yt.a.labelForm,children:[Object(f.jsx)("p",{style:{marginBottom:"5px"},children:"Nazwa"}),Object(f.jsx)(jt.a,{id:t,maxRows:20,placeholder:"Dodaj nazw\u0119 etykiety...",value:n,className:Yt.a.textarea,autoFocus:!0,onChange:r,onFocus:i}),Object(f.jsx)("p",{style:{marginBottom:"5px"},children:"Wybierz kolor"}),Object(f.jsxs)("div",{className:Yt.a.picker,children:[Object(f.jsx)(Jt.a,{className:Yt.a.colorsPalette,color:a,onChange:function(e){return l((function(t){return Object(me.a)(Object(me.a)({},t),{},{color:e})}))}}),Object(f.jsx)("div",{className:Yt.a.pickerSwatches,children:Xt.slice(0,14).map((function(e){return Object(f.jsx)("div",{className:Yt.a.pickerSwatch,style:{background:e},onClick:function(){return l((function(t){return Object(me.a)(Object(me.a)({},t),{},{color:e})}))}},e)}))})]}),Object(f.jsxs)("div",{className:Yt.a.buttonsWrapper,children:[Object(f.jsx)(Se,{onClick:c,title:"Zapisz",type:"submit",style:{marginRight:"16px"}}),Object(f.jsx)(Se,{onClick:s,title:"Usu\u0144",type:"reset"})]})]})},ea=a(104),ta=a.n(ea),aa=function(e){var t=e.labelId,a=e.title,n=e.color,r=e.cardLabels,c=e.handleCheckedLabel,s=e.openLabelEditWindow,i=r.filter((function(e){return e._id===t}));return Object(f.jsxs)("div",{className:ta.a.label,children:[Object(f.jsxs)("div",{onClick:c,style:{background:"".concat(n)},className:ta.a.boxColor,children:[Object(f.jsx)("p",{children:a}),i.length?Object(f.jsx)(ue.b,{style:{color:"white"}}):null]}),Object(f.jsx)(ye,{onClick:s,children:Object(f.jsx)(ge.b,{})})]})},na=function(e){var t=e.boardId,a=e.cardId,n=e.boardLabels,c=e.cardLabels,s=e.setBoardLabels,i=e.setCardLabels,l=e.trigger,o=e.setTrigger,d=M().data,u=Z(),j=Object(b.a)(u,1)[0],O=F(),p=Object(b.a)(O,1)[0],m=Object(r.useState)(!1),x=Object(b.a)(m,2),h=x[0],_=x[1],y=Object(r.useState)(!1),g=Object(b.a)(y,2),v=g[0],C=g[1],k=Object(r.useState)(""),w=Object(b.a)(k,2),N=w[0],S=w[1],I=Object(r.useState)({_id:"",color:"",title:""}),L=Object(b.a)(I,2),z=L[0],T=L[1];Object(r.useEffect)((function(){l||(_(!1),C(!1))}),[l]);var D=function(e){return e.map((function(e){return e._id!==z._id?e:Object(me.a)(Object(me.a)({},e),{},{title:z.title,color:z.color})}))},P=Object(r.useCallback)((function(){null===d||void 0===d||d.filter((function(e){return e.boardId===t})).map((function(e){j({_id:e._id,labels:D(e.labels)})}))}),[z.color,z.title]);return Object(f.jsx)(ke,{title:h?"Edytuj etykiet\u0119":v?"Dodaj Etykiet\u0119":"Etykiety",trigger:l,closePopup:function(){return o(!1)},isEditWindow:h||v,backToMainWindow:function(){_(!1),C(!1)},children:Object(f.jsx)("div",{className:Kt.a.cardLabels,children:h||v?Object(f.jsx)($t,{formId:h?"label-title-edit":v?"label-title-add":"",handleChangeTitle:function(e){"label-title-edit"===e.target.id&&T((function(t){return Object(me.a)(Object(me.a)({},t),{},{title:e.target.value})})),"label-title-add"===e.target.id&&S(e.target.value)},handleSubmitForm:h?function(e){e.preventDefault(),P(),s(D(n)),i(D(c)),p({_id:t,labels:D(n)}),_(!1),T((function(e){return Object(me.a)(Object(me.a)({},e),{},{title:"",color:""})}))}:v?function(e){e.preventDefault();var a=[].concat(Object(at.a)(n),[{color:z.color,title:N,active:!1}]);p({_id:t,labels:a}),C(!1)}:function(){return console.log("label does not exist")},handleDeleteLabel:function(){var e=Object(at.a)(n).filter((function(e){return e._id!==z._id}));null===d||void 0===d||d.filter((function(e){return e.boardId===t})).map((function(e){var t=e.labels.filter((function(e){return e._id!==z._id}));i(t),j({_id:e._id,labels:t})})),p({_id:t,labels:e}),_(!1)},value:h?z.title:v?N:"",onFocus:function(e){return e.target.select()},selectColor:z.color,setSelectColor:T}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:Kt.a.cardLabelsList,children:n.map((function(e){return Object(f.jsx)(aa,{labelId:e._id,title:e.title,color:e.color,cardLabels:c,openLabelEditWindow:function(){_(!0),function(e){var t=Object(at.a)(n).filter((function(t){return t._id===e})),a=t.map((function(e){return e.title})).toString(),r=t.map((function(e){return e.color})).toString();T((function(t){return Object(me.a)(Object(me.a)({},t),{},{_id:e,title:a,color:r})}))}(e._id)},handleCheckedLabel:function(){return function(e){var n=Object(me.a)(Object(me.a)({},e),{},{active:!e.active}),r=Object(at.a)(c).find((function(e){return e._id===n._id}));if(r){var s=Object(at.a)(c).filter((function(e){return e._id!==r._id}));i(s),j({_id:a,labels:s})}else{var l=[].concat(Object(at.a)(c),[n]);i(l),j({_id:a,labels:l})}p({_id:t})}(e)}},e._id)}))}),Object(f.jsx)(lt,{onClick:function(){return C(!0)},name:"Utw\xf3rz now\u0105 etykiet\u0119"})]})})})},ra=a(69),ca=a.n(ra),sa=function(e){var t=e.cardId,a=e.boardId,n=e.deadline,r=e.completed,c=e.deadlineIsSoon,s=e.dateIsSameOrBefore,i=e.setDateTrigger,l=e.setCompleted,o=e.title,d=e.backgroundColor,u=e.status,j=Z(),O=Object(b.a)(j,1)[0],p=F(),m=Object(b.a)(p,1)[0];return Object(f.jsx)(Qt,{data:n,title:"Termin",children:Object(f.jsx)(f.Fragment,{children:n?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("input",{type:"checkbox",checked:r,onChange:function(){l(!r),O({_id:t,completed:!r}),m({_id:a})}}),Object(f.jsxs)("button",{onClick:function(){return i(!0)},className:ca.a.selectedDateBtn,children:[Object(f.jsx)("span",{children:mt()(n).format("DD-MM-YYYY HH:mm")}),s&&!r?Object(f.jsx)("span",{title:o,style:{backgroundColor:d},className:ca.a.notificationSpan,children:u}):null,c&&!r?Object(f.jsx)("span",{title:o,style:{backgroundColor:d},className:ca.a.notificationSpan,children:u}):null,r?Object(f.jsx)("span",{title:o,style:{backgroundColor:d},className:ca.a.notificationSpan,children:u}):null]})]}):null})})},ia=a(130),la=a.n(ia),oa=a(136),da=a(105),ua=a.n(da),ja=(a(173),function(e){var t=e.cardId,a=e.boardId,n=e.cardDeadline,r=e.setCardDeadline,c=e.trigger,s=e.setTrigger;mt.a.locale("pl"),Object(da.registerLocale)("pl",oa.a);var i=Z(),l=Object(b.a)(i,1)[0],o=F(),d=Object(b.a)(o,1)[0];return Object(f.jsxs)(ke,{title:"Data",trigger:c,closePopup:function(){return s(!1)},backToMainWindow:function(){return s(!1)},children:[Object(f.jsx)(ua.a,{dateFormat:"DD/MM/YYYY",timeFormat:"hh:mm",locale:"pl",selected:n,onChange:function(e){return r(e)},inline:!0,showTimeInput:!0,timeInputLabel:"Godzina:"}),Object(f.jsxs)("label",{children:["Termin ",Object(f.jsx)("br",{}),Object(f.jsx)("input",{style:{maxWidth:"100px",marginRight:"10px"},placeholder:mt()(n||new Date).format("DD/MM/YYYY")}),Object(f.jsx)("input",{style:{maxWidth:"100px"},placeholder:mt()(n||new Date).format("HH:mm")})]}),Object(f.jsxs)("div",{className:la.a.actionsForm,children:[Object(f.jsx)(Se,{onClick:function(e){e.preventDefault(),l({_id:t,deadline:n}),d({_id:a}),s(!1)},title:"Zapisz",type:"button",style:{marginRight:"1rem"}}),Object(f.jsx)(Se,{onClick:function(e){e.preventDefault(),r(null),l({_id:t,deadline:null}),d({_id:a}),s(!1)},title:"Usu\u0144",type:"reset"})]})]})}),ba=a(106),Oa=a.n(ba),pa=a(91),ma=a.n(pa),fa=function(e){var t=e.value,a=e.id,n=e.titleBtn,r=e.onBlur,c=e.onFocus,s=e.handleChange,i=e.handleSubmit,l=e.closeForm,o="list"===a?"Dodaj list\u0119 zada\u0144":"Dodaj now\u0105 kart\u0119";return Object(f.jsxs)("form",{className:ma.a.form,children:[Object(f.jsx)(jt.a,{id:a,maxRows:20,placeholder:o,value:t,className:ma.a.textarea,autoFocus:!0,onChange:s,onBlur:r,onFocus:c,onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.code||(e.stopPropagation(),i(e))},required:!0}),Object(f.jsxs)("div",{className:ma.a.buttonsWrapper,children:[Object(f.jsx)(Se,{title:n,type:"submit",onClick:i,style:{marginRight:"16px"}}),Object(f.jsx)(ye,{onClick:l,children:Object(f.jsx)(ge.e,{})})]})]})},xa=a(133),ha=function(e){var t=e.boardId,a=e.cardId,n=e.cardDescription,c=e.beforeDescription,s=e.setCardDescription,i=Z(),l=Object(b.a)(i,1)[0],o=F(),d=Object(b.a)(o,1)[0],u=Object(r.useState)(!1),j=Object(b.a)(u,2),O=j[0],p=j[1];return Object(f.jsxs)("div",{className:Oa.a.descriptionContainer,children:[Object(f.jsxs)("div",{className:Oa.a.descriptionHeader,children:[Object(f.jsx)("h4",{children:"Opis"}),Object(f.jsx)("div",{style:{maxWidth:"100px",marginLeft:"1rem"},children:O||void 0===n||""===n?null:Object(f.jsx)(lt,{onClick:function(){return p(!0)},name:"Edytuj",icon:Object(f.jsx)(ge.b,{}),style:{height:"30px"}})})]}),O?Object(f.jsx)(fa,{id:"card-description",handleChange:function(e){"card-description"===e.target.id&&s(e.target.value)},handleSubmit:function(e){e.preventDefault(),l({_id:a,description:n}),d({_id:t}),p(!1)},closeForm:function(){p(!1),s(c)},value:n,onFocus:function(e){return e.target.select()},titleBtn:"Zapisz"}):Object(f.jsx)("div",{children:""!==n&&void 0!==n?Object(f.jsx)("p",{onClick:function(){return p(!0)},children:n}):Object(f.jsx)(lt,{onClick:function(){return p(!0)},name:"Dodaj opis...",icon:Object(f.jsx)(xa.a,{})})})]})},_a=a(134),ya=a.n(_a),ga=a(60),va=a.n(ga),Ca=function(e){var t=e.created,a=e.title,n=e.src,r=e.type,c=e.index,s=e.active,i=e.handleDeleteFile,l=e.handleDownloadFile,o=e.handleSelectCover,d=r.split("/").pop();return Object(f.jsxs)("div",{className:va.a.attachment,children:[Object(f.jsx)("div",{className:va.a.fileImg,children:wt(n)?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{src:n,alt:"attachment-img"}),Object(f.jsx)("div",{className:va.a.checkboxWrapper,title:"ustaw ok\u0142adk\u0119",children:Object(f.jsx)("input",{type:"checkbox",checked:s===c,onChange:o,style:{height:"100%",width:"1rem",marginRight:"8px"}})})]}):Object(f.jsx)("p",{children:d})}),Object(f.jsxs)("div",{className:va.a.detailsContainer,children:[Object(f.jsx)("h4",{children:a}),Object(f.jsx)("span",{children:t}),Object(f.jsxs)("div",{className:va.a.buttonsWrapper,children:[Object(f.jsx)(lt,{style:{height:"25px",margin:"0 8px 0 0"},onClick:i,name:"Skasuj"}),Object(f.jsx)(lt,{style:{height:"25px",margin:"0"},onClick:l,name:"Pobierz"})]})]})]})},ka=function(e){var t=e.cardId,a=e.boardId,n=e.files,r=e.cardFileIndex,c=e.setCardCover,s=e.setCardFileIndex;mt.a.locale("pl");var i=Z(),l=Object(b.a)(i,1)[0],o=F(),d=Object(b.a)(o,1)[0],u=R(),j=Object(b.a)(u,1)[0];return Object(f.jsx)(Qt,{data:n,title:"Za\u0142\u0105czniki",children:null===n||void 0===n?void 0:n.map((function(e,i){return Object(f.jsx)(Ca,{title:e.fileName,created:"Dodano ".concat(mt()(e.createdAt).format("DD MMM")," o ").concat(mt()(e.createdAt).format("HH:mm")),active:r,index:i,src:"".concat(e.fileUrl),type:e.fileType,handleDeleteFile:function(){return r=e._id,void(window.confirm("Usun\u0105\u0107 plik?")&&(j(r),l({_id:t,files:n}),d({_id:a}),n.length?c(n[0].fileUrl):c("")));var r},handleDownloadFile:function(){return t=e.fileUrl,void p.a.get(t,{responseType:"blob"}).then((function(e){var a,n=t.replace(/^.*[\\\/]/,"");a=(a=t.split("."))[a.length-1],ya()(e.data,"".concat(n,".").concat(a))}));var t},handleSelectCover:function(){return function(e){s(e),c(n[e].fileUrl),l({_id:t,cover:n[e].fileUrl}),d({_id:a})}(i)}},e._id)}))})},wa=a(137),Na=a(70),Sa=a.n(Na),Ia=function(e){var t=e.name,a=e.listNames,n=e.type,r=e.handleInputState,c=e.handleSubmitFiles;return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{className:Sa.a.attachmentForm,children:[Object(f.jsxs)("label",{id:"formId",className:Sa.a.inputContainer,children:[Object(f.jsx)("input",{id:"formId",type:n,name:t,onChange:r,multiple:!0,hidden:!0}),"Dodaj za\u0142\u0105czniki"]}),Object(f.jsx)("div",{className:Sa.a.listContainer,children:a.map((function(e,t){return Object(f.jsx)("span",{className:Sa.a.nameFileSpan,children:e},t)}))}),a.length?Object(f.jsx)(Se,{title:"Za\u0142\u0105cz",type:"submit",onClick:c}):null]})})},La=function(e){var t=e.cardId,a=e.boardId,n=e.trigger,c=e.setTrigger,s=Z(),i=Object(b.a)(s,1)[0],l=F(),o=Object(b.a)(l,1)[0],d=Object(r.useState)([]),O=Object(b.a)(d,2),m=O[0],x=O[1],h=Object(r.useState)([]),_=Object(b.a)(h,2),y=_[0],g=_[1],v=Object(r.useState)(0),C=Object(b.a)(v,2),k=C[0],w=C[1],N=Object(r.useState)(null),S=Object(b.a)(N,2),I=S[0],L=S[1],z=Object(r.useCallback)((function(e){var t=e.target.files;if(null!==t){(null===t||void 0===t?void 0:t.length)&&x(Array.from(t));for(var a=[],n=0;n<t.length;n++)a.push(t[n].name),g(a)}L(!0),w(0)}),[]),T=function(){var e=Object(j.a)(u.a.mark((function e(n){var r,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),m.length){e.next=3;break}return e.abrupt("return");case 3:if(I){e.next=5;break}return e.abrupt("return");case 5:for((r=new FormData).append("cardId",t),s=0;s<m.length;s++)r.append("files",m[s]);return l={headers:{"content-type":"multipart/form-data"},onUploadProgress:function(e){var t=e.loaded,a=e.total,n=Math.floor(100*t/a);w(n)}},e.next=11,p.a.post("".concat("https://print-control-m-backend.herokuapp.com/","files"),r,l).then((function(e){i({_id:t}),o({_id:a}),L(!0),setTimeout((function(){w(0),g([]),c(!1)}),500)})).catch((function(e){console.log(e),L(!1)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(ke,{title:"Za\u0142\u0105czniki",trigger:n,closePopup:function(){return c(!1)},backToMainWindow:function(){return c(!1)},children:[Object(f.jsx)(Ia,{name:"za\u0142\u0105czniki",size:0,label:"za\u0142\u0105czniki",type:"file",listNames:y,handleInputState:z,handleSubmitFiles:T}),k>0?Object(f.jsxs)(f.Fragment,{children:[null!==I&&!0===I?Object(f.jsxs)("div",{children:[Object(f.jsx)(wa.a,{percent:k,strokeWidth:4,strokeColor:"#D3D3D3"}),Object(f.jsxs)("p",{children:[k,"%"]})]}):null,!1===I?Object(f.jsxs)("p",{style:{color:"red"},children:["B\u0142\u0105d przesy\u0142ania",Object(f.jsx)("small",{children:" (max 10mb, lub nieprawid\u0142owy format pliku)"})]}):null]}):null]})},Fa=a(135),za=a.n(Fa),Ta=function(e){var t=e.materials,a=e.setTrigger;return Object(f.jsx)(Qt,{data:t,title:"Wykorzystane materia\u0142y",children:Object(f.jsx)(f.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(f.jsx)("div",{className:za.a.materials,onClick:function(){return a(!0)},children:Object(f.jsxs)("span",{children:[e.name,": ",e.used," ",e.unit]})},e._id)}))})})},Da=a(61),Pa=a.n(Da),qa=a(82),Ba=function(e){var t=e.cardId,a=e.boardId,n=e.usedProducts,c=e.trigger,s=e.setTrigger,i=Y().data,l=F(),o=Object(b.a)(l,1)[0],d=Z(),u=Object(b.a)(d,1)[0],j=$(),O=Object(b.a)(j,1)[0],p=Object(r.useState)({}),m=Object(b.a)(p,2),x=m[0],h=m[1],_=Object(r.useState)(n),y=Object(b.a)(_,2),g=y[0],v=y[1],C=Object(r.useState)(!1),k=Object(b.a)(C,2),w=k[0],N=k[1];Object(r.useEffect)((function(){i&&h(i[0])}),[i]);var S=function(e){if(g||i){var t=e.target,a=t.id,r=t.valueAsNumber,c=[],s=Object(at.a)(g).findIndex((function(e){return e._id===a})),l=null===i||void 0===i?void 0:i.filter((function(e){return e._id===a})).map((function(e){return e.quantity}))[0],o=n[s].used?n[s].used:0;g.map((function(e,t){return c[t]=Object(me.a)({},e)})),-1!==s&&(c[s].used=r+o,c[s].quantity=l&&l+o,v(c),N(!0))}},I=Object(r.useCallback)((function(){Object(at.a)(g).map((function(e){O({_id:e._id,quantity:e.used?e.quantity-e.used:e.quantity})}))}),[g,O]),L=function(e){if(i){var t=Object(at.a)(i).filter((function(t){return t._id===e})).map((function(e){return e.quantity}))[0];return t||0}};return Object(f.jsx)(ke,{title:"Wykorzystane materia\u0142y",trigger:c,closePopup:function(){return s(!1)},children:Object(f.jsx)("div",{className:Pa.a.materialsFormContainer,children:Object(f.jsxs)("form",{className:Pa.a.materialsForm,onSubmit:function(e){e.preventDefault(),u({_id:t,usedProducts:g}),I(),o({_id:a}),N(!1)},children:[Object(f.jsx)("label",{htmlFor:"products",children:"Dodaj produkt z magazynu"}),Object(f.jsxs)("div",{className:Pa.a.selectContainer,children:[Object(f.jsx)("select",{id:"products",onChange:function(e){if(i){var t=Object(at.a)(i).find((function(t){return t._id===e.target.value}));h(t)}},children:i?i.map((function(e){return Object(f.jsx)("option",{value:e._id,children:e.name},e._id)})):null}),Object(f.jsx)(Se,{onClick:function(){if(Object(at.a)(g).find((function(e){return e._id===x._id})))return alert("produkt zosta\u0142 ju\u017c dodany do listy");var e=[].concat(Object(at.a)(g),[Object(me.a)(Object(me.a)({},x),{},{used:0})]);v(e),N(!0)},title:"Dodaj",type:"button",style:{height:"38px",marginLeft:"10px"}})]}),Object(f.jsx)("div",{className:Pa.a.materialsList,children:null===g||void 0===g?void 0:g.map((function(e){return Object(f.jsxs)("div",{className:Pa.a.formGroup,children:[Object(f.jsxs)("span",{children:[e.name," ",e.used?"".concat(e.used," ").concat(e.unit):null]}),Object(f.jsx)("input",{type:"text",name:"quantity",value:"stan: ".concat(L(e._id)," ").concat(e.unit),disabled:!0}),Object(f.jsx)("input",{id:e._id,type:"number",name:e.name,defaultValue:0,max:L(e._id),min:0,onChange:S}),Object(f.jsx)(ye,{onClick:function(){return function(e){if(g){var n=Object(at.a)(g).filter((function(t){return t._id!==e}));v(n),u({_id:t,usedProducts:n}),o({_id:a});var r=Number(Object(at.a)(g).filter((function(t){return t._id===e})).map((function(e){return e.quantity})));O({_id:e,quantity:r}),N(!0)}}(e._id)},style:{marginLeft:"8px"},children:Object(f.jsx)(qa.a,{fontSize:"14px"})})]},e._id)}))}),(null===g||void 0===g?void 0:g.length)?Object(f.jsx)(Se,{title:"Zapisz",type:"submit",style:{width:"100%",padding:"0.6rem"},disabled:!w}):null]})})})},Wa=function(e){var t=e._id,a=e.boardId,n=e.title,c=e.description,s=e.completed,i=e.labels,l=e.deadline,o=e.cover,d=e.files,u=e.usedProducts,j=e.listTitle,O=e.dateIsSameOrBefore,p=e.deadlineIsSoon,m=e.cardDateDisplay,x=e.cardFileIndex,h=e.setCardCompleted,_=e.setIsCardWindowOpen,y=e.setCardCover,g=e.setCardFileIndex,v=L(a).data,C=H(),k=Object(b.a)(C,1)[0],w=F(),N=Object(b.a)(w,1)[0],S=Object(r.useState)(!1),I=Object(b.a)(S,2),z=I[0],T=I[1],D=Object(r.useState)(!1),P=Object(b.a)(D,2),q=P[0],B=P[1],W=Object(r.useState)(!1),A=Object(b.a)(W,2),E=A[0],M=A[1],U=Object(r.useState)(!1),Z=Object(b.a)(U,2),Q=Z[0],R=Z[1],G=Object(r.useState)(!1),K=Object(b.a)(G,2),V=K[0],Y=K[1],J=Object(r.useState)(n),X=Object(b.a)(J,2),$=X[0],ee=X[1],te=Object(r.useState)(l?new Date(l):new Date),ae=Object(b.a)(te,2),ne=ae[0],re=ae[1],ce=Object(r.useState)(c),ie=Object(b.a)(ce,2),le=ie[0],oe=ie[1],je=Object(r.useState)([]),be=Object(b.a)(je,2),Oe=be[0],pe=be[1],me=Object(r.useState)(i),fe=Object(b.a)(me,2),xe=fe[0],he=fe[1],_e=Object(r.useRef)(null);return Object(r.useEffect)((function(){v&&pe(v.labels)}),[v]),ve(_e,_),Object(f.jsx)(Dt,{trigger:!0,closeModal:_,children:Object(f.jsxs)("div",{className:Ft.a.cardWindow,children:[Object(f.jsx)(Bt,{cover:o}),Object(f.jsx)(Et,{cardId:t,boardId:a,cardTitle:$,listTitle:j,setCardTitle:ee}),Object(f.jsxs)("div",{className:Ft.a.cardWindowWrapper,children:[Object(f.jsxs)("div",{className:Ft.a.cardWindowContent,children:[Object(f.jsx)(Rt,{cardLabels:xe,setLabelsTrigger:function(){return T(!0)}}),Object(f.jsx)(sa,{cardId:t,boardId:a,deadline:l,completed:s,deadlineIsSoon:p,dateIsSameOrBefore:O,setDateTrigger:B,setCompleted:h,title:m.title,backgroundColor:m.style.backgroundColor,status:m.status}),Object(f.jsx)(ha,{boardId:a,cardId:t,cardDescription:le,beforeDescription:c,setCardDescription:oe}),Object(f.jsx)(Ta,{materials:u,setTrigger:Y}),Object(f.jsx)(ka,{cardId:t,boardId:a,files:d,cardFileIndex:x,setCardCover:y,setCardFileIndex:g})]}),Object(f.jsxs)("div",{className:Ft.a.cardWindowSidebar,children:[Object(f.jsx)(na,{cardId:t,boardId:a,boardLabels:Oe,cardLabels:xe,setBoardLabels:pe,setCardLabels:he,trigger:z,setTrigger:T}),Object(f.jsx)(ja,{cardId:t,boardId:a,cardDeadline:ne,setCardDeadline:re,trigger:q,setTrigger:B}),Object(f.jsx)(La,{cardId:t,boardId:a,trigger:E,setTrigger:M}),Object(f.jsx)(Ba,{cardId:t,boardId:a,usedProducts:u,trigger:V,setTrigger:Y}),Object(f.jsx)(ke,{title:"Dodaj wycen\u0119",trigger:Q,closePopup:function(){return R(!1)},children:Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:"Is in progress ..."})})}),Object(f.jsx)(lt,{onClick:function(){return T(!0)},name:"Etykiety",icon:Object(f.jsx)(se.c,{})}),Object(f.jsx)(lt,{onClick:function(){return B(!0)},name:"Data",icon:Object(f.jsx)(ge.c,{})}),Object(f.jsx)(lt,{onClick:function(){return M(!0)},name:"Za\u0142\u0105cznik",icon:Object(f.jsx)(de.a,{})}),Object(f.jsx)(lt,{onClick:function(){return Y(!0)},name:"Magazyn",icon:Object(f.jsx)(ue.e,{})}),Object(f.jsx)(lt,{onClick:function(){return R(!0)},name:"Dodaj wycen\u0119",icon:Object(f.jsx)(ue.e,{})}),Object(f.jsx)("div",{className:Ft.a.divider}),Object(f.jsx)(lt,{onClick:function(){window.confirm("Usun\u0105\u0107 kart\u0119?")&&(k(t),N({_id:a}))},name:"Usu\u0144",icon:Object(f.jsx)(qa.a,{})})]})]})]})})},Aa=a(83),Ea=function(e){var t=e._id,a=e.boardId,n=e.title,c=e.index,s=e.listTitle,i=e.description,l=e.completed,o=e.labels,d=e.deadline,u=e.cover,j=e.files,O=e.usedProducts,p=e.createdAt,m=e.setIsDragDisabled,x=Z(),h=Object(b.a)(x,1)[0],_=F(),y=Object(b.a)(_,1)[0],g=Object(r.useState)(!1),v=Object(b.a)(g,2),C=v[0],k=v[1],w=Object(r.useState)(l),N=Object(b.a)(w,2),S=N[0],I=N[1],L=Object(r.useState)(Date.now()),z=Object(b.a)(L,2),T=z[0],D=z[1],P=Object(r.useState)(u),q=Object(b.a)(P,2),B=q[0],W=q[1],A=Object(r.useState)(0),E=Object(b.a)(A,2),M=E[0],U=E[1],H=Object(r.useState)(j),Q=Object(b.a)(H,2),R=Q[0],G=Q[1];mt.a.locale("pl"),mt.a.extend(xt.a),mt.a.extend(gt.a),mt.a.extend(_t.a);var K=Object(r.useRef)(null),V=kt(K);Object(r.useEffect)((function(){var e=setInterval((function(){return D(Date.now())}),1e5);return function(){return clearInterval(e)}}),[]),Object(r.useEffect)((function(){j&&G(j)}),[j]),Object(r.useEffect)((function(){Y()}),[R]),Object(r.useEffect)((function(){h({_id:t,cover:B}),y({_id:a})}),[B]);var Y=function(){if(R){var e=Object(at.a)(R),t=e.filter((function(e){return wt(e.fileUrl)})),a=t.find((function(e){return e.fileUrl===u})),n=t.indexOf(a),r=e.findIndex((function(e){return wt(e.fileUrl)}));t.length?n<0?(W(t[0].fileUrl),U(r)):(W(t[n].fileUrl),U(n)):W("")}},J=function(){k(!0),m(!0)},X=function(){I(!S),h({_id:t,completed:!S}),y({_id:a})},$=mt()(d).isSameOrBefore(T,"minute"),ee=mt()(d).diff(mt()(T),"minute",!0),te=ee<300&&ee>0,ae={style:{color:S||$||te?"white":"black",backgroundColor:S?"green":$?"red":te?"orange":"transparent"},title:S?"Ta karta zosta\u0142a uko\u0144czona":$?"Ta karta jest przeterminowana":te?"Deadline ".concat(mt()(d).fromNow()):"Karta jest na p\xf3\u017aniej",status:S?"zrealizowany":$?"termin przekroczony":te?"wkr\xf3tce":"",iconStyle:{marginRight:"5px",fontSize:"14px"}};return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:Ot.a.card,children:Object(f.jsx)(ct.b,{draggableId:t,index:c,children:function(e){return Object(f.jsx)("div",Object(me.a)(Object(me.a)(Object(me.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(f.jsxs)(It,{onClick:J,children:[R.length?Object(f.jsx)("div",{className:Ot.a.cardCover,style:{backgroundColor:B,backgroundImage:"url(".concat(B,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}):null,Object(f.jsxs)("div",{className:Ot.a.cardDetails,children:[o.length?Object(f.jsx)("div",{className:Ot.a.labelsContainer,onClick:J,children:o.map((function(e){return Object(f.jsx)("div",{title:"".concat(e.title),className:Ot.a.cardLabel,style:{backgroundColor:"".concat(e.color)}},e._id)}))}):null,Object(f.jsx)("p",{children:n}),Object(f.jsxs)("div",{className:Ot.a.iconsContainer,children:[Object(f.jsx)("div",{ref:K,children:d?Object(f.jsxs)("button",{className:Ot.a.dateBtn,onClick:X,style:ae.style,title:ae.title,children:[V?S?Object(f.jsx)(Aa.a,{style:ae.iconStyle}):Object(f.jsx)(Aa.b,{style:ae.iconStyle}):Object(f.jsx)(ge.c,{style:ae.iconStyle}),mt()(d).format("DD MMM")]}):null}),i?Object(f.jsx)("div",{className:Ot.a.icon,title:"Ta karta ma opis.",children:Object(f.jsx)(de.c,{onClick:J})}):null,R.length?Object(f.jsxs)("div",{className:Ot.a.icon,title:"Za\u0142\u0105czniki",children:[Object(f.jsx)(de.a,{}),Object(f.jsx)("span",{children:R.length})]}):null,(null===O||void 0===O?void 0:O.length)?Object(f.jsxs)("div",{className:Ot.a.icon,title:"Materia\u0142y",children:[Object(f.jsx)(ue.a,{}),Object(f.jsx)("span",{children:O.length})]}):null]})]})]})}))}})}),C?Object(f.jsx)(Wa,{_id:t,listTitle:s,title:n,description:i,boardId:a,deadline:d,labels:o,files:R,usedProducts:O,cover:B,completed:S,cardFileIndex:M,dateIsSameOrBefore:$,deadlineIsSoon:te,cardDateDisplay:ae,createdAt:p,setCardCompleted:I,setIsCardWindowOpen:function(){k(!1),m(!1)},setCardFileIndex:U,setCardCover:W}):null]})},Ma=a(57),Ua=function(e){var t=e._id,a=e.boardId,n=e.title,c=e.cards,s=e.index,i=U(),l=Object(b.a)(i,1)[0],o=F(),d=Object(b.a)(o,1)[0],u=q(),j=Object(b.a)(u,1)[0],O=B(),p=Object(b.a)(O,1)[0],m=W(),x=Object(b.a)(m,1)[0],h=Object(r.useState)(n),_=Object(b.a)(h,2),y=_[0],g=_[1],v=Object(r.useState)(""),C=Object(b.a)(v,2),k=C[0],w=C[1],N=Object(r.useState)(!1),S=Object(b.a)(N,2),I=S[0],L=S[1],z=Object(r.useState)(!1),T=Object(b.a)(z,2),D=T[0],P=T[1],A=Object(r.useState)(!1),E=Object(b.a)(A,2),M=E[0],H=E[1],Z=Object(r.useState)(!1),Q=Object(b.a)(Z,2),R=Q[0],G=Q[1],K=Object(r.useRef)(null),V=Object(ut.a)((function(e){j({_id:t,title:e})}),500),Y=function(e){"list"===e.target.id&&g(e.target.value),V(e.target.value)},J=function(e){"card"===e.target.id&&w(e.target.value)},X=function(e){"Enter"!==e.key&&"NumpadEnter"!==e.code||(e.stopPropagation(),P(!1))},$=function(e){e.preventDefault(),e.stopPropagation(),0!==k.length&&(l({boardId:a,listId:t,title:k}),d({_id:a}),L(!1),w(""))},ee=function(){x({_id:t}),d({_id:a}),G(!1)},te=function(){window.confirm("Usun\u0105\u0107 list\u0119?")&&(p(t),d({_id:a}))},ae=function(e){var n=Object(at.a)(c);"sort-from-oldest"===e&&n.sort((function(e,t){return+new Date(e.createdAt)-+new Date(t.createdAt)})),"sort-from-newest"===e&&n.sort((function(e,t){return+new Date(t.createdAt)-+new Date(e.createdAt)})),j({_id:t,cards:n}),d({_id:a}),G(!1),H(!1)};return ve(K,(function(){L(!1),w("")})),Object(f.jsx)("div",{children:Object(f.jsx)(ct.b,{draggableId:String(t),index:s,isDragDisabled:M,children:function(e){return Object(f.jsxs)("div",Object(me.a)(Object(me.a)(Object(me.a)({},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,className:dt.a.list,children:[Object(f.jsxs)("div",{className:dt.a.header,children:[Object(f.jsx)("div",{onClick:function(){return P(!0)},ref:K,children:D?Object(f.jsx)("div",{className:dt.a.titleWrapper,children:Object(f.jsx)(jt.a,{id:"list",autoFocus:!0,value:y,className:dt.a.textarea,onChange:Y,onFocus:function(e){return e.target.select()},onBlur:function(){return P(!1)},onKeyDown:X,required:!0})}):Object(f.jsx)("div",{className:dt.a.titleWrapper,children:Object(f.jsx)("h2",{children:y})})}),Object(f.jsx)(ye,{onClick:function(){G(!0),H(!0)},children:Object(f.jsx)(ge.d,{style:{fontSize:"1.3em"}})}),Object(f.jsx)(ke,{title:"Akcje listy",trigger:R,closePopup:function(){G(!1),H(!1)},top:"30px",right:"-30px",children:Object(f.jsxs)("div",{className:dt.a.popupContent,children:[c.length>1?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(lt,{onClick:function(){return ae("sort-from-newest")},name:"Sortuj karty od najnowszych"}),Object(f.jsx)(lt,{onClick:function(){return ae("sort-from-oldest")},name:"Sortuj karty od najstarszych"}),Object(f.jsx)("div",{className:dt.a.divider})]}):null,c.length?Object(f.jsx)(lt,{onClick:ee,name:"Usu\u0144 wszystkie karty"}):null,Object(f.jsx)(lt,{onClick:te,name:"Usu\u0144 list\u0119"})]})})]}),Object(f.jsx)(ct.c,{droppableId:String(t),type:"card",children:function(e){return Object(f.jsx)("div",Object(me.a)(Object(me.a)({},e.droppableProps),{},{ref:e.innerRef,children:Object(f.jsxs)("div",{className:dt.a.cardsContainer,children:[null===c||void 0===c?void 0:c.map((function(e,t){return Object(f.jsx)(Ea,{_id:e._id,index:t,boardId:a,title:e.title,deadline:e.deadline,completed:e.completed,description:e.description,labels:e.labels,files:e.files,cover:e.cover,usedProducts:e.usedProducts,listTitle:y,createdAt:e.createdAt,setIsDragDisabled:H},e._id)})),e.placeholder]})}))}}),Object(f.jsx)("div",{className:dt.a.listForm,children:I?Object(f.jsx)("div",{ref:K,children:Object(f.jsx)(fa,{id:"card",handleChange:J,handleSubmit:$,closeForm:function(){L(!1),w("")},value:k,titleBtn:"Dodaj Kart\u0119"})}):Object(f.jsx)(lt,{onClick:function(){return L(!0)},name:"Dodaj kart\u0119",icon:Object(f.jsx)(Ma.a,{})})})]}))}})})},Ha=function(e){var t=e._id,a=e.lists,n=P(),c=Object(b.a)(n,1)[0],s=q(),i=Object(b.a)(s,1)[0],l=Z(),o=Object(b.a)(l,1)[0],d=F(),u=Object(b.a)(d,1)[0],j=Object(r.useState)(""),O=Object(b.a)(j,2),p=O[0],m=O[1],x=Object(r.useState)(!1),h=Object(b.a)(x,2),_=h[0],y=h[1],g=Object(r.useState)([]),v=Object(b.a)(g,2),C=v[0],k=v[1],w=Object(r.useRef)(null);ve(w,(function(){y(!1),m("")})),Object(r.useEffect)((function(){a&&k(a)}),[a]);return Object(f.jsx)("div",{className:rt.a.board,children:Object(f.jsxs)(ct.a,{onDragEnd:function(e){var a=e.destination,n=e.source,r=e.type,c=e.draggableId,s=Object(at.a)(C);if(a&&(a.droppableId!==n.droppableId||a.index!==n.index)){if("list"===r){var l=s.splice(n.index,1),d=Object(b.a)(l,1)[0];s.splice(a.index,0,d),k(s),u({_id:t,lists:s})}if("card"===r){var j=s.find((function(e){return e._id===n.droppableId})),O=s.find((function(e){return e._id===a.droppableId}));if(n.droppableId===a.droppableId&&j){var p=Object(at.a)(j.cards),m=p.splice(n.index,1),f=Object(b.a)(m,1)[0];p.splice(a.index,0,f);var x=Object(me.a)(Object(me.a)({},j),{},{cards:p}),h=s.map((function(e){return[x].find((function(t){return t._id===e._id}))||e}));k(h),i({_id:n.droppableId,cards:p})}if(n.droppableId!==a.droppableId&&j&&O){var _=Object(at.a)(j.cards),y=Object(at.a)(O.cards),g=_.splice(n.index,1),v=Object(b.a)(g,1)[0],w=Object(me.a)(Object(me.a)({},j),{},{cards:_});y.splice(a.index,0,v);var N=[w,Object(me.a)(Object(me.a)({},O),{},{cards:y})],S=s.map((function(e){return N.find((function(t){return t._id===e._id}))||e}));k(S),o({_id:c,listId:a.droppableId}),i({_id:n.droppableId,cards:_}),i({_id:a.droppableId,cards:y})}}}},children:[Object(f.jsx)(ct.c,{droppableId:"all-list",direction:"horizontal",type:"list",children:function(e){return Object(f.jsxs)("div",Object(me.a)(Object(me.a)({className:rt.a.listContainer},e.droppableProps),{},{ref:e.innerRef,children:[null===C||void 0===C?void 0:C.map((function(e,t){return Object(f.jsx)(Ua,{_id:e._id,index:t,boardId:e.boardId,title:e.title,cards:e.cards},e._id)})),e.placeholder]}))}}),Object(f.jsx)("div",{className:rt.a.formContainer,children:_?Object(f.jsx)("div",{className:rt.a.addListForm,ref:w,children:Object(f.jsx)(fa,{id:"list",handleChange:function(e){"list"===e.target.id&&m(e.target.value)},handleSubmit:function(e){e.preventDefault(),0!==p.length&&(c({title:p,boardId:t}),u({_id:t}),m(""),y(!1))},closeForm:function(){y(!1),m("")},value:p,titleBtn:"Dodaj List\u0119"})}):Object(f.jsx)(lt,{onClick:function(){return y(!0)},name:"Dodaj list\u0119 zada\u0144",icon:Object(f.jsx)(Ma.a,{style:{margin:".3rem 0"}})})})]})})},Za=function(){var e=I(),t=e.data,a=e.error,n=e.isLoading;return Object(f.jsxs)(f.Fragment,{children:[a&&Object(f.jsx)(Me,{message:"Wyst\u0105pi\u0142 b\u0142\u0105d serwera, nie mo\u017cna wy\u015bwietli\u0107 zawarto\u015bci"}),n?Object(f.jsx)("div",{children:"Loading..."}):null===t||void 0===t?void 0:t.map((function(e){return Object(f.jsx)(Ha,{_id:e._id,lists:e.lists},e._id)}))]})},Qa=a(71),Ra=a.n(Qa),Ga=a(21),Ka=a.n(Ga),Va={required:!0,maxLength:40,minLength:2},Ya={required:!0,maxLength:20,minLength:2},Ja={required:!0,pattern:/[0-9]/g},Xa={required:!0,pattern:/[0-9]/g},$a=function(e){var t,a,n,c,s=e.defaultName,i=e.defaultCategory,l=e.defaultQuantity,o=e.defaultUnit,d=e.defaultPrice,u=e.categoryList,j=e.formTitle,O=e.message,p=e.handleSubmitForm,m=Object(r.useState)(!0),x=Object(b.a)(m,2),h=x[0],_=x[1],y=Object(De.a)(),g=y.register,v=y.handleSubmit,C=y.formState.errors;return Object(f.jsxs)("div",{className:Ka.a.productForm,children:[Object(f.jsx)("h2",{children:j}),Object(f.jsxs)("form",{onSubmit:v(p),children:[Object(f.jsx)("div",{className:Ka.a.message,children:O}),Object(f.jsxs)("div",{className:Ka.a.formContainer,children:[Object(f.jsxs)("div",{className:Ka.a.formGroup,children:[Object(f.jsxs)("div",{className:Ka.a.inputContainer,children:[Object(f.jsx)("label",{htmlFor:"name",children:"Nazwa"}),Object(f.jsx)(We,Object(me.a)({id:"name",placeholder:"Nazwa",label:"Nazwa",type:"text",defaultValue:s,error:C.name},g("name",Object(me.a)({},Va)))),function(e){switch(e){case"required":return Object(f.jsx)(Ye,{message:"Nazwa jest wymagana"});case"minLength":return Object(f.jsx)(Ye,{message:"Nazwa musi zawiera\u0107 conajmiej 2 znaki"});case"maxLength":return Object(f.jsx)(Ye,{message:"Nazwa mo\u017ce zawiera\u0107 maksymalnie 20 znak\xf3w"});default:return null}}(null===(t=C.name)||void 0===t?void 0:t.type)]}),Object(f.jsxs)("div",{className:Ka.a.inputContainer,children:[Object(f.jsx)("label",{htmlFor:"quantity",children:"Stan"}),Object(f.jsx)(We,Object(me.a)({id:"quantity",placeholder:"Stan",label:"Stan",type:"number",defaultValue:l,minValue:0,error:C.quantity},g("quantity",Object(me.a)({},Ja)))),function(e){switch(e){case"required":return Object(f.jsx)(Ye,{message:"Stan jest wymagany"});case"pattern":return Object(f.jsx)(Ye,{message:"Stan jest niepoprawny"});default:return null}}(null===(a=C.quantity)||void 0===a?void 0:a.type)]}),Object(f.jsxs)("div",{className:Ka.a.inputContainer,children:[Object(f.jsx)("label",{htmlFor:"price",children:"Cena"}),Object(f.jsx)(We,Object(me.a)({id:"price",placeholder:"Cena",label:"Cena",type:"number",step:"0.01",defaultValue:d,minValue:0,error:C.price},g("price",Object(me.a)({},Xa)))),function(e){switch(e){case"required":return Object(f.jsx)(Ye,{message:"Has\u0142o jest wymagane"});case"pattern":return Object(f.jsx)(Ye,{message:"Has\u0142o musi zawiera\u0107: co najmniej 8 znak\xf3w, 1 cyfr\u0119, 1 ma\u0142\u0105 liter\u0119 i 1 wielk\u0105 liter\u0119"});default:return null}}(null===(n=C.price)||void 0===n?void 0:n.type)]})]}),Object(f.jsxs)("div",{className:Ka.a.formGroup,children:[Object(f.jsxs)("div",{className:Ka.a.inputContainer,children:[Object(f.jsx)("label",{htmlFor:"unit",children:"Jednostka"}),Object(f.jsxs)("select",Object(me.a)(Object(me.a)({},g("unit")),{},{className:Ka.a.select,defaultValue:o,children:[Object(f.jsx)("option",{value:"szt",children:"szt"}),Object(f.jsx)("option",{value:"m2",children:"m2"}),Object(f.jsx)("option",{value:"mb",children:"mb"}),Object(f.jsx)("option",{value:"ark",children:"ark"}),Object(f.jsx)("option",{value:"ryz",children:"ryz"}),Object(f.jsx)("option",{value:"litry",children:"litry"}),Object(f.jsx)("option",{value:"inne",children:"inne"})]}))]}),Object(f.jsxs)("div",{className:Ka.a.inputContainer,children:[Object(f.jsxs)("div",{className:Ka.a.selectGroup,children:[Object(f.jsx)("input",{type:"checkbox",checked:h,onChange:function(){return _((function(e){return!e}))}}),Object(f.jsx)("label",{htmlFor:"category",children:"Dodaj now\u0105 kategori\u0119"})]}),Object(f.jsx)(We,Object(me.a)({id:"category",placeholder:"Dodaj kategori\u0119",label:"Kategoria",type:"text",defaultValue:i,error:C.category,disabled:!h},g("category",Object(me.a)({},Ya)))),function(e){switch(e){case"required":return Object(f.jsx)(Ye,{message:"Kategoria jest wymagana"});case"minLength":return Object(f.jsx)(Ye,{message:"Kategoria musi zawiera\u0107 conajmiej 2 znaki"});case"maxLength":return Object(f.jsx)(Ye,{message:"Kategoria mo\u017ce zawiera\u0107 maksymalnie 20 znak\xf3w"});default:return null}}(null===(c=C.category)||void 0===c?void 0:c.type)]}),Object(f.jsxs)("div",{className:Ka.a.inputContainer,children:[Object(f.jsxs)("div",{className:Ka.a.selectGroup,children:[Object(f.jsx)("input",{type:"checkbox",checked:!h,onChange:function(){return _((function(e){return!e}))}}),Object(f.jsx)("label",{htmlFor:"category",children:"Wybierz kategori\u0119"})]}),u?Object(f.jsx)("select",Object(me.a)(Object(me.a)({},!h&&Object(me.a)({},g("category"))),{},{className:Ka.a.select,disabled:h,defaultValue:i,children:Object.entries(u).map((function(e){var t=Object(b.a)(e,1)[0];return Object(f.jsx)("option",{value:t,children:t},t)}))})):null]})]})]}),Object(f.jsx)("div",{className:Ka.a.actionForm,children:Object(f.jsx)(Se,{title:"Zapisz",type:"submit",style:{width:"100%",padding:"0.8rem"}})})]})]})},en=a(62),tn=a.n(en),an=function(e){var t=e.categories,a=e.allCategoryValue,n=e.activeCategory,c=e.addNewProduct,s=e.handleFilterCategory,i=Object(r.useState)(!1),l=Object(b.a)(i,2),o=l[0],d=l[1];return Object(f.jsxs)("div",{className:tn.a.controls,children:[Object(f.jsx)(lt,{icon:Object(f.jsx)(Ma.a,{style:{color:"grey",fontSize:"1.2rem"}}),name:"Dodaj produkt",onClick:c,style:{width:"200px"}}),Object(f.jsxs)("div",{className:tn.a.filtersWrapper,children:[Object(f.jsx)("div",{className:tn.a.categoryName,children:Object(f.jsx)("h3",{children:n})}),Object(f.jsx)("div",{className:tn.a.filterBtn,children:Object(f.jsx)(lt,{icon:Object(f.jsx)(ge.a,{style:{color:"grey",fontSize:"1.2rem"}}),name:"Filtruj",onClick:function(){return d(!0)},style:{width:"200px"}})}),Object(f.jsx)(ke,{title:"Filtruj kategorie",trigger:o,closePopup:function(){return d(!1)},top:"10px",right:"10px",children:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(lt,{onClick:function(){return s(a)},name:a,style:{margin:"8px 0"}}),t?Object.entries(t).map((function(e){var t=Object(b.a)(e,1)[0];return Object(f.jsx)("div",{className:tn.a.popupContent,children:Object(f.jsx)(lt,{onClick:function(){return s(t)},name:t,style:{margin:"8px 0"}})},t)})):null]})})]})]})},nn=a(72),rn=a.n(nn),cn=a(58),sn=function(e){var t=e.data,a=e.children,n=e.sortProducts,c="ascending",s="descending",i=Object(r.useState)(c),l=Object(b.a)(i,2),o=l[0],d=l[1],u=Object(r.useState)(""),j=Object(b.a)(u,2),O=j[0],p=j[1],m=Object(r.useCallback)((function(e){var a=e.sortBy;if(t){var r=Object(at.a)(t);if(o===c){var i=r.sort((function(e,t){return e[a].toString().localeCompare(t[a].toString(),"pl",{numeric:!0})}));n(i),d(s)}if(o===s){var l=r.sort((function(e,t){return t[a].toString().localeCompare(e[a].toString(),"pl",{numeric:!0})}));n(l),d(c)}p(a)}}),[t,o,O]);return Object(f.jsxs)("div",{className:rn.a.productsList,children:[Object(f.jsx)("div",{className:rn.a.head,children:[{key:"name",label:"Nazwa",sortable:!0},{key:"category",label:"Kategoria",sortable:!0},{key:"quantity",label:"Stan",sortable:!0},{key:"unit",label:"Jedn.",sortable:!1},{key:"price",label:"Cena",sortable:!0},{key:"actions",label:"Akcje",sortable:!1}].map((function(e){return Object(f.jsx)("div",Object(me.a)(Object(me.a)({className:"".concat(rn.a.block," ").concat(e.sortable?rn.a.sortable:"")},e.sortable&&{onClick:function(){return m({sortBy:e.key})}}),{},{children:Object(f.jsxs)("span",{children:[e.label,e.sortable?O===e.key?o===s?Object(f.jsx)(cn.a,{}):Object(f.jsx)(cn.b,{}):Object(f.jsx)(cn.c,{color:"#d4d4df"}):null]})}),e.key)}))}),a]})},ln=a(40),on=a.n(ln),dn=function(e){var t=e.name,a=e.category,n=e.quantity,c=e.unit,s=e.price,i=e.editProd,l=e.deleteProd,o=Object(r.useState)(!1),d=Object(b.a)(o,2),u=d[0],j=d[1],O=0===n?"red":"initial";return Object(f.jsxs)("div",{className:on.a.product,style:{color:O},children:[Object(f.jsx)("div",{className:"".concat(on.a.block),children:Object(f.jsx)("span",{children:t})}),Object(f.jsx)("div",{className:"".concat(on.a.block),children:Object(f.jsx)("span",{children:a})}),Object(f.jsx)("div",{className:"".concat(on.a.block),children:Object(f.jsx)("span",{children:n})}),Object(f.jsx)("div",{className:"".concat(on.a.block),children:Object(f.jsx)("span",{children:c})}),Object(f.jsx)("div",{className:"".concat(on.a.block),children:Object(f.jsxs)("span",{children:[s," z\u0142"]})}),Object(f.jsx)("div",{className:"".concat(on.a.block),children:Object(f.jsx)(ye,{onClick:function(){return j(!0)},children:Object(f.jsx)(ue.c,{style:{fontSize:"1.2rem",color:"grey"}})})}),Object(f.jsx)(ke,{title:"Akcje produktu",trigger:u,closePopup:function(){return j(!1)},top:"10px",right:"10px",children:Object(f.jsxs)("div",{className:on.a.popupContent,children:[Object(f.jsx)(lt,{onClick:i,name:"Etytuj",style:{margin:"10px 0"}}),Object(f.jsx)(lt,{onClick:l,name:"Usu\u0144"})]})})]})},un=a(73),jn=a.n(un),bn=function(e){var t=e.data;return Object(f.jsxs)("div",{className:jn.a.categoriesList,children:[Object(f.jsxs)("div",{className:jn.a.titleWrapper,children:[Object(f.jsx)(ue.a,{fontSize:"1.5rem"}),Object(f.jsx)("h4",{children:"Magazyn"})]}),Object(f.jsx)("div",{className:jn.a.listWrapper,children:t?Object.entries(t).map((function(e){var t=Object(b.a)(e,2),a=t[0],n=t[1];return Object(f.jsxs)("div",{className:jn.a.box,children:[Object(f.jsx)("h5",{children:a}),Object(f.jsx)("span",{children:"ilo\u015b\u0107: ".concat(n)})]},a)})):null})]})},On=function(e){var t=e.data,a=X(),n=Object(b.a)(a,1)[0],c=J(),s=Object(b.a)(c,1)[0],i=$(),l=Object(b.a)(i,1)[0],o=Object(r.useState)(),d=Object(b.a)(o,2),u=d[0],j=d[1],O=Object(r.useState)(),p=Object(b.a)(O,2),m=p[0],x=p[1],h=Object(r.useState)(null),_=Object(b.a)(h,2),g=_[0],v=_[1],C=Object(r.useState)(!1),k=Object(b.a)(C,2),w=k[0],N=k[1],S=Object(r.useState)(!1),I=Object(b.a)(S,2),L=I[0],F=I[1],z=Object(r.useState)(!1),T=Object(b.a)(z,2),D=T[0],P=T[1],q="Wszystkie kategorie",B=Object(r.useState)(q),W=Object(b.a)(B,2),A=W[0],E=W[1];Object(r.useEffect)((function(){t&&(j(t),x(M(t)))}),[t]),Object(r.useEffect)((function(){var e=setTimeout((function(){return P(!1)}),1e3);return function(){clearTimeout(e)}}),[l]);var M=function(e){if(e)return Object(at.a)(e).map((function(e){return e.category})).reduce((function(e,t){return Object(me.a)(Object(me.a)({},e),{},Object(y.a)({},t,(e[t]||0)+1))}),{})};return Object(f.jsxs)("div",{className:Ra.a.storage,children:[Object(f.jsxs)("div",{className:Ra.a.content,children:[Object(f.jsx)("div",{className:Ra.a.top,children:Object(f.jsx)(bn,{data:m})}),Object(f.jsxs)("div",{className:Ra.a.bottom,children:[Object(f.jsx)(an,{addNewProduct:function(){return N(!0)},categories:m,handleFilterCategory:function(e){if(t){var a=Object(at.a)(t).filter((function(t){return t.category===e}));j(e!==q?a:t),E(e)}},activeCategory:A,allCategoryValue:q}),Object(f.jsx)(sn,{data:u,sortProducts:j,children:null===u||void 0===u?void 0:u.slice(0).reverse().map((function(e){return Object(f.jsx)(dn,{_id:e._id,name:e.name,category:e.category,quantity:e.quantity,unit:e.unit,price:e.price,editProd:function(){return t=e,F(!0),void v(t);var t},deleteProd:function(){window.confirm("Usun\u0105\u0107 produkt?")&&n(e._id)}},e._id)}))})]})]}),Object(f.jsx)(Dt,{trigger:w,closeModal:function(){return N(!1)},children:Object(f.jsx)($a,{categoryList:m,formTitle:"Dodaj produkt",handleSubmitForm:function(e){var t=e.name,a=e.category,n=e.quantity,r=e.unit,c=e.price;s({name:t,category:a,quantity:n,unit:r,price:c}),P(!0)},message:D?Object(f.jsx)(Je,{message:"Produkt zosta\u0142 dodany"}):null})}),Object(f.jsx)(Dt,{trigger:L,closeModal:function(){return F(!1)},children:g&&Object(f.jsx)($a,{formTitle:"Edytuj produkt",categoryList:m,defaultName:g.name,defaultCategory:g.category,defaultQuantity:g.quantity,defaultUnit:g.unit,defaultPrice:g.price,handleSubmitForm:function(e){var t=e.name,a=e.category,n=e.quantity,r=e.unit,c=e.price;l({_id:g._id,name:t,category:a,quantity:n,unit:r,price:c}),P(!0)},message:D?Object(f.jsx)(Je,{message:"Produkt zosta\u0142 zmieniony"}):null})})]})},pn=function(){var e=Y(),t=e.data,a=e.error,n=e.isLoading;return Object(f.jsxs)(f.Fragment,{children:[a&&Object(f.jsx)(Me,{message:"Wyst\u0105pi\u0142 b\u0142\u0105d serwera, nie mo\u017cna wy\u015bwietli\u0107 zawarto\u015bci"}),n?Object(f.jsx)("div",{children:"Loading..."}):Object(f.jsx)(On,{data:t})]})},mn=function(){return Object(f.jsx)("div",{style:{padding:"4rem"},children:Object(f.jsx)("h2",{children:"Is in progress..."})})},fn=function(){return Object(f.jsx)("div",{style:{padding:"4rem"},children:Object(f.jsx)("h2",{children:"Is in progress..."})})},xn=function(){return Object(f.jsx)("div",{style:{padding:"4rem"},children:Object(f.jsx)("h2",{children:"Is in progress..."})})},hn=function(){var e=_().user;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(m.e,{children:e?Object(f.jsxs)(m.c,{element:Object(f.jsx)(Fe,{}),children:[Object(f.jsx)(m.c,{path:"/zadania",element:Object(f.jsx)(Za,{})}),Object(f.jsx)(m.c,{path:"/magazyn",element:Object(f.jsx)(pn,{})}),Object(f.jsx)(m.c,{path:"/kalkulator",element:Object(f.jsx)(mn,{})}),Object(f.jsx)(m.c,{path:"/statystyki",element:Object(f.jsx)(fn,{})}),Object(f.jsx)(m.c,{path:"/ustawienia",element:Object(f.jsx)(xn,{})}),Object(f.jsx)(m.c,{path:"/*",element:Object(f.jsx)(m.a,{replace:!0,to:"/zadania"})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m.c,{path:"/logowanie",element:Object(f.jsx)(Ge,{})}),Object(f.jsx)(m.c,{path:"/rejestracja",element:Object(f.jsx)(tt,{})}),Object(f.jsx)(m.c,{path:"/*",element:Object(f.jsx)(m.a,{replace:!0,to:"/logowanie"})})]})})})};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(te,{children:Object(f.jsx)(hn,{})})}),document.getElementById("root"))},26:function(e,t,a){e.exports={nav:"styles_nav__2JNfC",navHidden:"styles_navHidden__oQyUu",switchButton:"styles_switchButton__2FMq5",switchButtonHidden:"styles_switchButtonHidden__WrAtf",linksContainer:"styles_linksContainer__13Tdb",navItem:"styles_navItem__1XbL9",navLink:"styles_navLink__1DFB4",icon:"styles_icon__d5IPB",active:"styles_active__1qHPd",divider:"styles_divider__1FaYq"}},32:function(e,t,a){e.exports={card:"styles_card__3YPWK",cardCover:"styles_cardCover__3tjcd",cardDetails:"styles_cardDetails__3OCtK",labelsContainer:"styles_labelsContainer__IdiPL",cardLabel:"styles_cardLabel__3x_F_",iconsContainer:"styles_iconsContainer__3B_Ww",dateBtn:"styles_dateBtn__2m4qV",icon:"styles_icon__N6Uwv"}},37:function(e,t,a){e.exports={list:"styles_list__2LlJK",header:"styles_header__1Z26C",titleWrapper:"styles_titleWrapper__1ijmQ",textarea:"styles_textarea__3ZfMb",popupContent:"styles_popupContent__1l07L",cardsContainer:"styles_cardsContainer__10L28",listForm:"styles_listForm__Zoo9s",divider:"styles_divider__3Z9MO"}},39:function(e,t,a){e.exports={wrapper:"styles_wrapper__1Q7lS",validateWrapper:"styles_validateWrapper__2SnbK",success:"styles_success__2OtKq",error:"styles_error__1QR-F",validate:"styles_validate__2zM6k"}},40:function(e,t,a){e.exports={product:"styles_product__1uNpm",block:"styles_block__LpmRW"}},45:function(e,t,a){e.exports={auth:"styles_auth__2XZIN",formContainer:"styles_formContainer__36swo",form:"styles_form__3ypda",left:"styles_left__3JtDN",right:"styles_right__2Hn8I",whiteBtn:"styles_whiteBtn__dnq7_",blueBtn:"styles_blueBtn__1ISzc"}},46:function(e,t,a){e.exports={auth:"styles_auth__9CGTo",formContainer:"styles_formContainer__1ei0n",form:"styles_form__1AjUC",left:"styles_left__2ismh",right:"styles_right__38iqU",whiteBtn:"styles_whiteBtn__12_EK",blueBtn:"styles_blueBtn__1uSPa"}},47:function(e,t,a){e.exports={labelForm:"styles_labelForm__3KGM8",textarea:"styles_textarea__2r6P0",colorsPalette:"styles_colorsPalette__3apxz",pickerSwatches:"styles_pickerSwatches__wJbKY",pickerSwatch:"styles_pickerSwatch__1dStS",buttonsWrapper:"styles_buttonsWrapper__bZrAX"}},49:function(e,t,a){e.exports={header:"styles_header__1HOhW",logoContainer:"styles_logoContainer__1IZjk",userInfo:"styles_userInfo__1vJnt",userSignature:"styles_userSignature__JuTHm",userActionBtn:"styles_userActionBtn__8x7YL"}},59:function(e,t,a){e.exports={cardWindow:"styles_cardWindow__3fDol",cardWindowWrapper:"styles_cardWindowWrapper__ujQKY",cardWindowContent:"styles_cardWindowContent__2nja3",cardWindowSidebar:"styles_cardWindowSidebar__2iyMJ"}},60:function(e,t,a){e.exports={attachment:"styles_attachment__25vof",fileImg:"styles_fileImg__19LL-",checkboxWrapper:"styles_checkboxWrapper__2p69j",detailsContainer:"styles_detailsContainer__XlN-T",buttonsWrapper:"styles_buttonsWrapper__rADL9"}},61:function(e,t,a){e.exports={materialsFormContainer:"styles_materialsFormContainer__1FUX-",materialsForm:"styles_materialsForm__ffzAe",selectContainer:"styles_selectContainer__24Q14",materialsList:"styles_materialsList__PNqMm",formGroup:"styles_formGroup__1oQch"}},62:function(e,t,a){e.exports={controls:"styles_controls__e15vX",filtersWrapper:"styles_filtersWrapper__1TskM",filterBtn:"styles_filterBtn__8l8TC"}},67:function(e,t,a){e.exports={layout:"styles_layout__26wyt",header:"styles_header__15M0d",navigation:"styles_navigation__2OA_s",pages:"styles_pages__TSa_W"}},68:function(e,t,a){e.exports={board:"styles_board__1LcUD",listContainer:"styles_listContainer__20KZG",formContainer:"styles_formContainer__1Jcra",addListForm:"styles_addListForm__1LlSd"}},69:function(e,t,a){e.exports={notificationSpan:"styles_notificationSpan__3JSzF",selectedDateBtn:"styles_selectedDateBtn__zGtuM"}},70:function(e,t,a){e.exports={attachmentForm:"styles_attachmentForm__35dsn",inputContainer:"styles_inputContainer__Cd2DZ",listContainer:"styles_listContainer__2amd4"}},71:function(e,t,a){e.exports={storage:"styles_storage__22qJ3",content:"styles_content__19sg_",top:"styles_top__2KYAn",bottom:"styles_bottom__17AQS"}},72:function(e,t,a){e.exports={productsList:"styles_productsList__3Fp0Y",head:"styles_head__egO-Y",block:"styles_block__36pkB",sortable:"styles_sortable__1-zpP"}},73:function(e,t,a){e.exports={categoriesList:"styles_categoriesList__3sWDt",titleWrapper:"styles_titleWrapper__32XOY",listWrapper:"styles_listWrapper__1XscU",box:"styles_box__3y_wB"}},87:function(e,t,a){e.exports={popup:"styles_popup__1Jc4w",header:"styles_header__3ANqf",popupContent:"styles_popupContent__3P6hY"}},88:function(e,t,a){e.exports={box:"styles_box__1PsiF",wrapper:"styles_wrapper__3es70",clickableArea:"styles_clickableArea__mdMjk"}},89:function(e,t,a){e.exports={overlay:"styles_overlay__LtLkb",modal:"styles_modal__1hzmg",header:"styles_header__Khp8x"}},90:function(e,t,a){e.exports={cardTitle:"styles_cardTitle__1bZzV",cardTitleContainer:"styles_cardTitleContainer__2yuVm",cardTitleTextarea:"styles_cardTitleTextarea__Aq5si"}},91:function(e,t,a){e.exports={form:"styles_form__2Bdul",textarea:"styles_textarea__386pv",buttonsWrapper:"styles_buttonsWrapper__1a-TD"}}},[[216,1,2]]]);
//# sourceMappingURL=main.5ec3c2ef.chunk.js.map