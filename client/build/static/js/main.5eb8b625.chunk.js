(this["webpackJsonpprint-management"]=this["webpackJsonpprint-management"]||[]).push([[0],{111:function(e,t,a){e.exports={loadingContainer:"styles_loadingContainer__1bcJk"}},113:function(e,t,a){e.exports={input:"styles_input__1cKbP",error:"styles_error__2mt9a"}},117:function(e,t,a){e.exports={button:"styles_button__2U68g"}},118:function(e,t,a){e.exports={iconButton:"styles_iconButton__12sp6"}},136:function(e,t,a){},17:function(e,t,a){e.exports={container:"styles_container__2Wksr",cardCover:"styles_cardCover__2lm_h",cardModalHeader:"styles_cardModalHeader__3aWP1",cardModalHeaderTextarea:"styles_cardModalHeaderTextarea__1q8aD",cardModalTextareaTitle:"styles_cardModalTextareaTitle__39NFj",groupWrapper:"styles_groupWrapper__Z8PwQ",content:"styles_content__ul5DA",descriptionContainer:"styles_descriptionContainer__25uRd",descriptionHeader:"styles_descriptionHeader__3k9ZG",actionsForm:"styles_actionsForm__3Ld_q",cardModalSidebar:"styles_cardModalSidebar__2BjPJ",divider:"styles_divider__R3UMs",cardModalLabels:"styles_cardModalLabels__36ET-",cardModalLabelsList:"styles_cardModalLabelsList__xKnwB",cardModalLabel:"styles_cardModalLabel__bpqjs",dateNotificationSpan:"styles_dateNotificationSpan__1mGne",cardModalSelectedDateBtn:"styles_cardModalSelectedDateBtn__1VzSD"}},208:function(e,t,a){"use strict";a.r(t);var n,c=a(2),r=a.n(c),s=a(39),i=a.n(s),l=(a(136),a(20)),o=a(27),d=a(11),u=a.n(d),j=a(15),b=a(4),O=a(40),m=a.n(O),p=a(12),f=a(1),x=Object(c.createContext)(null),h=function(e){var t=e.children,a=function(){var e=Object(c.useState)(null),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),s=Object(b.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(!1),d=Object(b.a)(o,2),O=d[0],f=d[1],x=Object(p.h)();Object(c.useEffect)((function(){var e=localStorage.getItem("token")||null;e&&Object(j.a)(u.a.mark((function t(){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.get("".concat("https://print-control-m-backend.herokuapp.com/","users/me"),{headers:{authorization:"Bearer ".concat(e)}});case 3:a=t.sent,c=a.data,n(c),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[]);var h=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,c,r,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,c=t.password,r={headers:{"Content-type":"application/json"}},f(!0),e.prev=3,e.next=6,m.a.post("".concat("https://print-control-m-backend.herokuapp.com/","users/login"),{email:a,password:c},r);case 6:s=e.sent,i=s.data,f(!1),n(i),localStorage.setItem("token",i.token),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),f(!1),l(e.t0.response.data.message);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.email,c=t.password,r={headers:{"Content-type":"application/json"}},f(!0),e.prev=3,e.next=6,m.a.post("".concat("https://print-control-m-backend.herokuapp.com/","users"),{name:a,email:n,password:c},r);case 6:f(!1),x("/logowanie"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),f(!1),l(e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return{user:a,loading:O,error:i,signIn:h,signUp:_,signOut:function(){n(null),localStorage.removeItem("token")}}}();return Object(f.jsx)(x.Provider,{value:a,children:t})},_=function(){var e=Object(c.useContext)(x);if(!e)throw new Error("useAuth needs to be used inside AuthContext");return e},y=a(23),g=a(9),v=a(14),k=a(34),C=a(25),w=["_id"],N=localStorage.getItem("token")||null,S=Object(k.a)({reducerPath:"boardApi",baseQuery:Object(C.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/",prepareHeaders:function(e){var t=localStorage.getItem("token");return t&&e.set("authorization","Bearer ".concat(t)),e}}),tagTypes:["Board"],refetchOnMountOrArgChange:!!N,endpoints:function(e){return{getAllBoards:e.query({query:function(){return"boards"},providesTags:["Board"]}),getBoard:e.query({query:function(e){return{url:"boards/".concat(e)}},providesTags:["Board"]}),createBoard:e.mutation({query:function(e){return{url:"boards",method:"POST",body:e}},invalidatesTags:["Board"]}),updateBoard:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,w);return{url:"boards/".concat(t),method:"PATCH",body:a}},invalidatesTags:["Board"]})}}}),z=S.useGetAllBoardsQuery,L=S.useGetBoardQuery,F=(S.useCreateBoardMutation,S.useUpdateBoardMutation),D=["_id"],I=["_id"],P=Object(k.a)({reducerPath:"listApi",baseQuery:Object(C.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/"}),tagTypes:["List"],endpoints:function(e){return{getAllLists:e.query({query:function(){return"lists"},providesTags:["List"]}),getList:e.query({query:function(e){return"lists/".concat(e)},providesTags:["List"]}),addList:e.mutation({query:function(e){return{url:"lists",method:"POST",body:e}},invalidatesTags:["List"]}),updateList:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,D);return{url:"lists/".concat(t),method:"PATCH",body:a}},invalidatesTags:["List"]}),deleteList:e.mutation({query:function(e){return{url:"lists/".concat(e),method:"DELETE"}},invalidatesTags:["List"]}),deleteAllCardsOfList:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,I);return{url:"lists/".concat(t,"/cards"),method:"PATCH",body:a}},invalidatesTags:["List"]})}}}),T=(P.useGetAllListsQuery,P.useGetListQuery,P.useAddListMutation),q=P.useUpdateListMutation,M=P.useDeleteListMutation,B=P.useDeleteAllCardsOfListMutation,A=["_id"],E=Object(k.a)({reducerPath:"cardsApi",baseQuery:Object(C.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/"}),tagTypes:["Cards"],endpoints:function(e){return{getAllCards:e.query({query:function(){return"cards"},providesTags:["Cards"]}),getCard:e.query({query:function(e){return"cards/".concat(e)},providesTags:["Cards"]}),addCard:e.mutation({query:function(e){return{url:"cards",method:"POST",body:e}},invalidatesTags:["Cards"]}),updateCard:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,A);return{url:"cards/".concat(t),method:"PATCH",body:a}},invalidatesTags:["Cards"]}),deleteCard:e.mutation({query:function(e){return{url:"cards/".concat(e),method:"DELETE"}},invalidatesTags:["Cards"]})}}}),H=E.useGetAllCardsQuery,R=(E.useGetCardQuery,E.useAddCardMutation),W=E.useDeleteCardMutation,U=E.useUpdateCardMutation,Z=Object(k.a)({reducerPath:"filesApi",baseQuery:Object(C.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/"}),tagTypes:["Files"],endpoints:function(e){return{getAllFiles:e.query({query:function(){return"files"},providesTags:["Files"]}),getFile:e.query({query:function(e){return"files/".concat(e)},providesTags:["Files"]}),uploadFile:e.mutation({query:function(e){return{url:"files",method:"POST",body:e}},invalidatesTags:["Files"]}),deleteFile:e.mutation({query:function(e){return{url:"files/".concat(e),method:"DELETE"}},invalidatesTags:["Files"]}),downloadFile:e.mutation({query:function(e){return{url:"files/".concat(e),method:"GET"}},invalidatesTags:["Files"]})}}}),G=(Z.useGetAllFilesQuery,Z.useGetFileQuery,Z.useUploadFileMutation,Z.useDeleteFileMutation),Q=(Z.useDownloadFileMutation,["_id"]),V=localStorage.getItem("token")||null,Y=Object(k.a)({reducerPath:"productsApi",baseQuery:Object(C.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/",prepareHeaders:function(e){var t=localStorage.getItem("token")||null;return t&&e.set("authorization","Bearer ".concat(t)),e}}),refetchOnMountOrArgChange:!!V,tagTypes:["Products"],endpoints:function(e){return{getAllProducts:e.query({query:function(){return"products"},providesTags:["Products"]}),getProduct:e.query({query:function(e){return"products/".concat(e)},providesTags:["Products"]}),addProduct:e.mutation({query:function(e){return{url:"products",method:"POST",body:e}},invalidatesTags:["Products"]}),updateProduct:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,Q);return{url:"products/".concat(t),method:"PATCH",body:a}},invalidatesTags:["Products"]}),deleteProduct:e.mutation({query:function(e){return{url:"products/".concat(e),method:"DELETE"}},invalidatesTags:["Products"]})}}}),K=Y.useGetAllProductsQuery,J=(Y.useGetProductQuery,Y.useAddProductMutation),X=Y.useDeleteProductMutation,$=Y.useUpdateProductMutation,ee=Object(g.a)({reducer:(n={},Object(y.a)(n,S.reducerPath,S.reducer),Object(y.a)(n,P.reducerPath,P.reducer),Object(y.a)(n,E.reducerPath,E.reducer),Object(y.a)(n,Z.reducerPath,Z.reducer),Object(y.a)(n,Y.reducerPath,Y.reducer),n),middleware:function(e){return e().concat(S.middleware,P.middleware,E.middleware,Z.middleware,Y.middleware)}}),te=function(e){var t=e.children;return Object(f.jsx)(l.a,{store:ee,children:Object(f.jsx)(o.a,{children:Object(f.jsx)(h,{children:t})})})},ae=a(5),ne=a(46),ce=a.n(ne),re=a(112),se=a.n(re),ie=a(111),le=a.n(ie),oe=function(){return Object(f.jsx)("div",{className:le.a.loadingContainer,children:Object(f.jsx)(se.a,{size:40})})},de=a(54),ue=a(113),je=a.n(ue),be=["id","name","label","type","placeholder","disabled","onChange","value","defaultValue","step","minValue"],Oe=Object(c.forwardRef)((function(e,t){var a=e.id,n=e.name,c=e.label,r=e.type,s=e.placeholder,i=e.disabled,l=e.onChange,o=e.value,d=e.defaultValue,u=e.step,j=e.minValue,b=Object(v.a)(e,be);return Object(f.jsx)("input",Object(ae.a)({id:a,ref:t,name:n,type:r,value:o,defaultValue:d,"aria-label":c,placeholder:s,step:u,min:j,onChange:l,disabled:i,className:je.a.input},b))})),me=a(95),pe=a.n(me),fe=function(e){var t=e.message;return Object(f.jsx)("div",{className:pe.a.wrapper,children:Object(f.jsx)("span",{className:pe.a.span,children:t})})},xe=function(){var e=_(),t=e.loading,a=e.error,n=e.signIn,c=Object(de.a)(),r=c.register,s=c.handleSubmit,i=c.formState.errors;return Object(f.jsx)("div",{className:ce.a.container,children:Object(f.jsxs)("div",{className:ce.a.login_formContainer,children:[Object(f.jsxs)("div",{className:ce.a.left,children:[t?Object(f.jsx)(oe,{}):null,Object(f.jsxs)("form",{className:ce.a.form_container,onSubmit:s(n),children:[Object(f.jsx)("h1",{children:"Zaloguj si\u0119"}),Object(f.jsx)(Oe,Object(ae.a)({id:"email",placeholder:"email",label:"Email",type:"text"},r("email",{required:!0}))),i.email&&Object(f.jsx)(fe,{message:"Email jest wymagany"}),Object(f.jsx)(Oe,Object(ae.a)({id:"password",placeholder:"password",label:"Password",type:"password"},r("password",{required:!0}))),i.password&&Object(f.jsx)(fe,{message:"Has\u0142o jest wymagane"}),a&&Object(f.jsx)(fe,{message:"Email lub has\u0142o jest nieprawid\u0142owe"}),Object(f.jsx)("button",{type:"submit",className:ce.a.green_btn,children:"Logowanie"})]})]}),Object(f.jsxs)("div",{className:ce.a.right,children:[Object(f.jsx)("h1",{children:"Zarejestruj si\u0119"})," ",Object(f.jsx)("br",{}),Object(f.jsx)(o.b,{to:"/rejestracja",children:Object(f.jsx)("button",{type:"button",className:ce.a.white_btn,children:"Rejestracja"})})]})]})})},he=a(47),_e=a.n(he),ye={required:!0,maxLength:20,minLength:2},ge={required:!0,pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},ve={required:!0,pattern:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/},ke=function(){var e,t,a,n=_(),c=n.loading,r=n.signUp,s=Object(de.a)(),i=s.register,l=s.handleSubmit,d=s.watch,u=s.formState.errors;return Object(f.jsx)("div",{className:_e.a.container,children:Object(f.jsxs)("div",{className:_e.a.signup_formContainer,children:[Object(f.jsxs)("div",{className:_e.a.left,children:[Object(f.jsx)("h1",{children:"Zaloguj si\u0119"}),Object(f.jsx)("br",{}),Object(f.jsx)(o.b,{to:"/logowanie",children:Object(f.jsx)("button",{type:"button",className:_e.a.white_btn,children:"Logowanie"})})]}),Object(f.jsxs)("div",{className:_e.a.right,children:[c?Object(f.jsx)(oe,{}):null,Object(f.jsxs)("form",{className:_e.a.form_container,onSubmit:l(r),children:[Object(f.jsx)("h1",{children:"Utw\xf3rz konto"}),Object(f.jsx)(Oe,Object(ae.a)({id:"name",placeholder:"Imi\u0119",label:"Imi\u0119",type:"text",error:u.name},i("name",Object(ae.a)({},ye)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Imi\u0119 jest wymagane"});case"minLength":return Object(f.jsx)(fe,{message:"Imi\u0119 musi zawiera\u0107 conajmiej 2 znaki"});case"maxLength":return Object(f.jsx)(fe,{message:"Imi\u0119 mo\u017ce zawiera\u0107 maksymalnie 20 znak\xf3w"});default:return null}}(null===(e=u.name)||void 0===e?void 0:e.type),Object(f.jsx)(Oe,Object(ae.a)({id:"email",placeholder:"email",label:"Email",type:"text"},i("email",Object(ae.a)({},ge)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Email jest wymagany"});case"pattern":return Object(f.jsx)(fe,{message:"Email jest niepoprawny"});default:return null}}(null===(t=u.email)||void 0===t?void 0:t.type),Object(f.jsx)(Oe,Object(ae.a)({id:"password",placeholder:"password",label:"Password",type:"password"},i("password",Object(ae.a)({},ve)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Has\u0142o jest wymagane"});case"pattern":return Object(f.jsx)(fe,{message:"Has\u0142o musi zawiera\u0107: co najmniej 8 znak\xf3w, 1 cyfr\u0119, 1 ma\u0142\u0105 liter\u0119 i 1 wielk\u0105 liter\u0119"});default:return null}}(null===(a=u.password)||void 0===a?void 0:a.type),Object(f.jsx)(Oe,Object(ae.a)({id:"confirm_password",placeholder:"confirm password",label:"Confirm Password",type:"password"},i("confirm_password",{required:!0,validate:function(e){return e===d("password")}}))),u.confirm_password&&Object(f.jsx)(fe,{message:"Wpisz poprawne has\u0142o"}),Object(f.jsx)("button",{type:"submit",className:_e.a.green_btn,children:"Rejestracja"})]})]})]})})},Ce=a(61),we=a.n(Ce),Ne=a(26),Se=a.n(Ne),ze=a(55),Le=a(114),Fe=a(115),De=a(116),Ie=a(43),Pe=a(31),Te=[{name:"Zadania",path:"/zadania",icon:Object(f.jsx)(Ie.b,{})},{name:"Magazyn",path:"/magazyn",icon:Object(f.jsx)(Pe.a,{})},{name:"Kalkulator",path:"/kalkulator",icon:Object(f.jsx)(Le.a,{})},{name:"Statystyki",path:"/statystyki",icon:Object(f.jsx)(Fe.a,{})},{name:"Ustawienia",path:"/ustawienia",icon:Object(f.jsx)(De.a,{})}],qe=function(){var e=Object(p.g)(),t=Object(c.useState)(!0),a=Object(b.a)(t,2),n=a[0],r=a[1];return Object(f.jsxs)("nav",{className:"".concat(Se.a.sidebar," ").concat(n?Se.a.sidebarHidden:Se.a.sidebar),children:[Object(f.jsx)("button",{className:"".concat(Se.a.navButton," ").concat(n?Se.a.navButton:Se.a.navButtonHidden),onClick:function(){return r((function(e){return!e}))},children:Object(f.jsx)(ze.a,{})}),Object(f.jsx)("ul",{className:Se.a.linksContainer,children:Te.map((function(t){return Object(f.jsx)("li",{className:Se.a.navItem,children:Object(f.jsx)(o.b,{to:t.path,children:Object(f.jsxs)("div",{className:"".concat(Se.a.navLink," ").concat(e.pathname===t.path?Se.a.active:Se.a.navLink),children:[Object(f.jsx)("div",{className:Se.a.icon,children:t.icon}),Object(f.jsx)("p",{children:n?null:t.name})]})})},t.name)}))}),Object(f.jsx)("div",{className:Se.a.divider})]})},Me=a(50),Be=a.n(Me),Ae=a(117),Ee=a.n(Ae),He=["title","style","onClick"],Re=function(e){var t=e.title,a=e.style,n=e.onClick,c=Object(v.a)(e,He);return Object(f.jsx)("button",Object(ae.a)(Object(ae.a)({className:Ee.a.button,style:a,onClick:n},c),{},{children:t}))},We=a(82),Ue=a.n(We),Ze=a(118),Ge=a.n(Ze),Qe=function(e){return Object(f.jsx)("button",{className:Ge.a.iconButton,onClick:e.onClick,type:"button",style:e.style,children:e.children})},Ve=a(18);var Ye=function(e,t){Object(c.useEffect)((function(){var a=function(a){var n=null===e||void 0===e?void 0:e.current;n&&!n.contains(a.target)&&t(a)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),function(){document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}}),[e,t])},Ke=["children","trigger","title","isEditWindow","closePopup","backToMainWindow"],Je=function(e){var t=e.children,a=e.trigger,n=e.title,r=e.isEditWindow,s=e.closePopup,i=e.backToMainWindow,l=Object(v.a)(e,Ke),o=Object(c.useRef)(null);return Ye(o,s),a?Object(f.jsxs)("div",{className:Ue.a.popup,ref:o,style:Object(ae.a)({},l),children:[Object(f.jsxs)("div",{className:Ue.a.header,children:[r?Object(f.jsx)(Qe,{onClick:i,children:Object(f.jsx)(ze.b,{})}):null,Object(f.jsx)("h3",{children:n}),Object(f.jsx)(Qe,{onClick:s,children:Object(f.jsx)(Ve.e,{})})]}),Object(f.jsx)("div",{className:Ue.a.popupContent,children:t})]}):null},Xe=a.p+"static/media/logo.7eca49e8.svg",$e=function(){var e=_(),t=e.user,a=e.signOut,n=Object(c.useState)(!1),r=Object(b.a)(n,2),s=r[0],i=r[1],l=t?t.name.charAt(0):"";return Object(f.jsxs)("div",{className:Be.a.container,children:[Object(f.jsx)("div",{className:Be.a.logoContainer,children:Object(f.jsx)("img",{src:Xe})}),Object(f.jsxs)("div",{className:Be.a.userAction,children:[Object(f.jsx)("button",{onClick:function(){return i(!0)},className:Be.a.userActionBtn,children:Object(f.jsx)("h3",{children:l})}),Object(f.jsxs)(Je,{title:"Konto",trigger:s,closePopup:function(){i(!1)},top:"55px",right:"5px",children:[Object(f.jsxs)("div",{className:Be.a.userInfo,children:[Object(f.jsx)("div",{className:Be.a.userSignature,children:Object(f.jsx)("h3",{children:l})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:null===t||void 0===t?void 0:t.name}),Object(f.jsx)("span",{children:null===t||void 0===t?void 0:t.email})]})]}),Object(f.jsx)(Re,{title:"Wyloguj",onClick:a,type:"button"})]})]})]})},et=function(){var e=_().user;return Object(f.jsx)(f.Fragment,{children:e?Object(f.jsxs)("div",{className:we.a.layout,children:[Object(f.jsx)("div",{className:we.a.appbar,children:Object(f.jsx)($e,{})}),Object(f.jsx)("div",{className:we.a.sidebar,children:Object(f.jsx)(qe,{})}),Object(f.jsx)("div",{className:we.a.pages,children:Object(f.jsx)(p.b,{})})]}):Object(f.jsx)("div",{className:we.a.authContainer,children:Object(f.jsx)(p.b,{})})})},tt=function(){return Object(f.jsx)(p.e,{children:Object(f.jsxs)(p.c,{element:Object(f.jsx)(et,{}),children:[Object(f.jsx)(p.c,{path:"/logowanie",element:Object(f.jsx)(xe,{})}),Object(f.jsx)(p.c,{path:"/rejestracja",element:Object(f.jsx)(ke,{})}),Object(f.jsx)(p.c,{path:"/",element:Object(f.jsx)(p.a,{replace:!0,to:"/logowanie"})})]})})},at=a(10),nt=a(62),ct=a.n(nt),rt=a(45),st=a(59),it=a.p+"static/media/defaultImg.2975b1de.jpg",lt=a.p+"static/media/defaultColors.f397083e.jpg",ot=it,dt=lt,ut=["#FB8B24","#9575cd","#F36935","#EA4746","#AE0366","#53416B","#ba68c8","#2F8278","#C5D86D","#30B68E","#A2D2FF","#FFDAB9","#3f3c3c","#f6faff"],jt=a(29),bt=a.n(jt),Ot=a(44),mt=a(38),pt=a.n(mt),ft=a(21),xt=a.n(ft),ht=a(119),_t=a.n(ht),yt=a(120),gt=a.n(yt),vt=a(121),kt=a.n(vt),Ct=(a(164),a(17)),wt=a.n(Ct),Nt=a(122),St=a.n(Nt),zt=a(83),Lt=a.n(zt),Ft=function(e){var t=e.value,a=e.id,n=e.titleBtn,c=e.onBlur,r=e.onFocus,s=e.handleChange,i=e.handleSubmit,l=e.closeForm,o="list"===a?"Dodaj list\u0119 zada\u0144":"Dodaj now\u0105 kart\u0119";return Object(f.jsxs)("form",{className:Lt.a.form,children:[Object(f.jsx)(Ot.a,{id:a,maxRows:20,placeholder:o,value:t,className:Lt.a.textarea,autoFocus:!0,onChange:s,onBlur:c,onFocus:r,onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.code||(e.stopPropagation(),i(e))},required:!0}),Object(f.jsxs)("div",{className:Lt.a.actionsForm,children:[Object(f.jsx)(Re,{title:n,type:"submit",onClick:i}),Object(f.jsx)("div",{style:{marginRight:"16px"}}),Object(f.jsx)(Qe,{onClick:l,children:Object(f.jsx)(Ve.e,{})})]})]})},Dt=function(e){return"string"===typeof e&&null!==e.match(/^http[^\?]*.(jpg|jpeg|gif|png|tiff|bmp|webp)(\?(.*))?$/gim)},It=a(99),Pt=a.n(It),Tt=(a(165),a(126)),qt=a(127),Mt=a(96),Bt=a.n(Mt),At=function(e){var t=e.onClick,a=e.name,n=e.icon,c=e.style;return Object(f.jsxs)("button",{className:Bt.a.taskButton,onClick:t,style:c,children:[Object(f.jsx)("div",{className:Bt.a.icon,children:n}),a]})},Et=a(97),Ht=a.n(Et),Rt=function(e){var t=e.title,a=e.color,n=e.cardLabels,c=e.handleCheckedLabel,r=e.openLabelEditWindow,s=e.labelId,i=n.filter((function(e){return e._id===s}));return Object(f.jsxs)("div",{className:Ht.a.container,children:[Object(f.jsxs)("div",{onClick:c,style:{background:"".concat(a)},className:Ht.a.boxColor,children:[Object(f.jsx)("p",{children:t}),i.length?Object(f.jsx)(Pe.b,{style:{color:"white"}}):null]}),Object(f.jsx)(Qe,{onClick:r,children:Object(f.jsx)(Ve.b,{})})]})},Wt=a(98),Ut=a.n(Wt),Zt=function(e){var t=e.children,a=e.title,n=e.data,c=Array.isArray(n)?!!n.length:null!==n&&void 0!==n;return Object(f.jsx)(f.Fragment,{children:c?Object(f.jsxs)("div",{className:Ut.a.container,children:[Object(f.jsx)("h4",{children:a}),Object(f.jsx)("div",{className:Ut.a.items,children:t})]}):null})},Gt=a(48),Qt=a.n(Gt),Vt=a(123),Yt=function(e){var t=e.handleChangeTitle,a=e.handleChangeLabelTitle,n=e.handleDeleteLabel,c=e.value,r=e.formId,s=e.onFocus,i=e.setSelectColor,l=e.selectColor;return Object(f.jsxs)("form",{className:Qt.a.form,children:[Object(f.jsx)("p",{style:{marginBottom:"5px"},children:"Nazwa"}),Object(f.jsx)(Ot.a,{id:r,maxRows:20,placeholder:"Dodaj nazw\u0119 etykiety...",value:c,className:Qt.a.textarea,autoFocus:!0,onChange:t,onFocus:s}),Object(f.jsx)("p",{style:{marginBottom:"5px"},children:"Wybierz kolor"}),Object(f.jsxs)("div",{className:Qt.a.picker,children:[Object(f.jsx)(Vt.a,{className:Qt.a.reactColorful,color:l,onChange:i}),Object(f.jsx)("div",{className:Qt.a.pickerSwatches,children:ut.slice(0,14).map((function(e){return Object(f.jsx)("div",{className:Qt.a.pickerSwatch,style:{background:e},onClick:function(){return i(e)}},e)}))})]}),Object(f.jsxs)("div",{className:Qt.a.actionsForm,children:[Object(f.jsx)(Re,{onClick:a,title:"Zapisz",type:"submit"}),Object(f.jsx)("div",{style:{marginRight:"1rem"}}),Object(f.jsx)(Re,{onClick:n,title:"Usu\u0144",type:"button"})]})]})},Kt=a(71),Jt=a.n(Kt),Xt=function(e){var t=e.name,a=e.listNames,n=e.type,c=e.handleInputState,r=e.handleSubmitFiles;return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{className:Jt.a.formFile,children:[Object(f.jsxs)("label",{id:"formId",className:Jt.a.labelFile,children:[Object(f.jsx)("input",{id:"formId",type:n,name:t,onChange:c,multiple:!0,hidden:!0}),"Dodaj za\u0142\u0105czniki"]}),Object(f.jsx)("div",{className:Jt.a.spanContainer,children:a.map((function(e,t){return Object(f.jsx)("span",{className:Jt.a.nameFileSpan,children:e},t)}))}),a.length?Object(f.jsx)(Re,{onClick:r,title:"Za\u0142\u0105cz",type:"submit"}):null]})})},$t=a(63),ea=a.n($t),ta=function(e){var t=e.created,a=e.title,n=e.src,c=e.type,r=e.index,s=e.active,i=e.handleDeleteFile,l=e.handleDownloadFile,o=e.handleSelectCover,d=c.split("/").pop();return Object(f.jsxs)("div",{className:ea.a.container,children:[Object(f.jsx)("div",{className:ea.a.fileImg,children:Dt(n)?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{src:n,className:"card-img-top img-responsive",alt:"img"}),Object(f.jsx)("div",{className:ea.a.selectCover,title:"ustaw ok\u0142adk\u0119",children:Object(f.jsx)("input",{type:"checkbox",checked:s===r,onChange:o,style:{height:"100%",width:"1rem",marginRight:"8px"}})})]}):Object(f.jsx)("p",{children:d})}),Object(f.jsxs)("div",{className:ea.a.fileDetails,children:[Object(f.jsx)("h4",{children:a}),Object(f.jsx)("span",{children:t}),Object(f.jsxs)("div",{className:ea.a.fileButtons,children:[Object(f.jsx)(At,{style:{height:"25px",margin:"0 8px 0 0"},onClick:i,name:"Skasuj"}),Object(f.jsx)(At,{style:{height:"25px",margin:"0"},onClick:l,name:"Pobierz"})]})]})]})},aa=a(84),na=a.n(aa),ca=function(e){var t=e.children,a=e.trigger,n=e.closeModal,r=Object(c.useRef)(null);return Ye(r,n),a?Object(f.jsx)("div",{className:na.a.overlay,children:Object(f.jsxs)("div",{className:na.a.modal,ref:r,children:[Object(f.jsx)("div",{className:na.a.header,children:Object(f.jsx)(Qe,{onClick:n,children:Object(f.jsx)(Ve.e,{})})}),t]})}):null},ra=a(51),sa=a.n(ra),ia=function(e){var t=e.cardId,a=K(),n=a.data,r=(a.error,a.isLoading,U()),s=Object(b.a)(r,1)[0],i=Object(c.useState)(""),l=Object(b.a)(i,2),o=l[0],d=l[1],u=Object(c.useState)([]),j=Object(b.a)(u,2),O=j[0],m=j[1],p=Object(c.useState)(),x=Object(b.a)(p,2),h=x[0],_=x[1];Object(c.useEffect)((function(){var e;n&&d(null===(e=n[0])||void 0===e?void 0:e._id)}),[n]),Object(c.useEffect)((function(){y()}),[O]);var y=function(){if(n){var e=Object(at.a)(n).filter((function(e){return O.some((function(t){return e._id===t}))}));_(e)}};return Object(f.jsxs)("div",{className:sa.a.container,children:[Object(f.jsxs)("form",{className:sa.a.form,children:[Object(f.jsx)("label",{htmlFor:"products",children:"Dodaj produkt z magazynu"}),Object(f.jsxs)("div",{className:sa.a.inputContainer,children:[Object(f.jsx)("select",{className:sa.a.select,onChange:function(e){return function(e){n&&d(e.target.value)}(e)},children:n?n.map((function(e){return Object(f.jsx)("option",{value:e._id,children:e.name},e._id)})):null}),Object(f.jsx)(Re,{onClick:function(){if(n)return Object(at.a)(O).find((function(e){return e===o}))?alert("produkt zosta\u0142 ju\u017c dodany do listy"):void m([].concat(Object(at.a)(O),[o]))},title:"Dodaj",type:"button",style:{height:"38px",marginLeft:"10px"}})]})]}),Object(f.jsx)("div",{className:sa.a.list,children:Object(f.jsxs)("form",{className:sa.a.form,onSubmit:function(e){return function(e){e.preventDefault(),console.log("dziala"),s({_id:t,usedProducts:h})}(e)},children:[null===h||void 0===h?void 0:h.map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:e.name}),Object(f.jsx)("input",{type:"text",name:"name",value:"stan: ".concat(e.quantity," ").concat(e.unit),disabled:!0}),Object(f.jsx)("input",{type:"number",name:"name",defaultValue:e.quantity,min:1,max:e.quantity}),Object(f.jsx)(Qe,{onClick:function(){return function(e){if(O){var t=Object(at.a)(O).filter((function(t){return t!==e}));m(t)}}(e._id)},style:{marginLeft:"8px"},children:"X"})]},e._id)})),(null===h||void 0===h?void 0:h.length)?Object(f.jsx)(Re,{title:"Zapisz",type:"submit",style:{width:"100%",padding:"0.6rem",marginTop:"10px"}}):null]})}),Object(f.jsx)("h3",{children:"Is in progress..."})]})},la=a(129),oa=a(128),da=function(e){var t=e._id,a=e.boardId,n=e.title,r=e.description,s=e.completed,i=e.labels,l=e.deadline,o=e.cover,d=e.files,O=e.usedProducts,p=e.nameList,x=e.dateIsSameOrBefore,h=e.deadlineIsSoon,_=e.cardDateDisplay,y=e.cardFileIndex,g=e.setCardCompleted,v=e.setIsCardWindowOpen,k=e.setCardCover,C=e.setCardFileIndex;xt.a.locale("pl"),Object(It.registerLocale)("pl",oa.a);var w=L(a).data,N=H().data,S=U(),z=Object(b.a)(S,1)[0],D=W(),I=Object(b.a)(D,1)[0],P=F(),T=Object(b.a)(P,1)[0],q=G(),M=Object(b.a)(q,1)[0],B=Object(c.useState)(n),A=Object(b.a)(B,2),E=A[0],R=A[1],Z=Object(c.useState)(r),Q=Object(b.a)(Z,2),V=Q[0],Y=Q[1],K=Object(c.useState)(i),J=Object(b.a)(K,2),X=J[0],$=J[1],ee=Object(c.useState)(l),te=Object(b.a)(ee,2),ne=te[0],ce=te[1],re=Object(c.useState)([]),se=Object(b.a)(re,2),ie=se[0],le=se[1],oe=Object(c.useState)(""),de=Object(b.a)(oe,2),ue=de[0],je=de[1],be=Object(c.useState)(!1),Oe=Object(b.a)(be,2),me=Oe[0],pe=Oe[1],fe=Object(c.useState)(!1),xe=Object(b.a)(fe,2),he=xe[0],_e=xe[1],ye=Object(c.useState)(!1),ge=Object(b.a)(ye,2),ve=ge[0],ke=ge[1],Ce=Object(c.useState)(""),we=Object(b.a)(Ce,2),Ne=we[0],Se=we[1],Le=Object(c.useState)(""),Fe=Object(b.a)(Le,2),De=Fe[0],Te=Fe[1],qe=Object(c.useState)(""),Me=Object(b.a)(qe,2),Be=Me[0],Ae=Me[1],Ee=Object(c.useState)(!1),He=Object(b.a)(Ee,2),We=He[0],Ue=He[1],Ze=Object(c.useState)(!1),Ge=Object(b.a)(Ze,2),Qe=Ge[0],Ke=Ge[1],Xe=Object(c.useState)(!1),$e=Object(b.a)(Xe,2),et=$e[0],tt=$e[1],nt=Object(c.useState)(!1),ct=Object(b.a)(nt,2),rt=ct[0],st=ct[1],it=Object(c.useState)(!1),lt=Object(b.a)(it,2),ot=lt[0],dt=lt[1],ut=Object(c.useState)([]),jt=Object(b.a)(ut,2),bt=jt[0],mt=jt[1],pt=Object(c.useState)([]),ft=Object(b.a)(pt,2),ht=ft[0],_t=ft[1],yt=Object(c.useState)(0),gt=Object(b.a)(yt,2),vt=gt[0],kt=gt[1],Ct=Object(c.useState)(null),Nt=Object(b.a)(Ct,2),zt=Nt[0],Lt=Nt[1],Mt=Object(c.useRef)(null);Object(c.useEffect)((function(){w&&le(w.labels)}),[w]);var Bt=Object(c.useCallback)((function(e){var t=e.target.files;if(null!==t){(null===t||void 0===t?void 0:t.length)&&mt(Array.from(t));for(var a=[],n=0;n<t.length;n++)a.push(t[n].name),_t(a)}Lt(!0),kt(0)}),[]),Et=function(){var e=Object(j.a)(u.a.mark((function e(n){var c,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),bt.length){e.next=3;break}return e.abrupt("return");case 3:if(zt){e.next=5;break}return e.abrupt("return");case 5:for((c=new FormData).append("cardId",t),r=0;r<bt.length;r++)c.append("files",bt[r]);return s={headers:{"content-type":"multipart/form-data"},onUploadProgress:function(e){var t=e.loaded,a=e.total,n=Math.floor(100*t/a);kt(n)}},e.next=11,m.a.post("".concat("https://print-control-m-backend.herokuapp.com/","files"),c,s).then((function(e){z({_id:t}),T({_id:a}),Lt(!0),setTimeout((function(){kt(0),_t([]),tt(!1)}),500)})).catch((function(e){console.log(e),Lt(!1)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ht=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(t),{responseType:"blob"}).then((function(e){var a,n=t.replace(/^.*[\\\/]/,"");a=(a=t.split("."))[a.length-1],St()(e.data,"".concat(n,".").concat(a))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Ye(Mt,v),Object(f.jsx)(ca,{trigger:!0,closeModal:v,children:Object(f.jsxs)("div",{className:wt.a.container,children:[o&&Dt(o)?Object(f.jsx)("div",{className:wt.a.cardCover,children:Object(f.jsx)("img",{onClick:function(){var e=window.open("".concat(o),"_blank","noopener,noreferrer");e&&(e.opener=null)},src:o,alt:o})}):null,Object(f.jsx)("div",{className:wt.a.cardModalHeader,children:Object(f.jsxs)("div",{className:wt.a.cardModalHeaderTextarea,children:[Object(f.jsx)(Ot.a,{id:"card-title",autoFocus:!1,value:E,className:wt.a.cardModalTextareaTitle,onChange:function(e){"card-title"===e.target.id&&R(e.target.value),z({_id:t,title:e.target.value}),T({_id:a})},onFocus:function(e){return e.target.select()},rows:20,maxRows:4,required:!0}),Object(f.jsxs)("p",{children:["Na liscie: ",Object(f.jsx)("strong",{children:p})]})]})}),Object(f.jsxs)("div",{className:wt.a.groupWrapper,children:[Object(f.jsxs)("div",{className:wt.a.content,children:[Object(f.jsx)(Zt,{data:X,title:"Etykiety",children:X.map((function(e){return Object(f.jsx)("div",{style:{backgroundColor:"".concat(e.color)},className:wt.a.cardModalLabel,onClick:function(){return Ue(!0)},children:Object(f.jsx)("span",{children:e.title})},e._id)}))}),Object(f.jsx)(Zt,{data:l,title:"Termin",children:Object(f.jsx)(f.Fragment,{children:l?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("input",{type:"checkbox",checked:s,onChange:function(){g(!s),z({_id:t,completed:!s}),T({_id:a})}}),Object(f.jsxs)("button",{onClick:function(){return Ke(!0)},className:wt.a.cardModalSelectedDateBtn,children:[Object(f.jsx)("span",{children:xt()(l).format("DD-MM-YYYY HH:mm")}),x&&!s?Object(f.jsx)("span",{title:_.title,style:{backgroundColor:_.style.backgroundColor},className:wt.a.dateNotificationSpan,children:_.name}):null,h&&!s?Object(f.jsx)("span",{title:_.title,style:{backgroundColor:_.style.backgroundColor},className:wt.a.dateNotificationSpan,children:_.name}):null,s?Object(f.jsx)("span",{title:_.title,style:{backgroundColor:_.style.backgroundColor},className:wt.a.dateNotificationSpan,children:_.name}):null]})]}):null})}),Object(f.jsxs)("div",{className:wt.a.descriptionContainer,children:[Object(f.jsxs)("div",{className:wt.a.descriptionHeader,children:[Object(f.jsx)("h4",{children:"Opis"}),Object(f.jsx)("div",{style:{maxWidth:"100px",marginLeft:"1rem"},children:me||void 0===V||""===V?null:Object(f.jsx)(At,{onClick:function(){return pe(!0)},name:"Edytuj",icon:Object(f.jsx)(Ve.b,{})})})]}),me?Object(f.jsx)(Ft,{id:"card-description",handleChange:function(e){"card-description"===e.target.id&&Y(e.target.value)},handleSubmit:function(e){e.preventDefault(),z({_id:t,description:V}),T({_id:a}),pe(!1)},closeForm:function(){pe(!1),Y(r)},value:V,onFocus:function(e){return e.target.select()},titleBtn:"Zapisz"}):Object(f.jsx)("div",{children:""!==V&&void 0!==V?Object(f.jsx)("p",{onClick:function(){return pe(!0)},children:V}):Object(f.jsx)(At,{onClick:function(){return pe(!0)},name:"Dodaj opis...",icon:Object(f.jsx)(Tt.a,{})})})]}),Object(f.jsx)(Zt,{data:O,title:"Wykorzystane materia\u0142y",children:Object(f.jsx)(f.Fragment,{children:null===O||void 0===O?void 0:O.map((function(e){return Object(f.jsx)("div",{style:{backgroundColor:"grey"},className:wt.a.cardModalLabel,onClick:function(){return Ue(!0)},children:Object(f.jsx)("span",{children:e.name})},e._id)}))})}),Object(f.jsx)(Zt,{data:d,title:"Za\u0142\u0105cznik",children:null===d||void 0===d?void 0:d.map((function(e,n){return Object(f.jsx)(ta,{title:e.fileName,created:"Dodano ".concat(xt()(e.createdAt).format("DD MMM")," o ").concat(xt()(e.createdAt).format("HH:mm")),active:y,index:n,src:"".concat(e.fileUrl),type:e.fileType,handleDeleteFile:function(){return n=e._id,M(n),z({_id:t,files:d}),T({_id:a}),void(d.length?k(d[0].fileUrl):k(""));var n},handleDownloadFile:function(){return Ht(e.fileUrl)},handleSelectCover:function(){return function(e){C(e),k(d[e].fileUrl),z({_id:t,cover:d[e].fileUrl}),T({_id:a})}(n)}},e._id)}))})]}),Object(f.jsxs)("div",{className:wt.a.cardModalSidebar,children:[Object(f.jsx)(Je,{title:he?"Edytuj etykiet\u0119":ve?"Dodaj Etykiet\u0119":"Etykiety",trigger:We,closePopup:function(){Ue(!1),_e(!1),ke(!1)},isEditWindow:he||ve,backToMainWindow:function(){_e(!1),ke(!1)},children:Object(f.jsx)("div",{className:wt.a.cardModalLabels,children:he||ve?Object(f.jsx)(Yt,{formId:he?"label-title-edit":ve?"label-title-add":"",handleChangeTitle:function(e){"label-title-edit"===e.target.id&&Se(e.target.value),"label-title-add"===e.target.id&&je(e.target.value)},handleChangeLabelTitle:he?function(e){e.preventDefault();var t=Object(at.a)(ie);if(ie){var n=t.map((function(e){return e._id!==De?e:Object(ae.a)(Object(ae.a)({},e),{},{title:Ne,color:Be})}));null===N||void 0===N||N.map((function(e){var t=e.labels.map((function(e){return e._id!==De?e:Object(ae.a)(Object(ae.a)({},e),{},{title:Ne,color:Be})}));z({_id:e._id,labels:t}),$(t)})),le(n),T({_id:a,labels:n}),_e(!1)}}:ve?function(e){e.preventDefault();var t=[].concat(Object(at.a)(ie),[{color:Be,title:ue,active:!1}]);T({_id:a,labels:t}),ke(!1)}:function(){return console.log("label does not exist")},handleDeleteLabel:function(){var e=Object(at.a)(ie).filter((function(e){return e._id!==De}));null===N||void 0===N||N.map((function(e){var t=e.labels.filter((function(e){return e._id!==De}));$(t),z({_id:e._id,labels:t})})),le(e),T({_id:a,labels:e}),_e(!1)},value:he?Ne:ve?ue:"",onFocus:function(e){return e.target.select()},selectColor:Be,setSelectColor:Ae}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:wt.a.cardModalLabelsList,children:ie.map((function(e){return Object(f.jsx)(Rt,{labelId:e._id,title:e.title,color:e.color,cardLabels:i,openLabelEditWindow:function(){_e(!0),function(e){var t=Object(at.a)(ie).filter((function(t){return t._id===e})),a=t.map((function(e){return e.title})).toString(),n=t.map((function(e){return e.color})).toString();Se(a),Ae(n),Te(e)}(e._id)},handleCheckedLabel:function(){return function(e){var n=Object(at.a)(X),c=Object(ae.a)(Object(ae.a)({},e),{},{active:!e.active}),r=n.find((function(e){return e._id===c._id}));if(r){var s=Object(at.a)(X).filter((function(e){return e._id!==r._id}));$(s),z({_id:t,labels:s})}else{var i=[].concat(Object(at.a)(X),[c]);$(i),z({_id:t,labels:i})}T({_id:a})}(e)}},e._id)}))}),Object(f.jsx)(At,{onClick:function(){return ke(!0)},name:"Utw\xf3rz now\u0105 etykiet\u0119"})]})})}),Object(f.jsxs)(Je,{title:"Data",trigger:Qe,closePopup:function(){return Ke(!1)},backToMainWindow:function(){return Ke(!1)},children:[Object(f.jsx)(Pt.a,{dateFormat:"DD/MM/YYYY",timeFormat:"hh:mm",locale:"pl",selected:l?new Date(l):null,onChange:function(e){return ce(e)},inline:!0,showTimeInput:!0,timeInputLabel:"Godzina:"}),Object(f.jsxs)("label",{children:["Termin ",Object(f.jsx)("br",{}),Object(f.jsx)("input",{style:{maxWidth:"100px",marginRight:"10px"},placeholder:xt()(l).format("DD/MM/YYYY")}),Object(f.jsx)("input",{style:{maxWidth:"100px"},placeholder:xt()(l).format("HH:mm")})]}),Object(f.jsxs)("div",{className:wt.a.actionsForm,children:[Object(f.jsx)(Re,{onClick:function(e){e.preventDefault(),z({_id:t,deadline:ne}),T({_id:a}),Ke(!1)},title:"Zapisz",type:"button"}),Object(f.jsx)("div",{style:{marginRight:"1rem"}}),Object(f.jsx)(Re,{onClick:function(e){e.preventDefault(),ce(null),z({_id:t,deadline:null}),T({_id:a}),Ke(!1)},title:"Usu\u0144",type:"button"})]})]}),Object(f.jsxs)(Je,{title:"Za\u0142\u0105cznik",trigger:et,closePopup:function(){return tt(!1)},backToMainWindow:function(){return tt(!1)},children:[Object(f.jsx)(Xt,{name:"za\u0142\u0105cznik",size:0,label:"za\u0142\u0105cznik",type:"file",listNames:ht,handleInputState:Bt,handleSubmitFiles:Et}),vt>0?Object(f.jsxs)(f.Fragment,{children:[null!==zt&&!0===zt?Object(f.jsxs)("div",{children:[Object(f.jsx)(la.a,{percent:vt,strokeWidth:4,strokeColor:"#D3D3D3"}),Object(f.jsxs)("p",{children:[vt,"%"]})]}):null,!1===zt?Object(f.jsxs)("p",{style:{color:"red"},children:["B\u0142\u0105d przesy\u0142ania",Object(f.jsx)("small",{children:" (max 10mb, lub nieprawid\u0142owy format pliku)"})]}):null]}):null]}),Object(f.jsx)(Je,{title:"Dodaj wycen\u0119",trigger:rt,closePopup:function(){return st(!1)},children:Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:"Is in progress ..."})})}),Object(f.jsx)(Je,{title:"Magazyn",trigger:ot,closePopup:function(){return dt(!1)},children:Object(f.jsx)(ia,{cardId:t})}),Object(f.jsx)(At,{onClick:function(){return Ue(!0)},name:"Etykiety",icon:Object(f.jsx)(ze.c,{})}),Object(f.jsx)(At,{onClick:function(){return Ke(!0)},name:"Data",icon:Object(f.jsx)(Ve.c,{})}),Object(f.jsx)(At,{onClick:function(){return tt(!0)},name:"Za\u0142\u0105cznik",icon:Object(f.jsx)(Ie.a,{})}),Object(f.jsx)(At,{onClick:function(){return dt(!0)},name:"Magazyn",icon:Object(f.jsx)(Pe.d,{})}),Object(f.jsx)(At,{onClick:function(){return st(!0)},name:"Dodaj wycen\u0119",icon:Object(f.jsx)(Pe.d,{})}),Object(f.jsx)("div",{className:wt.a.divider}),Object(f.jsx)(At,{onClick:function(){I(t),T({_id:a})},name:"Usu\u0144",icon:Object(f.jsx)(qt.a,{})})]})]})]})})},ua=a(78),ja="undefined"!==typeof window?c.useLayoutEffect:c.useEffect;var ba=function(e,t,a){var n=Object(c.useRef)(t);ja((function(){n.current=t}),[t]),Object(c.useEffect)((function(){var t=(null===a||void 0===a?void 0:a.current)||window;if(t&&t.addEventListener){var c=function(e){return n.current(e)};return t.addEventListener(e,c),function(){t.removeEventListener(e,c)}}}),[e,a])};var Oa=function(e){var t=Object(c.useState)(!1),a=Object(b.a)(t,2),n=a[0],r=a[1];return ba("mouseenter",(function(){return r(!0)}),e),ba("mouseleave",(function(){return r(!1)}),e),n},ma=a(85),pa=a.n(ma),fa=function(e){var t=e.onClick,a=e.children;return Object(f.jsx)("div",{className:pa.a.box,children:Object(f.jsxs)("div",{className:pa.a.container,children:[Object(f.jsx)("div",{className:pa.a.clickableArea,onClick:t}),a]})})},xa=function(e){var t=e._id,a=e.boardId,n=e.title,r=e.index,s=e.nameList,i=e.description,l=e.completed,o=e.labels,d=e.deadline,u=e.cover,j=e.files,O=e.usedProducts,m=e.createdAt,p=e.setIsDragDisabled,x=U(),h=Object(b.a)(x,1)[0],_=F(),y=Object(b.a)(_,1)[0],g=Object(c.useState)(!1),v=Object(b.a)(g,2),k=v[0],C=v[1],w=Object(c.useState)(l),N=Object(b.a)(w,2),S=N[0],z=N[1],L=Object(c.useState)(Date.now()),D=Object(b.a)(L,2),I=D[0],P=D[1],T=Object(c.useState)(u),q=Object(b.a)(T,2),M=q[0],B=q[1],A=Object(c.useState)(0),E=Object(b.a)(A,2),H=E[0],R=E[1],W=Object(c.useState)(j),Z=Object(b.a)(W,2),G=Z[0],Q=Z[1];xt.a.locale("pl"),xt.a.extend(_t.a),xt.a.extend(kt.a),xt.a.extend(gt.a);var V=Object(c.useRef)(null),Y=Oa(V);Object(c.useEffect)((function(){var e=setInterval((function(){return P(Date.now())}),1e5);return function(){return clearInterval(e)}}),[]),Object(c.useEffect)((function(){j&&Q(j)}),[j]),Object(c.useEffect)((function(){K()}),[G]),Object(c.useEffect)((function(){h({_id:t,cover:M}),y({_id:a})}),[M]);var K=function(){if(G){var e=Object(at.a)(G),t=e.filter((function(e){return Dt(e.fileUrl)})),a=t.find((function(e){return e.fileUrl===u})),n=t.indexOf(a),c=e.findIndex((function(e){return Dt(e.fileUrl)}));t.length?n<0?(B(t[0].fileUrl),R(c)):(B(t[n].fileUrl),R(n)):B("")}},J=function(){C(!0),p(!0)},X=function(){z(!S),h({_id:t,completed:!S}),y({_id:a})},$=xt()(d).isSameOrBefore(I,"minute"),ee=xt()(d).diff(xt()(I),"minute",!0),te=ee<300&&ee>0,ne={style:{color:S||$||te?"white":"black",backgroundColor:S?"green":$?"red":te?"orange":"transparent"},title:S?"Ta karta zosta\u0142a uko\u0144czona":$?"Ta karta jest przeterminowana":te?"Deadline ".concat(xt()(d).fromNow()):"Karta jest na p\xf3\u017aniej",name:S?"zrealizowany":$?"termin przekroczony":te?"wkr\xf3tce":"",iconStyle:{marginRight:"5px",fontSize:"14px"}};return Object(f.jsxs)("div",{children:[k?Object(f.jsx)(da,{_id:t,nameList:s,title:n,description:i,boardId:a,deadline:d,labels:o,files:G,usedProducts:O,cover:M,completed:S,cardFileIndex:H,dateIsSameOrBefore:$,deadlineIsSoon:te,cardDateDisplay:ne,createdAt:m,setCardCompleted:z,setIsCardWindowOpen:function(){C(!1),p(!1)},setCardFileIndex:R,setCardCover:B}):null,Object(f.jsx)("div",{className:pt.a.container,children:Object(f.jsx)(rt.b,{draggableId:t,index:r,children:function(e){return Object(f.jsx)("div",Object(ae.a)(Object(ae.a)(Object(ae.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(f.jsxs)(fa,{onClick:J,children:[G.length?Object(f.jsx)("div",{className:pt.a.cardCover,style:{backgroundColor:M,backgroundImage:"url(".concat(M,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}):null,Object(f.jsxs)("div",{className:pt.a.cardDetails,children:[o.length?Object(f.jsx)("div",{className:pt.a.cardLabels,onClick:J,children:o.map((function(e){return Object(f.jsx)("div",{title:"".concat(e.title),className:pt.a.cardLabel,style:{backgroundColor:"".concat(e.color)}},e._id)}))}):null,Object(f.jsx)("p",{children:n}),Object(f.jsxs)("div",{className:pt.a.iconsContainer,children:[Object(f.jsx)("div",{ref:V,children:d?Object(f.jsxs)("button",{className:pt.a.dateBtn,onClick:X,style:ne.style,title:ne.title,children:[Y?S?Object(f.jsx)(ua.a,{style:ne.iconStyle}):Object(f.jsx)(ua.b,{style:ne.iconStyle}):Object(f.jsx)(Ve.c,{style:ne.iconStyle}),xt()(d).format("DD MMM")]}):null}),i?Object(f.jsx)("div",{className:pt.a.icons,title:"Ta karta ma opis.",children:Object(f.jsx)(Ie.c,{onClick:J})}):null,G.length?Object(f.jsxs)("div",{className:pt.a.icons,title:"Za\u0142\u0105czniki",children:[Object(f.jsx)(Ie.a,{}),Object(f.jsx)("span",{children:G.length})]}):null]})]})]})}))}})})]})},ha=function(e){var t=e._id,a=e.boardId,n=e.title,r=e.cards,s=e.index,i=R(),l=Object(b.a)(i,1)[0],o=F(),d=Object(b.a)(o,1)[0],u=q(),j=Object(b.a)(u,1)[0],O=M(),m=Object(b.a)(O,1)[0],p=B(),x=Object(b.a)(p,1)[0],h=Object(c.useState)(n),_=Object(b.a)(h,2),y=_[0],g=_[1],v=Object(c.useState)(""),k=Object(b.a)(v,2),C=k[0],w=k[1],N=Object(c.useState)(!1),S=Object(b.a)(N,2),z=S[0],L=S[1],D=Object(c.useState)(!1),I=Object(b.a)(D,2),P=I[0],T=I[1],A=Object(c.useState)(!1),E=Object(b.a)(A,2),H=E[0],W=E[1],U=Object(c.useState)(!1),Z=Object(b.a)(U,2),G=Z[0],Q=Z[1],V=Object(c.useRef)(null),Y=function(e){"list"===e.target.id&&g(e.target.value),j({_id:t,title:e.target.value})},K=function(e){"card"===e.target.id&&w(e.target.value)},J=function(e){"Enter"!==e.key&&"NumpadEnter"!==e.code||(e.stopPropagation(),T(!1))},X=function(e){e.preventDefault(),e.stopPropagation(),0!==C.length&&(l({listId:t,title:C}),d({_id:a}),L(!1),w(""))},$=function(){x({_id:t}),d({_id:a}),Q(!1)},ee=function(){m(t),d({_id:a})},te=function(e){var n=Object(at.a)(r);"sort-from-oldest"===e&&n.sort((function(e,t){return+new Date(e.createdAt)-+new Date(t.createdAt)})),"sort-from-newest"===e&&n.sort((function(e,t){return+new Date(t.createdAt)-+new Date(e.createdAt)})),j({_id:t,cards:n}),d({_id:a}),Q(!1),W(!1)};return Ye(V,(function(){L(!1),w("")})),Object(f.jsx)("div",{className:bt.a.listWrapper,children:Object(f.jsx)(rt.b,{draggableId:String(t),index:s,isDragDisabled:H,children:function(e){return Object(f.jsxs)("div",Object(ae.a)(Object(ae.a)(Object(ae.a)({className:bt.a.list},e.draggableProps),{},{ref:e.innerRef},e.dragHandleProps),{},{children:[Object(f.jsxs)("div",{className:bt.a.listHeader,children:[Object(f.jsx)("div",{onClick:function(){return T(!0)},ref:V,children:P?Object(f.jsx)("div",{className:bt.a.textareaWrapper,children:Object(f.jsx)(Ot.a,{id:"list",autoFocus:!0,value:y,className:bt.a.textarea,onChange:Y,onFocus:function(e){return e.target.select()},onBlur:function(){return T(!1)},onKeyDown:J,required:!0})}):Object(f.jsx)("div",{className:bt.a.textareaWrapper,children:Object(f.jsx)("h2",{children:y})})}),Object(f.jsx)(Qe,{onClick:function(){Q(!0),W(!0)},children:Object(f.jsx)(Ve.d,{style:{fontSize:"1.3em"}})}),Object(f.jsx)(Je,{title:"Akcje listy",trigger:G,closePopup:function(){Q(!1),W(!1)},top:"30px",right:"-30px",children:Object(f.jsxs)("div",{className:bt.a.popupContent,children:[Object(f.jsx)(At,{onClick:function(){return te("sort-from-newest")},name:"Sortuj karty od najnowszych"}),Object(f.jsx)(At,{onClick:function(){return te("sort-from-oldest")},name:"Sortuj karty od najstarszych"}),Object(f.jsx)("div",{className:bt.a.divider}),Object(f.jsx)(At,{onClick:$,name:"Usu\u0144 wszystkie karty"}),Object(f.jsx)(At,{onClick:ee,name:"Usu\u0144 list\u0119"})]})})]}),Object(f.jsx)(rt.c,{droppableId:String(t),type:"card",children:function(e){return Object(f.jsx)("div",Object(ae.a)(Object(ae.a)({},e.droppableProps),{},{ref:e.innerRef,className:bt.a.cards,children:Object(f.jsxs)("div",{className:bt.a.cardsContainer,children:[null===r||void 0===r?void 0:r.map((function(e,t){return Object(f.jsx)(xa,{_id:e._id,index:t,boardId:a,title:e.title,deadline:e.deadline,completed:e.completed,description:e.description,labels:e.labels,files:e.files,cover:e.cover,usedProducts:e.usedProducts,nameList:y,createdAt:e.createdAt,setIsDragDisabled:W},e._id)})),e.placeholder]})}))}}),Object(f.jsx)("div",{className:bt.a.addCardForm,children:z?Object(f.jsx)("div",{ref:V,children:Object(f.jsx)(Ft,{id:"card",handleChange:K,handleSubmit:X,closeForm:function(){L(!1),w("")},value:C,titleBtn:"Dodaj Kart\u0119"})}):Object(f.jsx)(At,{onClick:function(){return L(!0)},name:"Dodaj kart\u0119",icon:Object(f.jsx)(st.a,{})})})]}))}})})},_a=a(41),ya=a.n(_a),ga=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.floor(20*Math.random()+1),14,a="https://api.unsplash.com/search/photos?page=".concat(t,"&per_page=").concat(14,"&query=Landscape&client_id=").concat("TqG5JhrasvAl1tEr7Gn82XanmpWr7OhuPhqQydr_ieA"),e.next=5,m.a.get(a);case 5:return n=e.sent,c=n.data.results.map((function(e){return{id:e.id,thumb:e.urls.thumb,full:e.urls.full,user:{username:e.user.username,link:e.user.links.html}}})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),va=ga,ka=function(e){var t=e.handleCloseMenu,a=e.setBackgroundUrl,n=e.boardId,r=F(),s=Object(b.a)(r,1)[0],i=Object(c.useState)(!1),l=Object(b.a)(i,2),o=l[0],d=l[1],O=Object(c.useState)(!1),m=Object(b.a)(O,2),p=m[0],x=m[1],h=Object(c.useState)([]),_=Object(b.a)(h,2),y=_[0],g=_[1],v=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,va();case 2:t=e.sent,g(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){v()}),[]),Object(f.jsxs)("div",{className:ya.a.sideMenu,children:[Object(f.jsxs)("div",{className:ya.a.menuHeader,children:[Object(f.jsx)("h3",{children:"Zmie\u0144 t\u0142o"}),Object(f.jsx)(Qe,{onClick:t,children:Object(f.jsx)(Ve.e,{})})]}),Object(f.jsxs)("div",{className:ya.a.menuOptions,children:[Object(f.jsx)("div",{className:ya.a.itemBox,onClick:function(){x(!0),d(!1)},style:{backgroundImage:"url(".concat(ot,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:Object(f.jsx)("p",{children:"Zdj\u0119cia"})}),Object(f.jsx)("div",{className:ya.a.itemBox,onClick:function(){x(!1),d(!0)},style:{backgroundImage:"url(".concat(dt,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:Object(f.jsx)("p",{children:"Kolory"})})]}),Object(f.jsxs)("div",{className:ya.a.optionsContainer,children:[p?y.map((function(e){return Object(f.jsx)("div",{className:ya.a.itemBox,style:{backgroundImage:"url(".concat(e.thumb,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},onClick:function(){a(e.full),s({_id:n,background:e.full})}},e.id)})):null,o?ut.map((function(e,t){return Object(f.jsx)("div",{className:ya.a.itemBox,style:{backgroundColor:"".concat(e)},onClick:function(){a(e),s({_id:n,background:e})}},t)})):null]})]})},Ca=function(e){var t=e._id,a=e.lists,n=e.background,r=T(),s=Object(b.a)(r,1)[0],i=q(),l=Object(b.a)(i,1)[0],o=U(),d=Object(b.a)(o,1)[0],u=F(),j=Object(b.a)(u,1)[0],O=Object(c.useState)(""),m=Object(b.a)(O,2),p=m[0],x=m[1],h=Object(c.useState)(""),_=Object(b.a)(h,2),y=_[0],g=_[1],v=Object(c.useState)(!1),k=Object(b.a)(v,2),C=k[0],w=k[1],N=Object(c.useState)(!1),S=Object(b.a)(N,2),z=S[0],L=S[1],D=Object(c.useState)([]),I=Object(b.a)(D,2),P=I[0],M=I[1],B=Object(c.useRef)(null);Ye(B,(function(){w(!1),g("")})),Object(c.useEffect)((function(){a&&(M(a),x("#f6faff"))}),[a,n]);var A={backgroundColor:p,backgroundImage:"url(".concat(p,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"};return Object(f.jsx)("div",{className:ct.a.board,style:A,children:Object(f.jsxs)("div",{className:ct.a.container,children:[z?Object(f.jsx)(ka,{boardId:t,setBackgroundUrl:x,handleCloseMenu:function(){return L(!1)}}):null,Object(f.jsxs)(rt.a,{onDragEnd:function(e){var a=e.destination,n=e.source,c=e.type,r=e.draggableId,s=Object(at.a)(P);if(a&&(a.droppableId!==n.droppableId||a.index!==n.index)){if("list"===c){var i=s.splice(n.index,1),o=Object(b.a)(i,1)[0];s.splice(a.index,0,o),M(s),j({_id:t,lists:s})}if("card"===c){var u=s.find((function(e){return e._id===n.droppableId})),O=s.find((function(e){return e._id===a.droppableId}));if(n.droppableId===a.droppableId&&u){var m=Object(at.a)(u.cards),p=m.splice(n.index,1),f=Object(b.a)(p,1)[0];m.splice(a.index,0,f);var x=Object(ae.a)(Object(ae.a)({},u),{},{cards:m}),h=s.map((function(e){return[x].find((function(t){return t._id===e._id}))||e}));M(h),l({_id:n.droppableId,cards:m})}if(n.droppableId!==a.droppableId&&u&&O){var _=Object(at.a)(u.cards),y=Object(at.a)(O.cards),g=_.splice(n.index,1),v=Object(b.a)(g,1)[0],k=Object(ae.a)(Object(ae.a)({},u),{},{cards:_});y.splice(a.index,0,v);var C=[k,Object(ae.a)(Object(ae.a)({},O),{},{cards:y})],w=s.map((function(e){return C.find((function(t){return t._id===e._id}))||e}));M(w),d({_id:r,listId:a.droppableId}),l({_id:n.droppableId,cards:_}),l({_id:a.droppableId,cards:y})}}}},children:[Object(f.jsx)(rt.c,{droppableId:"all-list",direction:"horizontal",type:"list",children:function(e){return Object(f.jsxs)("div",Object(ae.a)(Object(ae.a)({className:ct.a.listContainer},e.droppableProps),{},{ref:e.innerRef,children:[null===P||void 0===P?void 0:P.map((function(e,t){return Object(f.jsx)(ha,{_id:e._id,index:t,boardId:e.boardId,title:e.title,cards:e.cards},e._id)})),e.placeholder]}))}}),Object(f.jsx)("div",{className:ct.a.formContainer,children:C?Object(f.jsx)("div",{className:ct.a.addListForm,ref:B,children:Object(f.jsx)(Ft,{id:"list",handleChange:function(e){"list"===e.target.id&&g(e.target.value)},handleSubmit:function(e){e.preventDefault(),0!==y.length&&(s({title:y,boardId:t}),j({_id:t}),g(""),w(!1))},closeForm:function(){w(!1),g("")},value:y,titleBtn:"Dodaj List\u0119"})}):Object(f.jsx)(At,{onClick:function(){return w(!0)},name:"Dodaj list\u0119 zada\u0144",icon:Object(f.jsx)(st.a,{style:{margin:".3rem 0"}})})})]})]})})},wa=function(){var e=z(),t=e.data,a=e.error,n=e.isLoading,r=Object(c.useState)([]),s=Object(b.a)(r,2);s[0],s[1];return Object(f.jsxs)(f.Fragment,{children:[a&&Object(f.jsx)("h2",{children:"Error 500"}),n?Object(f.jsx)(oe,{}):null===t||void 0===t?void 0:t.map((function(e){return Object(f.jsx)(Ca,{_id:e._id,lists:e.lists,background:e.background},e._id)}))]})},Na=a(64),Sa=a.n(Na),za=a(22),La=a.n(za),Fa={required:!0,maxLength:40,minLength:2},Da={required:!0,maxLength:20,minLength:2},Ia={required:!0,pattern:/[0-9]/g},Pa={required:!0,pattern:/[0-9]/g},Ta=function(e){var t,a,n,r,s=e.defaultName,i=e.defaultCategory,l=e.defaultQuantity,o=e.defaultUnit,d=e.defaultPrice,u=e.categoryList,j=e.formTitle,O=e.handleSubmitForm,m=Object(c.useState)(!1),p=Object(b.a)(m,2),x=p[0],h=(p[1],Object(c.useState)(!0)),_=Object(b.a)(h,2),y=_[0],g=_[1],v=Object(de.a)(),k=v.register,C=v.handleSubmit,w=v.formState.errors;return Object(f.jsxs)("div",{className:La.a.container,children:[Object(f.jsx)("h2",{children:j}),Object(f.jsxs)("form",{className:La.a.form,onSubmit:C(O),children:[Object(f.jsxs)("div",{className:La.a.formContainer,children:[Object(f.jsxs)("div",{className:La.a.formGroup,children:[Object(f.jsxs)("div",{className:La.a.inputContainer,children:[Object(f.jsx)("label",{htmlFor:"name",children:"Nazwa"}),Object(f.jsx)(Oe,Object(ae.a)({id:"name",placeholder:"Nazwa",label:"Nazwa",type:"text",defaultValue:s,error:w.name},k("name",Object(ae.a)({},Fa)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Nazwa jest wymagana"});case"minLength":return Object(f.jsx)(fe,{message:"Nazwa musi zawiera\u0107 conajmiej 2 znaki"});case"maxLength":return Object(f.jsx)(fe,{message:"Nazwa mo\u017ce zawiera\u0107 maksymalnie 20 znak\xf3w"});default:return null}}(null===(t=w.name)||void 0===t?void 0:t.type)]}),Object(f.jsxs)("div",{className:La.a.inputContainer,children:[Object(f.jsx)("label",{htmlFor:"quantity",children:"Stan"}),Object(f.jsx)(Oe,Object(ae.a)({id:"quantity",placeholder:"Stan",label:"Stan",type:"number",defaultValue:l,minValue:0,error:w.quantity},k("quantity",Object(ae.a)({},Ia)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Email jest wymagany"});case"pattern":return Object(f.jsx)(fe,{message:"Email jest niepoprawny"});default:return null}}(null===(a=w.quantity)||void 0===a?void 0:a.type)]}),Object(f.jsxs)("div",{className:La.a.inputContainer,children:[Object(f.jsx)("label",{htmlFor:"price",children:"Cena"}),Object(f.jsx)(Oe,Object(ae.a)({id:"price",placeholder:"Cena",label:"Cena",type:"number",step:"0.01",defaultValue:d,minValue:0,error:w.price},k("price",Object(ae.a)({},Pa)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Has\u0142o jest wymagane"});case"pattern":return Object(f.jsx)(fe,{message:"Has\u0142o musi zawiera\u0107: co najmniej 8 znak\xf3w, 1 cyfr\u0119, 1 ma\u0142\u0105 liter\u0119 i 1 wielk\u0105 liter\u0119"});default:return null}}(null===(n=w.price)||void 0===n?void 0:n.type)]})]}),Object(f.jsxs)("div",{className:La.a.formGroup,children:[Object(f.jsxs)("div",{className:La.a.inputContainer,children:[Object(f.jsx)("label",{htmlFor:"unit",children:"Jednostka"}),Object(f.jsxs)("select",Object(ae.a)(Object(ae.a)({},k("unit")),{},{className:La.a.select,defaultValue:o,children:[Object(f.jsx)("option",{value:"szt",children:"szt"}),Object(f.jsx)("option",{value:"m2",children:"m2"}),Object(f.jsx)("option",{value:"mb",children:"mb"}),Object(f.jsx)("option",{value:"ark",children:"ark"}),Object(f.jsx)("option",{value:"ryz",children:"ryz"}),Object(f.jsx)("option",{value:"litry",children:"litry"}),Object(f.jsx)("option",{value:"inne",children:"inne"})]}))]}),Object(f.jsxs)("div",{className:La.a.inputContainer,children:[Object(f.jsxs)("div",{className:La.a.selectGroup,children:[Object(f.jsx)("input",{type:"checkbox",checked:y,onChange:function(){return g((function(e){return!e}))}}),Object(f.jsx)("label",{htmlFor:"category",children:"Dodaj now\u0105 kategori\u0119"})]}),Object(f.jsx)(Oe,Object(ae.a)({id:"category",placeholder:"Dodaj kategori\u0119",label:"Kategoria",type:"text",defaultValue:i,error:w.category,disabled:!y},k("category",Object(ae.a)({},Da)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Kategoria jest wymagana"});case"minLength":return Object(f.jsx)(fe,{message:"Kategoria musi zawiera\u0107 conajmiej 2 znaki"});case"maxLength":return Object(f.jsx)(fe,{message:"Kategoria mo\u017ce zawiera\u0107 maksymalnie 20 znak\xf3w"});default:return null}}(null===(r=w.category)||void 0===r?void 0:r.type)]}),Object(f.jsxs)("div",{className:La.a.inputContainer,children:[Object(f.jsxs)("div",{className:La.a.selectGroup,children:[Object(f.jsx)("input",{type:"checkbox",checked:!y,onChange:function(){return g((function(e){return!e}))}}),Object(f.jsx)("label",{htmlFor:"category",children:"Wybierz kategori\u0119"})]}),u?Object(f.jsx)("select",Object(ae.a)(Object(ae.a)({},!y&&Object(ae.a)({},k("category"))),{},{className:La.a.select,disabled:y,defaultValue:i,children:Object.entries(u).map((function(e){var t=Object(b.a)(e,1)[0];return Object(f.jsx)("option",{value:t,children:t},t)}))})):null]})]})]}),Object(f.jsxs)("div",{className:La.a.actionForm,children:[Object(f.jsx)(Re,{title:"Zapisz",type:"submit",style:{width:"100%",padding:"0.8rem"}}),Object(f.jsx)("h3",{children:x&&"Produkt zosta\u0142 dodany"})]})]})]})},qa=a(65),Ma=a.n(qa),Ba=function(e){var t=e.categories,a=e.allCategoryValue,n=e.activeCategory,r=e.addNewProduct,s=e.handleFilterCategory,i=Object(c.useState)(!1),l=Object(b.a)(i,2),o=l[0],d=l[1];return Object(f.jsxs)("div",{className:Ma.a.header,children:[Object(f.jsx)(At,{icon:Object(f.jsx)(st.a,{style:{color:"grey",fontSize:"1.2rem"}}),name:"Dodaj produkt",onClick:r,style:{width:"200px"}}),Object(f.jsxs)("div",{className:Ma.a.filter,children:[Object(f.jsx)("div",{className:Ma.a.categoryName,children:Object(f.jsx)("h3",{children:n})}),Object(f.jsx)("div",{className:Ma.a.filterBtn,children:Object(f.jsx)(At,{icon:Object(f.jsx)(Ve.a,{style:{color:"grey",fontSize:"1.2rem"}}),name:"Filtruj",onClick:function(){return d(!0)},style:{width:"200px"}})}),Object(f.jsx)(Je,{title:"Filtruj kategorie",trigger:o,closePopup:function(){return d(!1)},top:"10px",right:"10px",children:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(At,{onClick:function(){return s(a)},name:a,style:{margin:"8px 0"}}),t?Object.entries(t).map((function(e){var t=Object(b.a)(e,1)[0];return Object(f.jsx)("div",{className:Ma.a.popupContent,children:Object(f.jsx)(At,{onClick:function(){return s(t)},name:t,style:{margin:"8px 0"}})},t)})):null]})})]})]})},Aa=a(66),Ea=a.n(Aa),Ha=a(60),Ra=function(e){var t=e.data,a=e.children,n=e.sortProducts,r=Object(c.useState)("asc"),s=Object(b.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(""),d=Object(b.a)(o,2),u=d[0],j=d[1],O=Object(c.useCallback)((function(e){var a=e.sortBy;if(t){var c=Object(at.a)(t);if("asc"===i){var r=c.sort((function(e,t){return e[a].toString().localeCompare(t[a].toString(),"pl",{numeric:!0})}));n(r),l("desc")}if("desc"===i){var s=c.sort((function(e,t){return t[a].toString().localeCompare(e[a].toString(),"pl",{numeric:!0})}));n(s),l("asc")}j(a)}}),[t,i,u]);return Object(f.jsxs)("div",{className:Ea.a.container,children:[Object(f.jsx)("div",{className:Ea.a.head,children:[{key:"name",label:"Nazwa",sortable:!0},{key:"category",label:"Kategoria",sortable:!0},{key:"quantity",label:"Stan",sortable:!0},{key:"unit",label:"Jedn.",sortable:!1},{key:"price",label:"Cena",sortable:!0},{key:"actions",label:"Akcje",sortable:!1}].map((function(e){return Object(f.jsx)("div",Object(ae.a)(Object(ae.a)({className:"".concat(Ea.a.block," ").concat(e.sortable?Ea.a.sortable:"")},e.sortable&&{onClick:function(){return O({sortBy:e.key})}}),{},{children:Object(f.jsxs)("span",{children:[e.label,e.sortable?u===e.key?"desc"===i?Object(f.jsx)(Ha.a,{}):Object(f.jsx)(Ha.b,{}):Object(f.jsx)(Ha.c,{color:"#c8c8c8"}):null]})}),e.key)}))}),Object(f.jsx)("div",{className:Ea.a.list,children:a})]})},Wa=a(42),Ua=a.n(Wa),Za=function(e){var t=e.name,a=e.category,n=e.quantity,r=e.unit,s=e.price,i=e.editProd,l=e.deleteProd,o=Object(c.useState)(!1),d=Object(b.a)(o,2),u=d[0],j=d[1];return Object(f.jsxs)("div",{className:Ua.a.row,children:[Object(f.jsx)("div",{className:"".concat(Ua.a.block),children:Object(f.jsx)("span",{children:t})}),Object(f.jsx)("div",{className:"".concat(Ua.a.block),children:Object(f.jsx)("span",{children:a})}),Object(f.jsx)("div",{className:"".concat(Ua.a.block),children:Object(f.jsx)("span",{children:n})}),Object(f.jsx)("div",{className:"".concat(Ua.a.block),children:Object(f.jsx)("span",{children:r})}),Object(f.jsx)("div",{className:"".concat(Ua.a.block),children:Object(f.jsx)("span",{children:s})}),Object(f.jsx)("div",{className:"".concat(Ua.a.block),children:Object(f.jsx)(Qe,{onClick:function(){return j(!0)},children:Object(f.jsx)(Pe.c,{style:{fontSize:"1.2rem",color:"grey"}})})}),Object(f.jsx)(Je,{title:"Akcje produktu",trigger:u,closePopup:function(){return j(!1)},top:"10px",right:"10px",children:Object(f.jsxs)("div",{className:Ua.a.popupContent,children:[Object(f.jsx)(At,{onClick:i,name:"Etytuj",style:{margin:"10px 0"}}),Object(f.jsx)(At,{onClick:l,name:"Usu\u0144"})]})})]})},Ga=a(86),Qa=a.n(Ga),Va=function(e){var t=e.data;return Object(f.jsxs)("div",{className:Qa.a.container,children:[Object(f.jsxs)("div",{className:Qa.a.header,children:[Object(f.jsx)(Pe.a,{fontSize:"1.5rem"}),Object(f.jsx)("h4",{children:"Magazyn"})]}),t?Object.entries(t).map((function(e){var t=Object(b.a)(e,2),a=t[0],n=t[1];return Object(f.jsxs)("div",{className:Qa.a.box,children:[Object(f.jsx)("h5",{children:a}),Object(f.jsx)("span",{children:"ilo\u015b\u0107: ".concat(n)})]},a)})):null]})},Ya=function(){var e=K(),t=e.data,a=e.error,n=e.isLoading,r=X(),s=Object(b.a)(r,1)[0],i=J(),l=Object(b.a)(i,1)[0],o=$(),d=Object(b.a)(o,1)[0],u=Object(c.useState)(),j=Object(b.a)(u,2),O=j[0],m=j[1],p=Object(c.useState)(),x=Object(b.a)(p,2),h=x[0],_=x[1],g=Object(c.useState)(null),v=Object(b.a)(g,2),k=v[0],C=v[1],w=Object(c.useState)(!1),N=Object(b.a)(w,2),S=N[0],z=N[1],L=Object(c.useState)(!1),F=Object(b.a)(L,2),D=F[0],I=F[1],P="Wszystkie kategorie",T=Object(c.useState)(P),q=Object(b.a)(T,2),M=q[0],B=q[1];console.log(t),Object(c.useEffect)((function(){t&&(m(t),_(A(t)))}),[t]);var A=function(e){if(e)return Object(at.a)(e).map((function(e){return e.category})).reduce((function(e,t){return Object(ae.a)(Object(ae.a)({},e),{},Object(y.a)({},t,(e[t]||0)+1))}),{})};return Object(f.jsxs)("div",{className:Sa.a.container,children:[a&&Object(f.jsx)("h2",{children:"Error 500"}),Object(f.jsxs)("div",{className:Sa.a.left,children:[Object(f.jsx)("div",{className:Sa.a.top,children:Object(f.jsx)(Va,{data:h})}),Object(f.jsxs)("div",{className:Sa.a.bottom,children:[Object(f.jsx)(Ba,{addNewProduct:function(){return z(!0)},categories:h,handleFilterCategory:function(e){if(t){var a=Object(at.a)(t).filter((function(t){return t.category===e}));m(e!==P?a:t),B(e)}},activeCategory:M,allCategoryValue:P}),n?Object(f.jsx)("div",{children:"Loading..."}):Object(f.jsx)(Ra,{data:O,sortProducts:m,children:null===O||void 0===O?void 0:O.map((function(e){return Object(f.jsx)(Za,{_id:e._id,name:e.name,category:e.category,quantity:e.quantity,unit:e.unit,price:"".concat(e.price," z\u0142"),editProd:function(){return t=e,I(!0),void C(t);var t},deleteProd:function(){return s(e._id)}},e._id)}))})]})]}),Object(f.jsx)("div",{className:Sa.a.right,children:Object(f.jsx)("p",{children:"statystyki magazynu"})}),Object(f.jsx)(ca,{trigger:S,closeModal:function(){return z(!1)},children:Object(f.jsx)(Ta,{categoryList:h,formTitle:"Dodaj produkt",handleSubmitForm:function(e){var t=e.name,a=e.category,n=e.quantity,c=e.unit,r=e.price;l({name:t,category:a,quantity:n,unit:c,price:r})}})}),Object(f.jsx)(ca,{trigger:D,closeModal:function(){return I(!1)},children:k&&Object(f.jsx)(Ta,{categoryList:h,formTitle:"Edytuj produkt",defaultName:k.name,defaultCategory:k.category,defaultQuantity:k.quantity,defaultUnit:k.unit,defaultPrice:k.price,handleSubmitForm:function(e){var t=e.name,a=e.category,n=e.quantity,c=e.unit,r=e.price;d({_id:k._id,name:t,category:a,quantity:n,unit:c,price:r})}})})]})},Ka=function(){var e=K();e.data,e.error,e.isLoading,e.refetch;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Ya,{})})},Ja=function(){return Object(f.jsx)("div",{style:{padding:"4rem"},children:Object(f.jsx)("h2",{children:"Is in progress..."})})},Xa=function(){return Object(f.jsx)("div",{style:{padding:"4rem"},children:Object(f.jsx)("h2",{children:"Is in progress..."})})},$a=function(){return Object(f.jsx)("div",{style:{padding:"4rem"},children:Object(f.jsx)("h2",{children:"Is in progress..."})})},en=function(){return Object(f.jsx)(p.e,{children:Object(f.jsxs)(p.c,{element:Object(f.jsx)(et,{}),children:[Object(f.jsx)(p.c,{path:"/zadania",element:Object(f.jsx)(wa,{})}),Object(f.jsx)(p.c,{path:"/magazyn",element:Object(f.jsx)(Ka,{})}),Object(f.jsx)(p.c,{path:"/kalkulator",element:Object(f.jsx)($a,{})}),Object(f.jsx)(p.c,{path:"/statystyki",element:Object(f.jsx)(Ja,{})}),Object(f.jsx)(p.c,{path:"/ustawienia",element:Object(f.jsx)(Xa,{})}),Object(f.jsx)(p.c,{path:"/",element:Object(f.jsx)(p.a,{replace:!0,to:"/zadania"})})]})})},tn=function(){var e=_().user,t=Object(p.h)();return Object(c.useEffect)((function(){t(e?"/":"/logowanie")}),[e]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(p.e,{children:e?Object(f.jsx)(p.c,{path:"/*",element:Object(f.jsx)(en,{})}):Object(f.jsx)(p.c,{path:"/*",element:Object(f.jsx)(tt,{})})})})};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(te,{children:Object(f.jsx)(tn,{})})}),document.getElementById("root"))},22:function(e,t,a){e.exports={container:"styles_container__1-Vs_",formContainer:"styles_formContainer__3C9j6",formGroup:"styles_formGroup__9bsMI",inputContainer:"styles_inputContainer__qQIMg",selectGroup:"styles_selectGroup__QrqKR",select:"styles_select__1Kg3n",actionForm:"styles_actionForm__LxvJg"}},26:function(e,t,a){e.exports={sidebar:"styles_sidebar__3wC10",sidebarHidden:"styles_sidebarHidden__2mCv1",logo:"styles_logo__FkRb0",navButton:"styles_navButton__1WEZY",navButtonHidden:"styles_navButtonHidden__3yxNk",linksContainer:"styles_linksContainer__3j3Z7",navItem:"styles_navItem__2YkZ4",navLink:"styles_navLink__6CTBW",icon:"styles_icon__2krzZ",active:"styles_active__tcVzl",divider:"styles_divider__IMCRY"}},29:function(e,t,a){e.exports={list:"styles_list__10VXO",listHeader:"styles_listHeader__AZh60",textareaWrapper:"styles_textareaWrapper__22zi6",textarea:"styles_textarea__1OwBV",cardsContainer:"styles_cardsContainer__9wbRc",addCardForm:"styles_addCardForm__3OMuD",popupContent:"styles_popupContent__3R-MM",divider:"styles_divider__3pBig"}},38:function(e,t,a){e.exports={container:"styles_container__3seBR",cardDetails:"styles_cardDetails__3IlNx",textarea:"styles_textarea__1UO7U",btnContainer:"styles_btnContainer__2K_79",cardLabels:"styles_cardLabels__wxQ6P",cardLabel:"styles_cardLabel__1veyb",iconsContainer:"styles_iconsContainer__FrvYa",dateContainer:"styles_dateContainer__1zIDa",dateBtn:"styles_dateBtn__MSJbB",icons:"styles_icons__3feCS",cardCover:"styles_cardCover__1qwF_",actionsContainer:"styles_actionsContainer__2ZPg7",actionsPopup:"styles_actionsPopup__1YDHd",actionsPopupContent:"styles_actionsPopupContent__3-CHs"}},41:function(e,t,a){e.exports={sideMenu:"styles_sideMenu__n4Dft",menuHeader:"styles_menuHeader__yYTfi",menuOptions:"styles_menuOptions__YWr_m",optionsContainer:"styles_optionsContainer__3tHVd",description:"styles_description__1cACy",itemBox:"styles_itemBox__1cVqL"}},42:function(e,t,a){e.exports={row:"styles_row__jrhZD",block:"styles_block__LpmRW"}},46:function(e,t,a){e.exports={container:"styles_container__1Ckeh",login_formContainer:"styles_login_formContainer__1Aa54",left:"styles_left__1B5XZ",form_container:"styles_form_container__15YG_",input:"styles_input__1iHTC",error_msg:"styles_error_msg__3c5F1",right:"styles_right__rHiwj",white_btn:"styles_white_btn__1l2Cg",green_btn:"styles_green_btn__JtBYx"}},47:function(e,t,a){e.exports={container:"styles_container__9Abju",signup_formContainer:"styles_signup_formContainer__3QQH_",left:"styles_left__3a-9v",right:"styles_right__o1z62",form_container:"styles_form_container__2S9ok",input:"styles_input__XjSrT",error_msg:"styles_error_msg__2WEth",white_btn:"styles_white_btn__3jQeg",green_btn:"styles_green_btn__1r5ke"}},48:function(e,t,a){e.exports={form:"styles_form__qExef",textarea:"styles_textarea__3C6rf",actionsForm:"styles_actionsForm__1HEnh",reactColorful:"styles_reactColorful__1GZvD",pickerSwatches:"styles_pickerSwatches__2mV9F",pickerSwatch:"styles_pickerSwatch__pfsqw"}},50:function(e,t,a){e.exports={container:"styles_container__1-ydT",logoContainer:"styles_logoContainer__3ysgE",userInfo:"styles_userInfo__14Neq",userSignature:"styles_userSignature__XPf4S",userActionBtn:"styles_userActionBtn__8-DQQ"}},51:function(e,t,a){e.exports={container:"styles_container__34OC-",form:"styles_form__20oXv",inputContainer:"styles_inputContainer__jVvD7",select:"styles_select__3-boi",list:"styles_list__27ndL"}},61:function(e,t,a){e.exports={layout:"styles_layout__26wyt",appbar:"styles_appbar__1Areq",sidebar:"styles_sidebar__3gXVy",pages:"styles_pages__TSa_W"}},62:function(e,t,a){e.exports={board:"styles_board__iPJCd",container:"styles_container___wR6X",listContainer:"styles_listContainer__J17TG",formContainer:"styles_formContainer__3ixh_",addListForm:"styles_addListForm__2TrIA"}},63:function(e,t,a){e.exports={container:"styles_container__1jJ7k",fileImg:"styles_fileImg__2WSkh",selectCover:"styles_selectCover__18Z5f",fileDetails:"styles_fileDetails__9GK1H",fileButtons:"styles_fileButtons__1hbRL"}},64:function(e,t,a){e.exports={container:"styles_container__3iTl6",left:"styles_left__3c1Yx",top:"styles_top__2KYAn",bottom:"styles_bottom__17AQS",right:"styles_right__3WLBw"}},65:function(e,t,a){e.exports={header:"styles_header__1A8I6",filter:"styles_filter__bgwFP",filterBtn:"styles_filterBtn__1zXD9"}},66:function(e,t,a){e.exports={container:"styles_container__Q8g_j",header:"styles_header__1SGdT",head:"styles_head__egO-Y",block:"styles_block__36pkB",sortable:"styles_sortable__1-zpP"}},71:function(e,t,a){e.exports={formFile:"styles_formFile__3T8jv",labelFile:"styles_labelFile__De77c",spanContainer:"styles_spanContainer__2K5TI"}},82:function(e,t,a){e.exports={popup:"styles_popup__J-j7T",header:"styles_header__xILXA",popupContent:"styles_popupContent__24i3Z"}},83:function(e,t,a){e.exports={form:"styles_form__oc3HO",textarea:"styles_textarea__3-Mx0",actionsForm:"styles_actionsForm__2-exw"}},84:function(e,t,a){e.exports={overlay:"styles_overlay__1--du",modal:"styles_modal__7krd0",header:"styles_header__1sCxb"}},85:function(e,t,a){e.exports={box:"styles_box__1lrOR",container:"styles_container__OcLlI",clickableArea:"styles_clickableArea__3AfvO"}},86:function(e,t,a){e.exports={container:"styles_container__1xxgR",header:"styles_header__1vqFE",box:"styles_box__3y_wB"}},95:function(e,t,a){e.exports={wrapper:"styles_wrapper__3cznN",span:"styles_span__2LjB1",icon:"styles_icon__1ACJd"}},96:function(e,t,a){e.exports={taskButton:"styles_taskButton__2AgMZ",icon:"styles_icon__2X-0i"}},97:function(e,t,a){e.exports={container:"styles_container__5Io1M",boxColor:"styles_boxColor__3lLjZ"}},98:function(e,t,a){e.exports={container:"styles_container__Z6dLN",items:"styles_items__deea-"}}},[[208,1,2]]]);
//# sourceMappingURL=main.5eb8b625.chunk.js.map