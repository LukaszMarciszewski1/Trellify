{"version":3,"sources":["components/Details/Loading/styles.module.scss","components/Details/Input/styles.module.scss","components/Details/Button/styles.module.scss","components/Details/IconButton/styles.module.scss","components/Tasks/Card/CardModal/styles.module.scss","hooks/useAuth.tsx","store/api/boards.ts","store/api/lists.ts","store/api/cards.ts","store/api/files.ts","store/api/products.ts","store/store.ts","providers/AppProviders.tsx","components/Details/Loading/Loading.tsx","components/Details/Input/Input.tsx","components/Details/Messages/ErrorMessage.tsx","views/Auth/SignIn/SignIn.tsx","views/Auth/SignUp/SignUp.tsx","components/Sidebar/Sidebar.tsx","components/Details/Button/Button.tsx","components/Details/IconButton/IconButton.tsx","hooks/useOnClickOutside.ts","components/Details/Popup/Popup.tsx","assets/img/logo.svg","components/AppBar/AppBar.tsx","components/Layout.tsx","views/Auth/Auth.tsx","assets/img/defaultImg.jpg","assets/img/defaultColors.jpg","components/Tasks/localData.ts","components/Tasks/TaskForm/TaskForm.tsx","hooks/useIsFileImage.ts","components/Details/TaskButton/TaskButton.tsx","components/Tasks/Card/CardModal/CardModalDetails/Label/Label.tsx","components/Tasks/Card/CardModal/CardModalDetails/Container/Container.tsx","components/Tasks/Card/CardModal/CardModalDetails/LabelForm/LabelForm.tsx","components/Tasks/Card/CardModal/CardModalDetails/FileForm/FileForm.tsx","components/Tasks/Card/CardModal/CardModalDetails/Files/Files.tsx","components/Details/Modal/Modal.tsx","components/Tasks/Card/CardModal/CardModalDetails/UsedProducts/UsedProducts.tsx","components/Tasks/Card/CardModal/CardModal.tsx","hooks/useEventListener.ts","hooks/useHover.ts","components/Details/Box/Box.tsx","components/Tasks/Card/Card.tsx","components/Tasks/List/List.tsx","store/api/unsplashApi.ts","components/Tasks/SideMenu/SideMenu.tsx","components/Tasks/Board/Board.tsx","views/Home/TasksPage/TasksPage.tsx","components/Storage/ProductForm/ProductForm.tsx","components/Storage/Header/Header.tsx","components/Storage/ProductsList/ProductsList.tsx","components/Storage/Product/Product.tsx","components/Storage/CategoriesList/CategoriesList.tsx","components/Storage/Storage.tsx","views/Home/StoragePage/StoragePage.tsx","views/Home/Statistics/Statistics.tsx","views/Home/Settings/Settings.tsx","views/Home/Calculator/Calculator.tsx","views/Home/Home.tsx","views/Root.tsx","index.tsx","components/Storage/ProductForm/styles.module.scss","components/Sidebar/styles.module.scss","components/Tasks/List/styles.module.scss","components/Tasks/Card/styles.module.scss","components/Tasks/SideMenu/styles.module.scss","components/Storage/Product/styles.module.scss","views/Auth/SignIn/styles.module.scss","views/Auth/SignUp/styles.module.scss","components/Tasks/Card/CardModal/CardModalDetails/LabelForm/styles.module.scss","components/AppBar/styles.module.scss","components/Tasks/Card/CardModal/CardModalDetails/UsedProducts/styles.module.scss","components/styles.module.scss","components/Tasks/Board/styles.module.scss","components/Tasks/Card/CardModal/CardModalDetails/Files/styles.module.scss","components/Storage/styles.module.scss","components/Storage/Header/styles.module.scss","components/Storage/ProductsList/styles.module.scss","components/Tasks/Card/CardModal/CardModalDetails/FileForm/styles.module.scss","components/Details/Popup/styles.module.scss","components/Tasks/TaskForm/styles.module.scss","components/Details/Modal/styles.module.scss","components/Details/Box/styles.module.scss","components/Storage/CategoriesList/styles.module.scss","components/Details/Messages/styles.module.scss","components/Details/TaskButton/styles.module.scss","components/Tasks/Card/CardModal/CardModalDetails/Label/styles.module.scss","components/Tasks/Card/CardModal/CardModalDetails/Container/styles.module.scss"],"names":["module","exports","AuthContext","createContext","AuthProvider","children","value","useState","user","setUser","error","setError","loading","setLoading","navigate","useNavigate","useEffect","token","localStorage","getItem","a","axios","get","process","headers","authorization","data","console","log","signIn","email","password","config","post","setItem","response","message","signUp","name","signOut","removeItem","useProviderAuth","Provider","useAuth","auth","useContext","Error","boardApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","prepareHeaders","set","tagTypes","refetchOnMountOrArgChange","endpoints","builder","getAllBoards","query","providesTags","getBoard","id","url","createBoard","mutation","body","method","invalidatesTags","updateBoard","_id","patch","useGetAllBoardsQuery","useGetBoardQuery","useUpdateBoardMutation","useCreateBoardMutation","listsApi","getAllLists","getList","addList","updateList","deleteList","deleteAllCardsOfList","useAddListMutation","useGetAllListsQuery","useGetListQuery","useUpdateListMutation","useDeleteListMutation","useDeleteAllCardsOfListMutation","cardsApi","getAllCards","getCard","addCard","updateCard","deleteCard","useGetAllCardsQuery","useAddCardMutation","useGetCardQuery","useDeleteCardMutation","useUpdateCardMutation","filesApi","getAllFiles","getFile","uploadFile","deleteFile","downloadFile","useDeleteFileMutation","useGetAllFilesQuery","useGetFileQuery","useUploadFileMutation","useDownloadFileMutation","productsApi","getAllProducts","getProduct","addProduct","updateProduct","deleteProduct","useGetAllProductsQuery","useAddProductMutation","useGetProductQuery","useDeleteProductMutation","useUpdateProductMutation","store","configureStore","reducer","middleware","getDefaultMiddleware","concat","AppProviders","Loading","className","styles","loadingContainer","size","Input","forwardRef","ref","label","type","placeholder","disabled","onChange","defaultValue","step","minValue","props","min","input","ErrorMessage","wrapper","span","SignIn","errorResponse","useForm","register","handleSubmit","errors","formState","container","login_formContainer","left","form_container","onSubmit","required","green_btn","right","to","white_btn","validation","maxLength","minLength","pattern","SignUp","watch","signup_formContainer","nameErrors","emailErrors","passwordErrors","validate","val","confirm_password","menuItems","path","icon","Sidebar","location","useLocation","isSidebarOpen","setISSidebarOpen","sidebar","sidebarHidden","navButton","navButtonHidden","onClick","p","linksContainer","map","item","navItem","navLink","pathname","active","divider","Button","title","style","button","IconButton","iconButton","useOnClickOutside","handler","listener","event","el","current","contains","target","document","addEventListener","removeEventListener","Popup","trigger","isEditWindow","closePopup","backToMainWindow","refPopup","useRef","popup","header","popupContent","AppBar","popupTrigger","setPopupTrigger","signature","charAt","logoContainer","src","logoSrc","userAction","userActionBtn","top","userInfo","userSignature","Layout","layout","appbar","pages","authContainer","Auth","element","replace","defaultBgIcon","defaultImg","defaultColorIcon","defaultColors","presetColors","TaskForm","titleBtn","onBlur","onFocus","handleChange","closeForm","form","maxRows","textarea","autoFocus","onKeyDown","e","key","code","stopPropagation","actionsForm","marginRight","isFileImage","match","TaskButton","taskButton","Label","color","cardLabels","handleCheckedLabel","openLabelEditWindow","labelId","activeLabels","filter","background","boxColor","length","Container","isDataExist","Array","isArray","undefined","items","LabelForm","handleChangeTitle","handleChangeLabelTitle","handleDeleteLabel","formId","setSelectColor","selectColor","marginBottom","picker","reactColorful","pickerSwatches","slice","presetColor","pickerSwatch","FileForm","listNames","handleInputState","handleSubmitFiles","formFile","labelFile","multiple","hidden","spanContainer","index","nameFileSpan","Files","created","handleDeleteFile","handleDownloadFile","handleSelectCover","fileExtension","split","pop","fileImg","alt","selectCover","checked","height","width","fileDetails","fileButtons","margin","Modal","closeModal","refModal","overlay","modal","UsedProducts","cardId","isLoading","selectProduct","setSelectProduct","productsIdList","setProductsIdList","products","setProducts","displayProductFromList","p1","some","p2","htmlFor","inputContainer","select","handleSelectProduct","product","find","alert","marginLeft","list","preventDefault","usedProducts","handleAddProductsToCard","quantity","unit","max","newProductsIdList","handleRemoveFromList","padding","marginTop","CardModal","boardId","description","completed","labels","deadline","cover","files","nameList","dateIsSameOrBefore","deadlineIsSoon","cardDateDisplay","cardFileIndex","setCardCompleted","setIsCardWindowOpen","setCardCover","setCardFileIndex","dayjs","locale","registerLocale","pl","board","cards","cardTitle","setCardTitle","cardDescription","setCardDescription","setCardLabels","cardDeadline","setCardDeadline","boardLabels","setBoardLabels","labelTitle","setLabelTitle","isDescriptionFormOpen","setIsDescriptionFormOpen","isLabelEditPopupOpen","setIsLabelEditPopupOpen","isAddNewLabelPopupOpen","setIsAddNewLabelPopupOpen","currentLabelTitle","setCurrentLabelTitle","currentLabelId","setCurrentLabelId","currentLabelColor","setCurrentLabelColor","labelsTrigger","setLabelsTrigger","dateTrigger","setDateTrigger","fileTrigger","setFileTrigger","valuationTrigger","setValuationTrigger","storageTrigger","setStorageTrigger","selectedFiles","setSelectedFiles","selectedNameFiles","setSelectedNameFiles","uploadProgress","setUploadProgress","uploadStatus","setUploadStatus","handleUploadFiles","useCallback","from","arr","i","push","formData","FormData","append","uploadFileOptions","onUploadProgress","progressEvent","loaded","total","percent","Math","floor","then","res","setTimeout","catch","fileUrl","responseType","filename","fileDownload","cardCover","newWindow","window","open","opener","cardModalHeader","cardModalHeaderTextarea","cardModalTextareaTitle","rows","groupWrapper","content","backgroundColor","cardModalLabel","cardModalSelectedDateBtn","format","dateNotificationSpan","descriptionContainer","descriptionHeader","maxWidth","file","fileName","createdAt","fileType","fileId","cardModalSidebar","cardModalLabels","newLabels","newLabelsBoardState","card","newBoardLabelsState","newCardLabelsState","cardModalLabelsList","activeLabel","activeLabelTitle","toString","activeLabelColor","handleGetCurrentEditLabel","newCardLabels","newLabel","existLabel","newStateLabels","dateFormat","timeFormat","selected","Date","date","inline","showTimeInput","timeInputLabel","strokeWidth","strokeColor","useIsomorphicLayoutEffect","useLayoutEffect","useEventListener","eventName","savedHandler","targetElement","eventListener","useHover","elementRef","setValue","Card","box","clickableArea","TaskCard","setIsDragDisabled","isCardModalOpen","setIsCardModalOpen","cardCompleted","now","nowDate","setNowDate","cardFiles","setCardFiles","extend","isSameOrBefore","duration","relativeTime","hoverRef","isHover","intervalIsSameOrBefore","setInterval","clearInterval","displayCover","newFiles","filesOnlyImages","selectedCover","activeIndex","indexOf","indexOnlyImages","findIndex","handleOpenCardModal","handleChangeCompleted","timeToDeadline","diff","fromNow","iconStyle","fontSize","draggableId","provided","innerRef","draggableProps","dragHandleProps","Box","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","cardDetails","cardLabel","iconsContainer","dateBtn","icons","List","listTitle","setListTitle","isCardFormOpen","setIsCardFormOpen","isTitleFormOpen","setIsTitleFormOpen","isDragDisabled","handleChangeListTitle","handleAddCardTitle","handleOnKeyDownListTitle","handleAddCard","listId","handleDeleteAllCardsOfList","handleDeleteList","handleSortCardsByDate","newCards","sort","b","listWrapper","String","listHeader","textareaWrapper","droppableId","droppableProps","cardsContainer","addCardForm","getImages","page","random","urlImages","photos","results","image","thumb","urls","full","username","link","links","html","SideMenu","handleCloseMenu","setBackgroundUrl","optionColors","setOptionsColors","optionImages","setOptionsImages","images","setImages","getListOfImages","listImages","sideMenu","menuHeader","menuOptions","itemBox","optionsContainer","photo","Board","lists","backgroundApi","setBackground","isOpenForm","setIsOpenForm","isOpenSideMenu","setIsOpenSideMenu","setLists","formRef","boardBackgroundStyle","onDragEnd","result","destination","source","newLists","splice","removed","sourceList","destinationList","updateState","newState","obj","o","startCards","finishCards","startState","direction","listContainer","formContainer","addListForm","TasksPage","AddProductForm","defaultName","defaultCategory","defaultQuantity","defaultUnit","defaultPrice","categoryList","formTitle","handleSubmitForm","isSuccess","categorySwitch","setCategorySwitch","formGroup","quantityErrors","price","priceErrors","selectGroup","category","categoryErrors","Object","entries","actionForm","Header","categories","allCategoryValue","activeCategory","addNewProduct","handleFilterCategory","isPopupOpen","setIsPopupOpen","categoryName","filterBtn","ProductsList","sortProducts","order","setOrder","sortKey","setSortKey","sortData","sortBy","array","sorted","localeCompare","numeric","head","sortable","row","block","Product","editProd","deleteProd","CategoriesList","Storage","setCategories","currentProduct","setCurrentProduct","isModalOpen","setIsModalOpen","isModalEditOpen","setIsModalEditOpen","setActiveCategory","getCategories","reduce","acc","bottom","filterProducts","prod","ProductForm","View2","refetch","View3","Settings","Calculator","Home","Statistics","Root","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5eb8b625.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingContainer\":\"styles_loadingContainer__1bcJk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"styles_input__1cKbP\",\"error\":\"styles_error__2mt9a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"styles_button__2U68g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iconButton\":\"styles_iconButton__12sp6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2Wksr\",\"cardCover\":\"styles_cardCover__2lm_h\",\"cardModalHeader\":\"styles_cardModalHeader__3aWP1\",\"cardModalHeaderTextarea\":\"styles_cardModalHeaderTextarea__1q8aD\",\"cardModalTextareaTitle\":\"styles_cardModalTextareaTitle__39NFj\",\"groupWrapper\":\"styles_groupWrapper__Z8PwQ\",\"content\":\"styles_content__ul5DA\",\"descriptionContainer\":\"styles_descriptionContainer__25uRd\",\"descriptionHeader\":\"styles_descriptionHeader__3k9ZG\",\"actionsForm\":\"styles_actionsForm__3Ld_q\",\"cardModalSidebar\":\"styles_cardModalSidebar__2BjPJ\",\"divider\":\"styles_divider__R3UMs\",\"cardModalLabels\":\"styles_cardModalLabels__36ET-\",\"cardModalLabelsList\":\"styles_cardModalLabelsList__xKnwB\",\"cardModalLabel\":\"styles_cardModalLabel__bpqjs\",\"dateNotificationSpan\":\"styles_dateNotificationSpan__1mGne\",\"cardModalSelectedDateBtn\":\"styles_cardModalSelectedDateBtn__1VzSD\"};","import React, { createContext, useContext, useState, useEffect } from 'react'\r\nimport { User } from '../models/user'\r\nimport axios from 'axios'\r\nimport { useNavigate } from 'react-router-dom'\r\nconst AuthContext = createContext<AuthContextData | null>(null)\r\n\r\ntype AuthContextData = ReturnType<typeof useProviderAuth>\r\n\r\nexport const useProviderAuth = () => {\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [error, setError] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n  const navigate = useNavigate()\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token') || null;\r\n    if (token) {\r\n      (async () => {\r\n        try {\r\n          const { data } = await axios.get(`${process.env.REACT_APP_API_URL}users/me`, {\r\n            headers: {\r\n              authorization: `Bearer ${token}`,\r\n            },\r\n          });\r\n          setUser(data);\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      })()\r\n    }\r\n  }, [])\r\n\r\n  const signIn = async ({ email, password }: User) => {\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n      },\r\n    }\r\n    setLoading(true)\r\n    try {\r\n      const { data } = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}users/login`,\r\n        {\r\n          email,\r\n          password,\r\n        },\r\n        config\r\n      )\r\n      setLoading(false)\r\n      setUser(data)\r\n      localStorage.setItem('token', data.token)\r\n    } catch (error: any) {\r\n      setLoading(false)\r\n      setError(error.response.data.message)\r\n    }\r\n  }\r\n\r\n  const signUp = async ({ name, email, password }: User) => {\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n      },\r\n    }\r\n    setLoading(true)\r\n    try {\r\n      await axios.post(\r\n        `${process.env.REACT_APP_API_URL}users`,\r\n        {\r\n          name,\r\n          email,\r\n          password,\r\n        },\r\n        config\r\n      )\r\n      setLoading(false)\r\n      navigate('/logowanie')\r\n    } catch (error: any) {\r\n      setLoading(false)\r\n      setError(error.response.data.message)\r\n    }\r\n  }\r\n\r\n  const signOut = () => {\r\n    setUser(null)\r\n    localStorage.removeItem('token')\r\n  }\r\n\r\n  return { user, loading, error, signIn, signUp, signOut }\r\n}\r\n\r\nexport const AuthProvider: React.FC = ({ children }) => {\r\n  const value = useProviderAuth()\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useAuth = () => {\r\n  const auth = useContext(AuthContext)\r\n\r\n  if (!auth) {\r\n    throw new Error('useAuth needs to be used inside AuthContext')\r\n  }\r\n\r\n  return auth\r\n}","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\nimport { Board } from '../../models/board'\r\ntype BoardResponse = Board[]\r\nconst token = localStorage.getItem('token') || null\r\n\r\nexport const boardApi = createApi({\r\n  reducerPath: 'boardApi',\r\n\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: process.env.REACT_APP_API_URL,\r\n    prepareHeaders: (headers) => {\r\n      const token = localStorage.getItem('token')\r\n      if (token) {\r\n        headers.set('authorization', `Bearer ${token}`)\r\n      }\r\n      return headers\r\n    },\r\n  }),\r\n\r\n  tagTypes: ['Board'],\r\n  refetchOnMountOrArgChange: token ? true : false,\r\n\r\n  endpoints: (builder) => ({\r\n    getAllBoards: builder.query<BoardResponse, void>({\r\n      query: () => `boards`,\r\n      providesTags: ['Board'],\r\n    }),\r\n\r\n    getBoard: builder.query<Board, string>({\r\n      query: (id) => {\r\n        return {\r\n          url: `boards/${id}`,\r\n        }\r\n      },\r\n      providesTags: ['Board'],\r\n    }),\r\n\r\n    createBoard: builder.mutation<Board, Partial<Board>>({\r\n      query: (body: {}) => ({\r\n        url: 'boards',\r\n        method: 'POST',\r\n        body,\r\n      }),\r\n      invalidatesTags: ['Board'],\r\n    }),\r\n\r\n    updateBoard: builder.mutation<Board, Partial<Board>>({\r\n      query: ({ _id, ...patch }) => ({\r\n        url: `boards/${_id}`,\r\n        method: 'PATCH',\r\n        body: patch,\r\n      }),\r\n      invalidatesTags: ['Board'],\r\n    }),\r\n  }),\r\n})\r\n\r\nexport const {\r\n  useGetAllBoardsQuery,\r\n  useGetBoardQuery,\r\n  useCreateBoardMutation,\r\n  useUpdateBoardMutation,\r\n} = boardApi\r\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\nimport { List } from '../../models/list'\r\n\r\ntype ListResponse = List[]\r\n\r\nexport const listsApi = createApi({\r\n  reducerPath: 'listApi',\r\n  baseQuery: fetchBaseQuery({ baseUrl: process.env.REACT_APP_API_URL }),\r\n  tagTypes: ['List'],\r\n  endpoints: (builder) => ({\r\n    getAllLists: builder.query<ListResponse, void>({\r\n      query: () => `lists`,\r\n      providesTags: ['List'],\r\n    }),\r\n    getList: builder.query<List, string>({\r\n      query: (id) => `lists/${id}`,\r\n      providesTags: ['List'],\r\n    }),\r\n    addList: builder.mutation<List, Partial<List>>({\r\n      query: (body: {}) => ({\r\n        url: 'lists',\r\n        method: 'POST',\r\n        body,\r\n      }),\r\n      invalidatesTags: ['List'],\r\n    }),\r\n    updateList: builder.mutation<List, Partial<List>>({\r\n      query: ({ _id, ...patch }) => ({\r\n        url: `lists/${_id}`,\r\n        method: 'PATCH',\r\n        body: patch,\r\n      }),\r\n      invalidatesTags: ['List'],\r\n    }),\r\n    deleteList: builder.mutation<{ success: boolean; id: string | number }, string>({\r\n      query: (id) => ({\r\n        url: `lists/${id}`,\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: ['List'],\r\n    }),\r\n    deleteAllCardsOfList: builder.mutation<List, Partial<List>>({\r\n      query: ({ _id, ...patch }) => ({\r\n        url: `lists/${_id}/cards`,\r\n        method: 'PATCH',\r\n        body: patch,\r\n      }),\r\n      invalidatesTags: ['List'],\r\n    }),\r\n  }),\r\n})\r\n\r\nexport const {\r\n  useGetAllListsQuery,\r\n  useGetListQuery,\r\n  useAddListMutation,\r\n  useUpdateListMutation,\r\n  useDeleteListMutation,\r\n  useDeleteAllCardsOfListMutation,\r\n} = listsApi\r\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\nimport { Card } from '../../models/card'\r\n\r\ntype CardsResponse = Card[]\r\n\r\nexport const cardsApi = createApi({\r\n  reducerPath: 'cardsApi',\r\n  baseQuery: fetchBaseQuery({ baseUrl: process.env.REACT_APP_API_URL }),\r\n  tagTypes: ['Cards'],\r\n  endpoints: (builder) => ({\r\n    getAllCards: builder.query<CardsResponse, void>({\r\n      query: () => `cards`,\r\n      providesTags: ['Cards'],\r\n    }),\r\n    getCard: builder.query<Card, string>({\r\n      query: (id) => `cards/${id}`,\r\n      providesTags: ['Cards'],\r\n    }),\r\n    addCard: builder.mutation<Card, Partial<Card>>({\r\n      query: (body: {}) => ({\r\n        url: 'cards',\r\n        method: 'POST',\r\n        body,\r\n      }),\r\n      invalidatesTags: ['Cards'],\r\n    }),\r\n    updateCard: builder.mutation<Card, Partial<Card>>({\r\n      query: ({ _id, ...patch }) => ({\r\n        url: `cards/${_id}`,\r\n        method: 'PATCH',\r\n        body: patch,\r\n      }),\r\n      invalidatesTags: ['Cards'],\r\n    }),\r\n    deleteCard: builder.mutation<{ success: boolean; id: string }, string>({\r\n      query: (id) => ({\r\n        url: `cards/${id}`,\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: ['Cards'],\r\n    }),\r\n\r\n  }),\r\n})\r\n\r\nexport const {\r\n  useGetAllCardsQuery,\r\n  useGetCardQuery,\r\n  useAddCardMutation,\r\n  useDeleteCardMutation,\r\n  useUpdateCardMutation,\r\n} = cardsApi\r\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\nimport { File } from '../../models/file'\r\n\r\ntype FilesResponse = File[]\r\n\r\nexport const filesApi = createApi({\r\n  reducerPath: 'filesApi',\r\n  baseQuery: fetchBaseQuery({ baseUrl: process.env.REACT_APP_API_URL }),\r\n  tagTypes: ['Files'],\r\n  endpoints: (builder) => ({\r\n    getAllFiles: builder.query<FilesResponse, void>({\r\n      query: () => `files`,\r\n      providesTags: ['Files'],\r\n    }),\r\n    getFile: builder.query<File, string>({\r\n      query: (id) => `files/${id}`,\r\n      providesTags: ['Files'],\r\n    }),\r\n    uploadFile: builder.mutation<FilesResponse, Partial<File>>({\r\n      query: (body: {}) => ({\r\n        url: `files`,\r\n        method: 'POST',\r\n        body,\r\n      }),\r\n      invalidatesTags: ['Files'],\r\n    }),\r\n    deleteFile: builder.mutation<{ success: boolean; id: string | number },string>({\r\n      query: (id) => ({\r\n        url: `files/${id}`,\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: ['Files'],\r\n    }),\r\n    downloadFile: builder.mutation<{ success: boolean; id: string | number },string>({\r\n      query: (id) => ({\r\n        url: `files/${id}`,\r\n        method: 'GET',\r\n      }),\r\n      invalidatesTags: ['Files'],\r\n    }),\r\n  }),\r\n})\r\n\r\nexport const {\r\n  useGetAllFilesQuery,\r\n  useGetFileQuery,\r\n  useUploadFileMutation,\r\n  useDeleteFileMutation,\r\n  useDownloadFileMutation,\r\n} = filesApi\r\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'\r\nimport { Product } from '../../models/product'\r\n\r\ntype ProductResponse = Product[]\r\nconst token = localStorage.getItem('token') || null\r\nexport const productsApi = createApi({\r\n  reducerPath: 'productsApi',\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: process.env.REACT_APP_API_URL,\r\n    prepareHeaders: (headers) => {\r\n      const token = localStorage.getItem('token') || null\r\n      if (token) {\r\n        headers.set('authorization', `Bearer ${token}`)\r\n      }\r\n      return headers\r\n    },\r\n  }),\r\n  refetchOnMountOrArgChange: token ? true : false,\r\n  tagTypes: ['Products'],\r\n  endpoints: (builder) => ({\r\n    getAllProducts: builder.query<ProductResponse, void>({\r\n      query: () => `products`,\r\n      providesTags: ['Products'],\r\n    }),\r\n    getProduct: builder.query<Product, string>({\r\n      query: (id) => `products/${id}`,\r\n      providesTags: ['Products'],\r\n    }),\r\n    addProduct: builder.mutation<Product, Partial<Product>>({\r\n      query: (body: {}) => ({\r\n        url: 'products',\r\n        method: 'POST',\r\n        body,\r\n      }),\r\n      invalidatesTags: ['Products'],\r\n    }),\r\n    updateProduct: builder.mutation<Product, Partial<Product>>({\r\n      query: ({ _id, ...patch }) => ({\r\n        url: `products/${_id}`,\r\n        method: 'PATCH',\r\n        body: patch,\r\n      }),\r\n      invalidatesTags: ['Products'],\r\n    }),\r\n    deleteProduct: builder.mutation<{ success: boolean; id: string }, string>({\r\n      query: (id) => ({\r\n        url: `products/${id}`,\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: ['Products'],\r\n    }),\r\n  }),\r\n})\r\n\r\nexport const {\r\n  useGetAllProductsQuery,\r\n  useGetProductQuery,\r\n  useAddProductMutation,\r\n  useDeleteProductMutation,\r\n  useUpdateProductMutation,\r\n} = productsApi\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport { boardApi } from './api/boards'\r\nimport { listsApi } from './api/lists'\r\nimport { cardsApi } from './api/cards'\r\nimport { filesApi } from './api/files'\r\nimport { productsApi } from './api/products'\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    [boardApi.reducerPath]: boardApi.reducer,\r\n    [listsApi.reducerPath]: listsApi.reducer,\r\n    [cardsApi.reducerPath]: cardsApi.reducer,\r\n    [filesApi.reducerPath]: filesApi.reducer,\r\n    [productsApi.reducerPath]: productsApi.reducer\r\n  },\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware().concat(\r\n      boardApi.middleware,\r\n      listsApi.middleware,\r\n      cardsApi.middleware,\r\n      filesApi.middleware,\r\n      productsApi.middleware\r\n    ),\r\n})\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\n","import React from 'react'\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { AuthProvider } from '../hooks/useAuth';\r\nimport { store } from '../store/store';\r\nimport { Outlet } from 'react-router-dom';\r\n\r\nconst AppProviders: React.FC = ({ children }) => {\r\n  return (\r\n    <Provider store={store}>\r\n      <BrowserRouter>\r\n        <AuthProvider>\r\n          {children}\r\n        </AuthProvider>\r\n      </BrowserRouter>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nexport default AppProviders","import React from 'react'\r\nimport MoonLoader from \"react-spinners/MoonLoader\";\r\nimport styles from './styles.module.scss'\r\nconst Loading = () => {\r\n  return (\r\n  <div className={styles.loadingContainer}>\r\n     <MoonLoader size={40}/>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default Loading","import React, { forwardRef } from 'react'\r\nimport styles from './styles.module.scss'\r\n\r\nexport type InputProps = {\r\n  id: string;\r\n  name: string;\r\n  label: string;\r\n  type?: 'text' | 'email' | 'number' | 'password';\r\n  placeholder: string\r\n  disabled?: boolean\r\n  onChange?: (value: any) => void\r\n  error?: {} | undefined | ((value: any) => void)\r\n  value?: number | string\r\n  step?: string\r\n  minValue?: number\r\n  defaultValue?: string | number\r\n}\r\n\r\nconst Input: React.FC<InputProps> = forwardRef<HTMLInputElement, InputProps>(\r\n  (\r\n    {\r\n      id,\r\n      name,\r\n      label,\r\n      type,\r\n      placeholder,\r\n      disabled,\r\n      onChange,\r\n      value,\r\n      defaultValue,\r\n      step,\r\n      minValue,\r\n      ...props\r\n    },\r\n    ref\r\n  ) => {\r\n    return (\r\n      <input\r\n        id={id}\r\n        ref={ref}\r\n        name={name}\r\n        type={type}\r\n        value={value}\r\n        defaultValue={defaultValue}\r\n        aria-label={label}\r\n        placeholder={placeholder}\r\n        step={step}\r\n        min={minValue}\r\n        onChange={onChange}\r\n        disabled={disabled}\r\n        className={styles.input}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\n\r\nexport default Input","import React from 'react'\r\nimport styles from './styles.module.scss'\r\nimport { BiErrorCircle } from \"react-icons/bi\";\r\n\r\ninterface ErrorMessageProps {\r\n  message: string\r\n}\r\n\r\nconst ErrorMessage:React.FC<ErrorMessageProps> = ({message}) => {\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <span className={styles.span}>{message}</span>\r\n      {/* <div className={styles.icon}><BiErrorCircle /></div> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ErrorMessage","import { Link } from 'react-router-dom';\r\nimport styles from './styles.module.scss'\r\nimport Loading from '../../../components/Details/Loading/Loading'\r\nimport { useAuth } from '../../../hooks/useAuth'\r\nimport { useForm } from 'react-hook-form';\r\nimport Input from '../../../components/Details/Input/Input'\r\nimport { User } from '../../../models/user'\r\nimport ErrorMessage from '../../../components/Details/Messages/ErrorMessage';\r\n\r\nconst SignIn: React.FC = () => {\r\n  const { loading, error: errorResponse, signIn } = useAuth()\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<User>();\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.login_formContainer}>\r\n        <div className={styles.left}>\r\n          {loading ? <Loading /> : null}\r\n          <form className={styles.form_container} onSubmit={handleSubmit(signIn)}>\r\n            <h1>Zaloguj się</h1>\r\n            <Input\r\n              id={'email'}\r\n              placeholder={'email'}\r\n              label={'Email'}\r\n              type=\"text\"\r\n              {...register(\"email\", { required: true })}\r\n            />\r\n            {errors.email && <ErrorMessage message={'Email jest wymagany'} />}\r\n            <Input\r\n              id={'password'}\r\n              placeholder={'password'}\r\n              label={'Password'}\r\n              type=\"password\"\r\n              {...register(\"password\", { required: true })}\r\n            />\r\n            {errors.password && <ErrorMessage message={'Hasło jest wymagane'} />}\r\n            {errorResponse && <ErrorMessage message={'Email lub hasło jest nieprawidłowe'} />}\r\n            <button type='submit' className={styles.green_btn}>\r\n              Logowanie\r\n            </button>\r\n          </form>\r\n        </div>\r\n        <div className={styles.right}>\r\n          <h1>Zarejestruj się</h1> <br />\r\n          <Link to='/rejestracja'>\r\n            <button type='button' className={styles.white_btn}>\r\n              Rejestracja\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignIn","import { Link } from 'react-router-dom'\r\nimport styles from './styles.module.scss'\r\nimport { useAuth } from '../../../hooks/useAuth'\r\nimport { useForm } from 'react-hook-form';\r\nimport { User } from '../../../models/user'\r\nimport Loading from '../../../components/Details/Loading/Loading'\r\nimport Input from '../../../components/Details/Input/Input'\r\nimport ErrorMessage from '../../../components/Details/Messages/ErrorMessage';\r\n\r\nconst validation = {\r\n  name: {\r\n    required: true,\r\n    maxLength: 20,\r\n    minLength: 2,\r\n  },\r\n  email: {\r\n    required: true,\r\n    pattern: /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n  },\r\n  password: {\r\n    required: true,\r\n    pattern: /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/\r\n  }\r\n}\r\n\r\nconst SignUp: React.FC = () => {\r\n  const { loading, signUp } = useAuth()\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    watch,\r\n    formState: { errors },\r\n  } = useForm<User>();\r\n\r\n  const nameErrors = (type: any) => {\r\n    switch (type) {\r\n      case 'required':\r\n        return <ErrorMessage message={'Imię jest wymagane'} />\r\n      case 'minLength':\r\n        return <ErrorMessage message={'Imię musi zawierać conajmiej 2 znaki'} />\r\n      case 'maxLength':\r\n        return <ErrorMessage message={'Imię może zawierać maksymalnie 20 znaków'} />\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  const emailErrors = (type: any) => {\r\n    switch (type) {\r\n      case 'required':\r\n        return <ErrorMessage message={'Email jest wymagany'} />\r\n      case 'pattern':\r\n        return <ErrorMessage message={'Email jest niepoprawny'} />\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  const passwordErrors = (type: any) => {\r\n    switch (type) {\r\n      case 'required':\r\n        return <ErrorMessage message={'Hasło jest wymagane'} />\r\n      case 'pattern':\r\n        return <ErrorMessage message={'Hasło musi zawierać: co najmniej 8 znaków, 1 cyfrę, 1 małą literę i 1 wielką literę'} />\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.signup_formContainer}>\r\n        <div className={styles.left}>\r\n          <h1>Zaloguj się</h1><br />\r\n          <Link to='/logowanie'>\r\n            <button type='button' className={styles.white_btn}>\r\n              Logowanie\r\n            </button>\r\n          </Link>\r\n        </div>\r\n        <div className={styles.right}>\r\n          {loading ? <Loading /> : null}\r\n          <form className={styles.form_container} onSubmit={handleSubmit(signUp)}>\r\n            <h1>Utwórz konto</h1>\r\n            <Input\r\n              id={'name'}\r\n              placeholder={'Imię'}\r\n              label={'Imię'}\r\n              type=\"text\"\r\n              error={errors.name}\r\n              {...register(\"name\", { ...validation.name })}\r\n            />\r\n            {nameErrors(errors.name?.type)}\r\n            <Input\r\n              id={'email'}\r\n              placeholder={'email'}\r\n              label={'Email'}\r\n              type=\"text\"\r\n              {...register(\"email\", { ...validation.email })}\r\n            />\r\n            {emailErrors(errors.email?.type)}\r\n            <Input\r\n              id={'password'}\r\n              placeholder={'password'}\r\n              label={'Password'}\r\n              type=\"password\"\r\n              {...register(\"password\", { ...validation.password })}\r\n            />\r\n            {passwordErrors(errors.password?.type)}\r\n            <Input\r\n              id={'confirm_password'}\r\n              placeholder={'confirm password'}\r\n              label={'Confirm Password'}\r\n              type=\"password\"\r\n              {...register(\"confirm_password\", {\r\n                required: true, validate: (val: string) => val === watch('password')\r\n              })}\r\n            />\r\n            {errors.confirm_password && <ErrorMessage message={'Wpisz poprawne hasło'} />}\r\n            <button type='submit' className={styles.green_btn}>\r\n              Rejestracja\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp\r\n","import React, { useState } from 'react'\r\nimport { Link, useLocation } from 'react-router-dom'\r\nimport styles from './styles.module.scss'\r\n\r\nimport { MdArrowForwardIos } from \"react-icons/md\";\r\nimport { CgCalculator } from \"react-icons/cg\";\r\nimport { GiDeliveryDrone } from \"react-icons/gi\";\r\nimport { AiOutlineInfoCircle } from \"react-icons/ai\";\r\nimport { GrTask } from \"react-icons/gr\";\r\nimport { BiCategory } from 'react-icons/bi'\r\n\r\nconst menuItems = [\r\n  {\r\n    name: 'Zadania',\r\n    path: '/zadania',\r\n    icon: <GrTask />\r\n  },\r\n  {\r\n    name: 'Magazyn',\r\n    path: '/magazyn',\r\n    icon: <BiCategory />\r\n  },\r\n  {\r\n    name: 'Kalkulator',\r\n    path: '/kalkulator',\r\n    icon: <CgCalculator />\r\n  },\r\n  {\r\n    name: 'Statystyki',\r\n    path: '/statystyki',\r\n    icon: <GiDeliveryDrone />\r\n  },\r\n  {\r\n    name: 'Ustawienia',\r\n    path: '/ustawienia',\r\n    icon: <AiOutlineInfoCircle />\r\n  },\r\n]\r\n\r\nconst Sidebar: React.FC = () => {\r\n  const location = useLocation()\r\n  const [isSidebarOpen, setISSidebarOpen] = useState(true)\r\n\r\n  return (\r\n    <nav className={`${styles.sidebar} ${isSidebarOpen ? styles.sidebarHidden : styles.sidebar}`}>\r\n      <button\r\n        className={`${styles.navButton} ${isSidebarOpen ? styles.navButton : styles.navButtonHidden}`}\r\n        onClick={() => setISSidebarOpen((p) => !p)}>\r\n        <MdArrowForwardIos />\r\n      </button>\r\n      <ul className={styles.linksContainer}>\r\n        {menuItems.map((item) => (\r\n          <li key={item.name}\r\n            className={styles.navItem}\r\n          >\r\n            <Link\r\n              to={item.path}\r\n            >\r\n              <div className={`${styles.navLink} ${location.pathname === item.path ? styles.active : styles.navLink}`}>\r\n                <div className={styles.icon}>{item.icon}</div>\r\n                <p>{!isSidebarOpen ? item.name : null}</p>\r\n              </div>\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <div className={styles.divider} />\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n","import React from 'react'\r\nimport styles from './styles.module.scss'\r\n\r\ninterface ButtonProps {\r\n  onClick?: (e: any) => void\r\n  style?: {}\r\n  title: string\r\n  icon?: Element\r\n  type?: \"button\" | \"submit\" | \"reset\" | undefined\r\n}\r\n\r\nconst Button: React.FC<ButtonProps> = ({ title, style, onClick, ...props }) => (\r\n  <button\r\n    className={styles.button}\r\n    style={style}\r\n    onClick={onClick}\r\n    {...props}>\r\n    {title}\r\n  </button>\r\n)\r\n\r\nexport default Button\r\n","import React from 'react'\r\nimport styles from './styles.module.scss'\r\n\r\ninterface IconButtonProps {\r\n  onClick?: () => void\r\n  icon?: any\r\n  title?: string\r\n  padding?: string\r\n  style?: {}\r\n}\r\n\r\nconst IconButton: React.FC<IconButtonProps> = (props) => (\r\n  <button\r\n    className={styles.iconButton}\r\n    onClick={props.onClick}\r\n    type='button'\r\n    style={props.style}\r\n  >\r\n    {props.children}\r\n  </button>\r\n)\r\n\r\nexport default IconButton\r\n","import { RefObject, useEffect } from 'react'\r\n\r\ntype AnyEvent = MouseEvent | TouchEvent\r\n\r\nfunction useOnClickOutside<T extends HTMLElement = HTMLElement>(\r\n  ref: RefObject<T>,\r\n  handler: (event: AnyEvent) => void,\r\n): void {\r\n  useEffect(() => {\r\n    const listener = (event: AnyEvent) => {\r\n      const el = ref?.current\r\n\r\n      if (!el || el.contains(event.target as Node)) {\r\n        return\r\n      }\r\n\r\n      handler(event)\r\n    }\r\n\r\n    document.addEventListener(`mousedown`, listener)\r\n    document.addEventListener(`touchstart`, listener)\r\n\r\n    return () => {\r\n      document.removeEventListener(`mousedown`, listener)\r\n      document.removeEventListener(`touchstart`, listener)\r\n    }\r\n\r\n  }, [ref, handler])\r\n}\r\n\r\nexport default useOnClickOutside","import React, { useRef } from 'react'\r\nimport styles from './styles.module.scss'\r\nimport IconButton from '../IconButton/IconButton'\r\nimport { BsXLg } from \"react-icons/bs\";\r\nimport { MdOutlineArrowBackIos } from \"react-icons/md\";\r\nimport useOnClickOutside from '../../../hooks/useOnClickOutside'\r\n\r\ninterface PopupPosition {\r\n right?: string,\r\n top?: string\r\n}\r\n\r\ninterface PopupProps extends PopupPosition {\r\n  trigger?: boolean\r\n  title: string\r\n  isEditWindow?: boolean\r\n  closePopup: () => void\r\n  backToMainWindow?: () => void\r\n}\r\nconst Popup: React.FC<PopupProps> = ({ children, trigger, title, isEditWindow, closePopup, backToMainWindow, ...props}) => {\r\n  const refPopup = useRef(null)\r\n  useOnClickOutside(refPopup, closePopup)\r\n  \r\n  return (\r\n    trigger ? (\r\n      <div className={styles.popup} ref={refPopup} style={{...props}}>\r\n        <div className={styles.header}>\r\n          {isEditWindow ? <IconButton onClick={backToMainWindow}><MdOutlineArrowBackIos /></IconButton> : null}\r\n          <h3>{title}</h3>\r\n          <IconButton onClick={closePopup}><BsXLg /></IconButton>\r\n        </div>\r\n        <div className={styles.popupContent}>\r\n          {children}\r\n        </div>\r\n      </div>\r\n    ) : null\r\n  )\r\n}\r\n\r\nexport default Popup","export default __webpack_public_path__ + \"static/media/logo.7eca49e8.svg\";","import React, { useState } from 'react'\r\nimport styles from './styles.module.scss'\r\nimport Button from '../Details/Button/Button'\r\nimport { useAuth } from '../../hooks/useAuth'\r\nimport Popup from '../Details/Popup/Popup'\r\nimport logoSrc from '../../assets/img/logo.svg'\r\n\r\nconst AppBar: React.FC = () => {\r\n  const { user, signOut } = useAuth()\r\n  const [popupTrigger, setPopupTrigger] = useState(false)\r\n  const signature = user ? user.name.charAt(0) : ''\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.logoContainer}>\r\n        <img src={logoSrc} />\r\n      </div>\r\n      <div className={styles.userAction}>\r\n        <button onClick={() => setPopupTrigger(true)} className={styles.userActionBtn}>\r\n          <h3>{signature}</h3>\r\n        </button>\r\n        <Popup\r\n          title={'Konto'}\r\n          trigger={popupTrigger}\r\n          closePopup={() => {\r\n            setPopupTrigger(false)\r\n          }}\r\n          top={'55px'}\r\n          right={'5px'}\r\n        >\r\n          <div className={styles.userInfo}>\r\n            <div className={styles.userSignature}><h3>{signature}</h3></div>\r\n            <div>\r\n              <p>{user?.name}</p>\r\n              <span>{user?.email}</span>\r\n            </div>\r\n          </div>\r\n          <Button\r\n            title={'Wyloguj'}\r\n            onClick={signOut}\r\n            type={'button'} \r\n          />\r\n        </Popup>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AppBar\r\n","import React from 'react'\r\nimport styles from './styles.module.scss'\r\nimport Sidebar from './Sidebar/Sidebar'\r\nimport AppBar from './AppBar/AppBar'\r\nimport { Outlet } from 'react-router-dom';\r\nimport { useAuth } from '../hooks/useAuth'\r\n\r\nconst Layout: React.FC = () => {\r\n  const { user } = useAuth()\r\n  return (\r\n    <>\r\n      {user ? (\r\n        <div className={styles.layout}>\r\n          <div className={styles.appbar}>\r\n            <AppBar />\r\n          </div>\r\n          <div className={styles.sidebar}>\r\n            <Sidebar />\r\n          </div>\r\n          <div className={styles.pages}>\r\n            <Outlet />\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className={styles.authContainer}><Outlet /></div>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","import React from 'react'\r\nimport { Routes, Route, Navigate } from 'react-router-dom'\r\nimport SignIn from './SignIn/SignIn';\r\nimport SignUp from './SignUp/SignUp';\r\nimport Layout from '../../components/Layout';\r\n\r\nconst Auth: React.FC = () => {\r\n  return (\r\n    <Routes>\r\n      <Route element={<Layout />} >\r\n        <Route path='/logowanie' element={<SignIn />} />\r\n        <Route path='/rejestracja' element={<SignUp />} />\r\n        <Route path='/' element={<Navigate replace to='/logowanie' />} />\r\n      </Route>\r\n    </Routes>\r\n  )\r\n}\r\n\r\nexport default Auth","export default __webpack_public_path__ + \"static/media/defaultImg.2975b1de.jpg\";","export default __webpack_public_path__ + \"static/media/defaultColors.f397083e.jpg\";","import defaultImg from '../../assets/img/defaultImg.jpg'\r\nimport defaultColors from '../../assets/img/defaultColors.jpg'\r\nimport defaultBg from '../../assets/img/defaultBackground.jpg'\r\n\r\nexport const defaultBgIcon = defaultImg\r\nexport const defaultColorIcon = defaultColors\r\nexport const defaultBackground = '#f6faff'\r\nexport const presetColors = [\r\n  '#FB8B24',\r\n  '#9575cd',\r\n  '#F36935',\r\n  '#EA4746',\r\n  '#AE0366',\r\n  '#53416B',\r\n  '#ba68c8',\r\n  '#2F8278',\r\n  '#C5D86D',\r\n  '#30B68E',\r\n  '#A2D2FF',\r\n  '#FFDAB9',\r\n  '#3f3c3c',\r\n  '#f6faff',\r\n  // '#fcfcfc',\r\n]\r\n","import React from 'react'\r\nimport styles from './styles.module.scss'\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport { BsXLg } from \"react-icons/bs\";\r\nimport Button from '../../Details/Button/Button'\r\nimport IconButton from '../../Details/IconButton/IconButton';\r\n\r\ninterface TaskFormProps {\r\n  id: string\r\n  handleSubmit: (value: any) => void\r\n  handleChange: (value: any) => void\r\n  closeForm: () => void\r\n  onFocus?: (value: any) => void\r\n  onBlur?: () => void\r\n  value: string\r\n  titleBtn: string\r\n}\r\n\r\nconst TaskForm: React.FC<TaskFormProps> = ({ value, id, titleBtn, onBlur, onFocus, handleChange, handleSubmit, closeForm }) => {\r\n  const placeholder = id === 'list' ? 'Dodaj listę zadań' : 'Dodaj nową kartę'\r\n\r\n  const onKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement | HTMLInputElement>): void => {\r\n    if (e.key === 'Enter' || e.code === \"NumpadEnter\") {\r\n      e.stopPropagation();\r\n      handleSubmit(e)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form className={styles.form} >\r\n      <TextareaAutosize\r\n        id={id}\r\n        maxRows={20}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        className={styles.textarea}\r\n        autoFocus={true}\r\n        onChange={handleChange}\r\n        onBlur={onBlur}\r\n        onFocus={onFocus}\r\n        onKeyDown={onKeyDown}\r\n        required\r\n      />\r\n      <div className={styles.actionsForm}>\r\n        <Button title={titleBtn} type={'submit'} onClick={handleSubmit} />\r\n        <div style={{ marginRight: '16px' }} />\r\n        <IconButton onClick={closeForm}><BsXLg /></IconButton>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default TaskForm\r\n","export const isFileImage = (url: string) => {\r\n  if (typeof url !== 'string') {\r\n    return false\r\n  }\r\n  return (\r\n    url.match(/^http[^\\?]*.(jpg|jpeg|gif|png|tiff|bmp|webp)(\\?(.*))?$/gim) !==\r\n    null\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styles from './styles.module.scss'\r\ninterface TaskButtonProps {\r\n  icon?: {}\r\n  name?: string\r\n  onClick: () => void\r\n  style?: {}\r\n}\r\n\r\nconst TaskButton: React.FC<TaskButtonProps> = ({ onClick, name, icon, style }) => {\r\n  return (\r\n    <button className={styles.taskButton} onClick={onClick} style={style}>\r\n      <div className={styles.icon}>{icon}</div>\r\n      {name}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default TaskButton\r\n","import React from 'react'\r\nimport styles from './styles.module.scss'\r\nimport { BiCheck } from 'react-icons/bi';\r\nimport { BsPencil } from 'react-icons/bs';\r\nimport IconButton from '../../../../../Details/IconButton/IconButton'\r\n\r\ninterface LabelProps {\r\n  labelId: string\r\n  title: string\r\n  color: string\r\n  cardLabels: {\r\n    _id: string\r\n    active: boolean\r\n    color: string\r\n    title: string\r\n  }[]\r\n  handleCheckedLabel: (value: any) => void\r\n  openLabelEditWindow: () => void\r\n}\r\n\r\nconst Label: React.FC<LabelProps> = ({ title, color, cardLabels, handleCheckedLabel, openLabelEditWindow, labelId }) => {\r\n  const activeLabels = cardLabels.filter((label: { _id: string }) => label._id === labelId)\r\n  return (\r\n    <div className={styles.container}>\r\n      <div onClick={handleCheckedLabel} style={{ background: `${color}` }} className={styles.boxColor}>\r\n        <p>{title}</p>\r\n        {activeLabels.length ? < BiCheck style={{ color: 'white' }} /> : null}\r\n      </div>\r\n      <IconButton onClick={openLabelEditWindow}><BsPencil /></IconButton>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Label","import React from 'react'\r\nimport styles from './styles.module.scss'\r\n\r\ntype Props = {\r\n  data: any\r\n  children: JSX.Element | JSX.Element[];\r\n  title: string\r\n}\r\n\r\nconst Container: React.FC<Props> = ({ children, title, data }) => {\r\n  const isDataExist = Array.isArray(data) ? (data.length ? true : false) : (data === null || data === undefined ? false : true)\r\n  return (\r\n    <>\r\n      {\r\n        isDataExist ? (\r\n          <div className={styles.container}>\r\n            <h4>{title}</h4>\r\n            <div className={styles.items}>\r\n              {children}\r\n            </div>\r\n          </div>\r\n        ) : null\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Container","import React from 'react'\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport styles from './styles.module.scss'\r\nimport Button from '../../../../../Details/Button/Button'\r\nimport { HexColorPicker } from \"react-colorful\";\r\nimport { presetColors } from '../../../../localData'\r\ninterface LabelProps {\r\n  formId: string\r\n  value: string | undefined\r\n  selectColor: string\r\n  handleChangeLabelTitle: (value: any) => void\r\n  handleChangeTitle: (value: any) => void\r\n  onFocus?: (value: any) => void\r\n  handleDeleteLabel: () => void\r\n  setSelectColor: (value: string) => void\r\n}\r\n\r\nconst LabelForm: React.FC<LabelProps> = ({\r\n  handleChangeTitle,\r\n  handleChangeLabelTitle,\r\n  handleDeleteLabel,\r\n  value,\r\n  formId,\r\n  onFocus,\r\n  setSelectColor,\r\n  selectColor }) => {\r\n  const placeholder = 'Dodaj nazwę etykiety...'\r\n\r\n  return (\r\n    <form className={styles.form}>\r\n      <p style={{ marginBottom: '5px' }}>Nazwa</p>\r\n      <TextareaAutosize\r\n        id={formId}\r\n        maxRows={20}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        className={styles.textarea}\r\n        autoFocus\r\n        onChange={handleChangeTitle}\r\n        onFocus={onFocus}\r\n      />\r\n      <p style={{ marginBottom: '5px' }}>Wybierz kolor</p>\r\n      <div className={styles.picker}>\r\n        <HexColorPicker\r\n          className={styles.reactColorful}\r\n          color={selectColor}\r\n          onChange={setSelectColor}\r\n        />\r\n        <div className={styles.pickerSwatches}>\r\n          {presetColors.slice(0, 14).map((presetColor) => (\r\n            <div\r\n              key={presetColor}\r\n              className={styles.pickerSwatch}\r\n              style={{ background: presetColor }}\r\n              onClick={() => setSelectColor(presetColor)}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className={styles.actionsForm}>\r\n        <Button onClick={handleChangeLabelTitle} title={'Zapisz'} type={'submit'} />\r\n        <div style={{ marginRight: '1rem' }} />\r\n        <Button onClick={handleDeleteLabel} title={'Usuń'} type={'button'} />\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default LabelForm","import React from 'react'\r\nimport { Line } from 'rc-progress';\r\nimport styles from './styles.module.scss'\r\nimport Button from '../../../../../Details/Button/Button'\r\ninterface FileFormProps {\r\n  name: string\r\n  size: number\r\n  label: string\r\n  type: string\r\n  listNames: string[]\r\n  handleSubmitFiles: (value: any) => void\r\n  handleInputState: (value: any) => void\r\n}\r\n\r\nconst FileForm: React.FC<FileFormProps> = ({ name, listNames, type, handleInputState, handleSubmitFiles }) => {\r\n\r\n  return (\r\n    <div >\r\n      <form className={styles.formFile}>\r\n        <label id={\"formId\"} className={styles.labelFile}>\r\n          <input\r\n            id={\"formId\"}\r\n            type={type}\r\n            name={name}\r\n            onChange={handleInputState}\r\n            multiple\r\n            hidden\r\n          />\r\n          Dodaj załączniki\r\n        </label>\r\n        <div className={styles.spanContainer}>\r\n          {\r\n            listNames.map((name, index) => (\r\n              <span key={index} className={styles.nameFileSpan}>{name}</span>\r\n            ))\r\n          }\r\n        </div>\r\n        {\r\n          listNames.length ? (\r\n            <Button onClick={handleSubmitFiles} title={\"Załącz\"} type={'submit'} />\r\n          ) : null\r\n        }\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FileForm","import React from 'react'\r\nimport styles from './styles.module.scss'\r\nimport { isFileImage } from '../../../../../../hooks/useIsFileImage'\r\nimport TaskButton from '../../../../../Details/TaskButton/TaskButton'\r\n\r\ninterface FileProps {\r\n  title: string\r\n  src: string\r\n  created: string\r\n  index: number\r\n  active: number\r\n  type: string\r\n  handleDeleteFile: () => void\r\n  handleDownloadFile: () => void\r\n  handleSelectCover: () => void\r\n}\r\n\r\nconst Files: React.FC<FileProps> = ({ created, title, src, type, index, active, handleDeleteFile, handleDownloadFile, handleSelectCover }) => {\r\n  const fileExtension = type.split('/').pop();\r\n\r\n  return (\r\n    <div className={styles.container} >\r\n      <div className={styles.fileImg}>\r\n        {\r\n          isFileImage(src) ? (\r\n            <>\r\n              <img src={src} className=\"card-img-top img-responsive\" alt=\"img\" />\r\n              <div className={styles.selectCover} title='ustaw okładkę'>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={active === index ? true : false}\r\n                  onChange={handleSelectCover}\r\n                  style={{ height: '100%', width: '1rem', marginRight: '8px' }} />\r\n              </div>\r\n            </>\r\n          ) : (<p>{fileExtension}</p>)\r\n        }\r\n      </div>\r\n      <div className={styles.fileDetails}>\r\n        <h4>{title}</h4>\r\n        <span>{created}</span>\r\n        <div className={styles.fileButtons}>\r\n          <TaskButton style={{height:'25px', margin:'0 8px 0 0'}} onClick={handleDeleteFile} name={'Skasuj'} />\r\n          <TaskButton style={{height:'25px', margin:'0'}} onClick={handleDownloadFile} name={'Pobierz'} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Files","import React, { useRef } from 'react'\r\nimport styles from './styles.module.scss'\r\nimport IconButton from '../IconButton/IconButton'\r\nimport useOnClickOutside from '../../../hooks/useOnClickOutside'\r\nimport { BsXLg } from \"react-icons/bs\";\r\n\r\ntype ModalProps = {\r\n  trigger: boolean\r\n  closeModal: () => void\r\n  children: JSX.Element | JSX.Element[];\r\n}\r\n\r\nconst Modal: React.FC<ModalProps> = ({ children, trigger, closeModal }) => {\r\n  const refModal = useRef(null)\r\n  useOnClickOutside(refModal, closeModal)\r\n\r\n  return (\r\n    trigger ? (\r\n      <div className={styles.overlay}>\r\n        <div className={styles.modal} ref={refModal}>\r\n          <div className={styles.header}>\r\n            <IconButton onClick={closeModal}><BsXLg /></IconButton>\r\n          </div>\r\n          {children}\r\n        </div>\r\n      </div>\r\n    ) : null\r\n  )\r\n}\r\n\r\nexport default Modal","import React, { useEffect, useState } from 'react'\r\nimport styles from './styles.module.scss'\r\nimport { useForm } from 'react-hook-form'\r\nimport {\r\n  useGetAllProductsQuery,\r\n  useDeleteProductMutation\r\n} from \"../../../../../../store/api/products\"\r\nimport {\r\n  useUpdateCardMutation,\r\n  useDeleteCardMutation\r\n} from \"../../../../../../store/api/cards\"\r\nimport { Product as ProductModel } from '../../../../../../models/product';\r\nimport Button from '../../../../../Details/Button/Button'\r\nimport IconButton from '../../../../../Details/IconButton/IconButton';\r\n\r\ninterface UsedProductsProps {\r\n  cardId: string\r\n}\r\n\r\ninterface ProductValue extends ProductModel {\r\n  used: number\r\n}\r\n\r\nconst UsedProducts: React.FC<UsedProductsProps> = ({ cardId }) => {\r\n  const { data, error, isLoading } = useGetAllProductsQuery()\r\n  const [updateCard] = useUpdateCardMutation()\r\n  const [selectProduct, setSelectProduct] = useState<string>('')\r\n  const [productsIdList, setProductsIdList] = useState<string[]>([])\r\n  const [products, setProducts] = useState<ProductModel[] | undefined>()\r\n\r\n  useEffect(() => {\r\n    if (!data) return\r\n    setSelectProduct(data[0]?._id)\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    displayProductFromList()\r\n  }, [productsIdList])\r\n\r\n  const handleSelectProduct = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    if (!data) return\r\n    setSelectProduct(e.target.value)\r\n  }\r\n\r\n  const handleAddProductToList = () => {\r\n    if (!data) return\r\n    if ([...productsIdList].find(item => item === selectProduct)) {\r\n      return alert('produkt został już dodany do listy')\r\n    }\r\n    setProductsIdList([...productsIdList, selectProduct])\r\n  }\r\n\r\n  const displayProductFromList = () => {\r\n    if (!data) return\r\n    const products = [...data].filter(p1 => productsIdList.some(p2 => p1._id === p2))\r\n    setProducts(products)\r\n  }\r\n\r\n  const handleRemoveFromList = (id: string) => {\r\n    if (!productsIdList) return\r\n    const newProductsIdList = [...productsIdList].filter(item => item !== id)\r\n    setProductsIdList(newProductsIdList)\r\n  }\r\n\r\n  const handleAddProductsToCard = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    console.log('dziala')\r\n    updateCard({\r\n      _id: cardId,\r\n      usedProducts: products\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <form className={styles.form}>\r\n        <label htmlFor=\"products\">Dodaj produkt z magazynu</label>\r\n        <div className={styles.inputContainer}>\r\n          <select className={styles.select} onChange={(e) => handleSelectProduct(e)}>\r\n            {\r\n              data ? (\r\n                data.map(product => (\r\n                  <option key={product._id} value={product._id}>{product.name}</option>\r\n                ))\r\n              ) : null\r\n            }\r\n          </select>\r\n          <Button\r\n            onClick={handleAddProductToList}\r\n            title={'Dodaj'} type={'button'}\r\n            style={{\r\n              height: '38px',\r\n              marginLeft: '10px'\r\n            }} />\r\n        </div>\r\n      </form>\r\n      <div className={styles.list}>\r\n        <form className={styles.form} onSubmit={(e) => handleAddProductsToCard(e)}>\r\n          {\r\n            products?.map(item => (\r\n              <div key={item._id}>\r\n                <span>{item.name}</span>\r\n                <input type=\"text\" name=\"name\" value={`stan: ${item.quantity} ${item.unit}`} disabled />\r\n                <input type=\"number\" name=\"name\" defaultValue={item.quantity} min={1} max={item.quantity} />\r\n                <IconButton onClick={() => handleRemoveFromList(item._id)} style={{ marginLeft: '8px' }}>X</IconButton>\r\n              </div>\r\n            ))\r\n          }\r\n          {\r\n            products?.length ? (\r\n              <Button title={'Zapisz'} type={'submit'} style={{ width: '100%', padding: '0.6rem', marginTop: '10px' }} />\r\n            ) : null\r\n          }\r\n        </form>\r\n      </div>\r\n      <h3>Is in progress...</h3>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UsedProducts","import React, { useState, useRef, useEffect, useCallback } from 'react'\r\nimport axios from 'axios';\r\nimport styles from './styles.module.scss'\r\nimport dayjs from 'dayjs';\r\nimport fileDownload from 'js-file-download'\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport TaskForm from '../../TaskForm/TaskForm'\r\nimport useOnClickOutside from '../../../../hooks/useOnClickOutside'\r\nimport { isFileImage } from '../../../../hooks/useIsFileImage'\r\nimport DatePicker, { registerLocale } from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { BsXLg } from 'react-icons/bs';\r\nimport { BsPencil } from 'react-icons/bs';\r\nimport { BiTask } from 'react-icons/bi';\r\nimport { GrAttachment } from 'react-icons/gr';\r\nimport { BsStopwatch } from 'react-icons/bs';\r\nimport { MdOutlineLabel } from 'react-icons/md';\r\nimport { IoMdAdd } from 'react-icons/io';\r\nimport { RiDeleteBinLine } from 'react-icons/ri';\r\n\r\nimport {\r\n  useGetBoardQuery,\r\n  useUpdateBoardMutation,\r\n\r\n} from '../../../../store/api/boards'\r\n\r\nimport {\r\n  useGetAllCardsQuery,\r\n  useDeleteCardMutation,\r\n  useUpdateCardMutation,\r\n} from \"../../../../store/api/cards\";\r\n\r\nimport {\r\n  useDeleteFileMutation,\r\n} from '../../../../store/api/files'\r\n\r\nimport TaskButton from '../../../Details/TaskButton/TaskButton';\r\nimport Popup from '../../../Details/Popup/Popup';\r\nimport Label from './CardModalDetails/Label/Label';\r\nimport Container from './CardModalDetails/Container/Container'\r\nimport LabelForm from './CardModalDetails/LabelForm/LabelForm'\r\nimport Button from '../../../Details/Button/Button';\r\nimport FileForm from './CardModalDetails/FileForm/FileForm'\r\nimport Files from './CardModalDetails/Files/Files';\r\nimport Modal from '../../../Details/Modal/Modal'\r\nimport UsedProducts from './CardModalDetails/UsedProducts/UsedProducts'\r\n\r\nimport { Line as ProgressLine } from 'rc-progress';\r\nimport { Card as CardModel } from '../../../../models/card'\r\nimport { Labels as LabelsInterface } from '../../../../models/labels'\r\nimport pl from \"date-fns/locale/pl\";\r\n\r\ninterface CardModalProps extends CardModel {\r\n  dateIsSameOrBefore: boolean\r\n  deadlineIsSoon: boolean\r\n  cardFileIndex: number\r\n  cardDateDisplay: {\r\n    style: {\r\n      backgroundColor: string\r\n    },\r\n    title: string\r\n    name: string\r\n  }\r\n  setIsCardWindowOpen: () => void\r\n  setCardCompleted: (value: boolean) => void\r\n  setCardCover: (value: string) => void\r\n  setCardFileIndex: (value: number) => void\r\n}\r\n\r\nconst CardModal: React.FC<CardModalProps> = ({\r\n  _id,\r\n  boardId,\r\n  title,\r\n  description,\r\n  completed,\r\n  labels,\r\n  deadline,\r\n  cover,\r\n  files,\r\n  usedProducts,\r\n  nameList,\r\n  dateIsSameOrBefore,\r\n  deadlineIsSoon,\r\n  cardDateDisplay,\r\n  cardFileIndex,\r\n  setCardCompleted,\r\n  setIsCardWindowOpen,\r\n  setCardCover,\r\n  setCardFileIndex,\r\n}) => {\r\n  dayjs.locale('pl');\r\n  registerLocale(\"pl\", pl);\r\n  const { data: board } = useGetBoardQuery(boardId);\r\n  const { data: cards } = useGetAllCardsQuery()\r\n\r\n  const [updateCard] = useUpdateCardMutation();\r\n  const [deleteCard] = useDeleteCardMutation();\r\n  const [updateBoard] = useUpdateBoardMutation();\r\n  const [deleteFile] = useDeleteFileMutation();\r\n\r\n  const [cardTitle, setCardTitle] = useState<string>(title)\r\n  const [cardDescription, setCardDescription] = useState<string>(description)\r\n  const [cardLabels, setCardLabels] = useState<LabelsInterface[]>(labels)\r\n  const [cardDeadline, setCardDeadline] = useState(deadline)\r\n  const [boardLabels, setBoardLabels] = useState<any>([])\r\n  const [labelTitle, setLabelTitle] = useState('')\r\n\r\n  const [isDescriptionFormOpen, setIsDescriptionFormOpen] = useState(false)\r\n  const [isLabelEditPopupOpen, setIsLabelEditPopupOpen] = useState(false)\r\n  const [isAddNewLabelPopupOpen, setIsAddNewLabelPopupOpen] = useState(false)\r\n  const [currentLabelTitle, setCurrentLabelTitle] = useState('')\r\n  const [currentLabelId, setCurrentLabelId] = useState('')\r\n  const [currentLabelColor, setCurrentLabelColor] = useState('')\r\n  const [labelsTrigger, setLabelsTrigger] = useState(false)\r\n  const [dateTrigger, setDateTrigger] = useState(false)\r\n  const [fileTrigger, setFileTrigger] = useState(false)\r\n  const [valuationTrigger, setValuationTrigger] = useState(false)\r\n  const [storageTrigger, setStorageTrigger] = useState(false)\r\n\r\n  const [selectedFiles, setSelectedFiles] = useState<File[]>([]);\r\n  const [selectedNameFiles, setSelectedNameFiles] = useState<string[]>([]);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [uploadStatus, setUploadStatus] = useState<boolean | null>(null)\r\n\r\n  const refModal = useRef(null)\r\n\r\n  useEffect(() => {\r\n    if (board) {\r\n      setBoardLabels(board.labels)\r\n    }\r\n  }, [board])\r\n\r\n  const handleEditCardTitle = (e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\r\n    if (e.target.id === 'card-title') setCardTitle(e.target.value)\r\n    updateCard({\r\n      _id: _id,\r\n      title: e.target.value\r\n    })\r\n    updateBoard({\r\n      _id: boardId\r\n    })\r\n  }\r\n\r\n  const handleEditCardDescription = (e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\r\n    if (e.target.id === 'card-description')\r\n      setCardDescription(e.target.value)\r\n  }\r\n\r\n  const handleSaveCardDescription = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>): void => {\r\n    e.preventDefault()\r\n    updateCard({\r\n      _id: _id,\r\n      description: cardDescription\r\n    })\r\n    updateBoard({\r\n      _id: boardId\r\n    })\r\n    setIsDescriptionFormOpen(false)\r\n  }\r\n\r\n  const handleChangeLabelTitle = (e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\r\n    if (e.target.id === 'label-title-edit') setCurrentLabelTitle(e.target.value)\r\n    if (e.target.id === 'label-title-add') setLabelTitle(e.target.value)\r\n  }\r\n\r\n  const handleSaveLabelEditing = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>): void => {\r\n    e.preventDefault()\r\n    const newLabels = [...boardLabels]\r\n\r\n    if (boardLabels) {\r\n      const newLabelsBoardState = newLabels.map((label) => {\r\n        if (label._id !== currentLabelId) return label;\r\n        return { ...label, title: currentLabelTitle, color: currentLabelColor };\r\n      });\r\n\r\n      cards?.map(card => {\r\n        const newLabels = card.labels.map(label => {\r\n          if (label._id !== currentLabelId) return label;\r\n          return { ...label, title: currentLabelTitle, color: currentLabelColor };\r\n        })\r\n        updateCard({\r\n          _id: card._id,\r\n          labels: newLabels\r\n        })\r\n        setCardLabels(newLabels)\r\n      })\r\n\r\n      setBoardLabels(newLabelsBoardState)\r\n\r\n      updateBoard({\r\n        _id: boardId,\r\n        labels: newLabelsBoardState\r\n      })\r\n      setIsLabelEditPopupOpen(false)\r\n    }\r\n  }\r\n\r\n  const handleAddNewLabel = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>): void => {\r\n    e.preventDefault()\r\n    const newLabels = [...boardLabels, { color: currentLabelColor, title: labelTitle, active: false }]\r\n    updateBoard({\r\n      _id: boardId,\r\n      labels: newLabels\r\n    })\r\n    setIsAddNewLabelPopupOpen(false)\r\n  }\r\n\r\n  const handleCheckedLabel = (item: LabelsInterface) => {\r\n    const newCardLabels = [...cardLabels]\r\n    const newLabel = { ...item, active: !item.active };\r\n    const existLabel = newCardLabels.find((label: { _id: string; }) => label._id === newLabel._id)\r\n\r\n    if (existLabel) {\r\n      const newStateLabels = [...cardLabels].filter((label: { _id: string; }) => label._id !== existLabel._id)\r\n      setCardLabels(newStateLabels)\r\n      updateCard({\r\n        _id: _id,\r\n        labels: newStateLabels\r\n      })\r\n    } else {\r\n      const newStateLabels = [...cardLabels, newLabel]\r\n      setCardLabels(newStateLabels)\r\n      updateCard({\r\n        _id: _id,\r\n        labels: newStateLabels\r\n      })\r\n    }\r\n    updateBoard({\r\n      _id: boardId,\r\n    })\r\n  }\r\n\r\n  const handleDeleteLabel = () => {\r\n    const newBoardLabelsState = [...boardLabels].filter((label) => label._id !== currentLabelId);\r\n    cards?.map(card => {\r\n      const newCardLabelsState = card.labels.filter((label) => label._id !== currentLabelId);\r\n      setCardLabels(newCardLabelsState)\r\n      updateCard({\r\n        _id: card._id,\r\n        labels: newCardLabelsState\r\n      })\r\n    })\r\n    setBoardLabels(newBoardLabelsState)\r\n    updateBoard({\r\n      _id: boardId,\r\n      labels: newBoardLabelsState\r\n    })\r\n    setIsLabelEditPopupOpen(false)\r\n  }\r\n\r\n  const handleGetCurrentEditLabel = (id: string) => {\r\n    const newLabels = [...boardLabels]\r\n    const activeLabel = newLabels.filter((label: { _id: string }) => label._id === id)\r\n    const activeLabelTitle = activeLabel.map((label: { title: string }) => label.title).toString()\r\n    const activeLabelColor = activeLabel.map((label: { color: string }) => label.color).toString()\r\n    setCurrentLabelTitle(activeLabelTitle)\r\n    setCurrentLabelColor(activeLabelColor)\r\n    setCurrentLabelId(id)\r\n  }\r\n\r\n  const handleSaveDeadline = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>): void => {\r\n    e.preventDefault()\r\n    updateCard({\r\n      _id: _id,\r\n      deadline: cardDeadline\r\n    })\r\n    updateBoard({ _id: boardId })\r\n    setDateTrigger(false)\r\n  }\r\n\r\n  const handleDeleteDeadline = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>): void => {\r\n    e.preventDefault()\r\n    setCardDeadline(null)\r\n    updateCard({\r\n      _id: _id,\r\n      deadline: null\r\n    })\r\n    updateBoard({ _id: boardId })\r\n    setDateTrigger(false)\r\n  }\r\n\r\n  const handleChangeCompleted = () => {\r\n    setCardCompleted(!completed);\r\n    updateCard({\r\n      _id: _id,\r\n      completed: !completed\r\n    })\r\n    updateBoard({\r\n      _id: boardId\r\n    })\r\n  };\r\n\r\n  const handleUploadFiles = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { target: { files } } = e\r\n    if (files !== null) {\r\n      files?.length && setSelectedFiles(Array.from(files))\r\n      const arr = []\r\n      for (let i = 0; i < files.length; i++) {\r\n        arr.push(files[i].name)\r\n        setSelectedNameFiles(arr)\r\n      }\r\n    }\r\n    setUploadStatus(true)\r\n    setUploadProgress(0)\r\n  },\r\n    [],\r\n  );\r\n\r\n  const handleSubmitFiles = async (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n    e.preventDefault()\r\n    if (!selectedFiles.length) return;\r\n    if (!uploadStatus) return;\r\n\r\n    const formData = new FormData();\r\n    formData.append('cardId', _id)\r\n    for (let i = 0; i < selectedFiles.length; i++) {\r\n      formData.append('files', selectedFiles[i]);\r\n    }\r\n\r\n    const uploadFileOptions = {\r\n      headers: {\r\n        'content-type': 'multipart/form-data'\r\n      },\r\n      onUploadProgress: (progressEvent: { loaded: number; total: number; }) => {\r\n        const { loaded, total } = progressEvent;\r\n        let percent = Math.floor((loaded * 100) / total)\r\n        setUploadProgress(percent)\r\n      }\r\n    }\r\n\r\n    await axios.post(`${process.env.REACT_APP_API_URL}files`, formData, uploadFileOptions)\r\n      .then(res => {\r\n        updateCard({\r\n          _id: _id,\r\n        })\r\n        updateBoard({\r\n          _id: boardId\r\n        })\r\n        setUploadStatus(true)\r\n        setTimeout(() => {\r\n          setUploadProgress(0)\r\n          setSelectedNameFiles([])\r\n          setFileTrigger(false)\r\n        }, 500)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n        setUploadStatus(false)\r\n      })\r\n  }\r\n\r\n  const handleDeleteFile = (fileId: string) => {\r\n    deleteFile(fileId)\r\n    updateCard({\r\n      _id: _id,\r\n      files: files\r\n    })\r\n    updateBoard({\r\n      _id: boardId\r\n    })\r\n    if (files.length) {\r\n      setCardCover(files[0].fileUrl)\r\n    }\r\n    else {\r\n      setCardCover('')\r\n    }\r\n  }\r\n\r\n  const handleDownloadFile = async (fileUrl: string) => {\r\n    await axios.get(`${fileUrl}`, {\r\n      responseType: 'blob',\r\n    }).then((res) => {\r\n      let filename = fileUrl.replace(/^.*[\\\\\\/]/, '')\r\n      let fileExtension;\r\n      fileExtension = fileUrl.split('.');\r\n      fileExtension = fileExtension[fileExtension.length - 1];\r\n      fileDownload(res.data, `${filename}.${fileExtension}`);\r\n    });\r\n  }\r\n\r\n  const onClickHandler = () => {\r\n    const newWindow = window.open(`${cover}`, \"_blank\", 'noopener,noreferrer');\r\n    if (newWindow) newWindow.opener = null\r\n  }\r\n\r\n  const handleSelectCover = (index: number) => {\r\n    setCardFileIndex(index)\r\n    setCardCover(files[index].fileUrl)\r\n    updateCard({\r\n      _id: _id,\r\n      cover: files[index].fileUrl\r\n    })\r\n    updateBoard({\r\n      _id: boardId\r\n    })\r\n  }\r\n\r\n  useOnClickOutside(refModal, setIsCardWindowOpen)\r\n\r\n\r\n  return (\r\n    <Modal trigger={true} closeModal={setIsCardWindowOpen}>\r\n      <div className={styles.container}>\r\n        {\r\n          cover && isFileImage(cover) ? (\r\n            <div className={styles.cardCover} >\r\n              <img onClick={onClickHandler} src={cover} alt={cover} />\r\n            </div>\r\n          ) : null\r\n        }\r\n        <div className={styles.cardModalHeader}>\r\n          <div className={styles.cardModalHeaderTextarea}>\r\n            <TextareaAutosize\r\n              id='card-title'\r\n              autoFocus={false}\r\n              value={cardTitle}\r\n              className={styles.cardModalTextareaTitle}\r\n              onChange={handleEditCardTitle}\r\n              onFocus={(e) => e.target.select()}\r\n              rows={20}\r\n              maxRows={4}\r\n              required\r\n            />\r\n            <p>Na liscie: <strong>{nameList}</strong></p>\r\n          </div>\r\n        </div>\r\n        <div className={styles.groupWrapper}>\r\n          <div className={styles.content}>\r\n            <Container data={cardLabels} title={'Etykiety'}>\r\n              {\r\n                cardLabels.map((label: { title: string; active: any; color: any; _id: string }) => (\r\n                  <div\r\n                    key={label._id}\r\n                    style={{ backgroundColor: `${label.color}` }}\r\n                    className={styles.cardModalLabel}\r\n                    onClick={() => setLabelsTrigger(true)}\r\n                  >\r\n                    <span>{label.title}</span>\r\n                  </div>\r\n                ))\r\n              }\r\n            </Container>\r\n            <Container data={deadline} title={'Termin'}>\r\n              <>\r\n                {\r\n                  deadline ? (\r\n                    <>\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={completed}\r\n                        onChange={handleChangeCompleted} />\r\n                      <button onClick={() => setDateTrigger(true)}\r\n                        className={styles.cardModalSelectedDateBtn}>\r\n                        <span>{dayjs(deadline).format('DD-MM-YYYY HH:mm')}</span>\r\n                        {\r\n                          dateIsSameOrBefore && !completed ? (\r\n                            <span\r\n                              title={cardDateDisplay.title}\r\n                              style={{ backgroundColor: cardDateDisplay.style.backgroundColor }} className={styles.dateNotificationSpan}>\r\n                              {cardDateDisplay.name}\r\n                            </span>\r\n                          ) : null\r\n                        }\r\n                        {\r\n                          deadlineIsSoon && !completed ? (\r\n                            <span\r\n                              title={cardDateDisplay.title}\r\n                              style={{ backgroundColor: cardDateDisplay.style.backgroundColor }} className={styles.dateNotificationSpan}>\r\n                              {cardDateDisplay.name}\r\n                            </span>\r\n                          ) : null\r\n                        }\r\n                        {\r\n                          completed ? (\r\n                            <span\r\n                              title={cardDateDisplay.title}\r\n                              style={{ backgroundColor: cardDateDisplay.style.backgroundColor }} className={styles.dateNotificationSpan}>\r\n                              {cardDateDisplay.name}\r\n                            </span>\r\n                          ) : null\r\n                        }\r\n                      </button>\r\n                    </>\r\n                  ) : null\r\n                }\r\n              </>\r\n            </Container>\r\n            <div className={styles.descriptionContainer}>\r\n              <div className={styles.descriptionHeader}>\r\n                <h4>Opis</h4>\r\n                <div style={{ maxWidth: '100px', marginLeft: '1rem' }}>\r\n                  {\r\n                    !isDescriptionFormOpen && cardDescription !== undefined && cardDescription !== '' ? (\r\n                      <TaskButton onClick={() => setIsDescriptionFormOpen(true)} name={'Edytuj'} icon={<BsPencil />} />\r\n                    ) : null\r\n                  }\r\n                </div>\r\n              </div>\r\n              {\r\n                isDescriptionFormOpen ?\r\n                  <TaskForm\r\n                    id={'card-description'}\r\n                    handleChange={handleEditCardDescription}\r\n                    handleSubmit={handleSaveCardDescription}\r\n                    closeForm={() => { setIsDescriptionFormOpen(false); setCardDescription(description) }}\r\n                    value={cardDescription}\r\n                    onFocus={(e) => e.target.select()}\r\n                    titleBtn={'Zapisz'}\r\n                  /> :\r\n                  <div>\r\n                    {cardDescription !== '' && cardDescription !== undefined ? <p onClick={() => setIsDescriptionFormOpen(true)}>{cardDescription}</p> :\r\n                      <TaskButton onClick={() => setIsDescriptionFormOpen(true)} name={'Dodaj opis...'} icon={<IoMdAdd />} />}\r\n                  </div>\r\n              }\r\n            </div>\r\n            <Container data={usedProducts} title={'Wykorzystane materiały'}>\r\n              <>\r\n                {\r\n                  usedProducts?.map((product) => (\r\n                    <div\r\n                      key={product._id}\r\n                      style={{ backgroundColor: `grey` }}\r\n                      className={styles.cardModalLabel}\r\n                      onClick={() => setLabelsTrigger(true)}\r\n                    >\r\n                      <span>{product.name}</span>\r\n                    </div>\r\n                  ))\r\n                }\r\n              </>\r\n            </Container>\r\n            <Container data={files} title={'Załącznik'}>\r\n              {\r\n                files?.map((file: { _id: string; fileName: string; createdAt: string; fileUrl: string; fileType: string }, index: number) => (\r\n                  <Files\r\n                    key={file._id}\r\n                    title={file.fileName}\r\n                    created={`Dodano ${dayjs(file.createdAt).format('DD MMM')} o ${dayjs(file.createdAt).format('HH:mm')}`}\r\n                    active={cardFileIndex}\r\n                    index={index}\r\n                    src={`${file.fileUrl}`}\r\n                    type={file.fileType}\r\n                    handleDeleteFile={() => handleDeleteFile(file._id)}\r\n                    handleDownloadFile={() => handleDownloadFile(file.fileUrl)}\r\n                    handleSelectCover={() => handleSelectCover(index)}\r\n                  />\r\n                ))\r\n              }\r\n            </Container>\r\n          </div>\r\n          <div className={styles.cardModalSidebar} >\r\n            <Popup\r\n              title={isLabelEditPopupOpen ? 'Edytuj etykietę' : isAddNewLabelPopupOpen ? 'Dodaj Etykietę' : 'Etykiety'}\r\n              trigger={labelsTrigger}\r\n              closePopup={() => { setLabelsTrigger(false); setIsLabelEditPopupOpen(false); setIsAddNewLabelPopupOpen(false) }}\r\n              isEditWindow={isLabelEditPopupOpen || isAddNewLabelPopupOpen}\r\n              backToMainWindow={() => { setIsLabelEditPopupOpen(false); setIsAddNewLabelPopupOpen(false) }}\r\n            >\r\n              <div className={styles.cardModalLabels}>\r\n                {\r\n                  !isLabelEditPopupOpen &&\r\n                    !isAddNewLabelPopupOpen ? (\r\n                    <>\r\n                      <div className={styles.cardModalLabelsList}>\r\n                        {\r\n                          boardLabels.map((label: LabelsInterface) => (\r\n                            <Label\r\n                              key={label._id}\r\n                              labelId={label._id}\r\n                              title={label.title}\r\n                              color={label.color}\r\n                              cardLabels={labels}\r\n                              openLabelEditWindow={() => {\r\n                                setIsLabelEditPopupOpen(true)\r\n                                handleGetCurrentEditLabel(label._id)\r\n                              }}\r\n                              handleCheckedLabel={() => handleCheckedLabel(label)}\r\n                            >\r\n                            </Label>\r\n                          ))\r\n                        }\r\n                      </div>\r\n                      <TaskButton onClick={() => setIsAddNewLabelPopupOpen(true)} name={'Utwórz nową etykietę'} />\r\n                    </>\r\n                  ) : (\r\n                    <LabelForm\r\n                      formId={isLabelEditPopupOpen ? 'label-title-edit' : isAddNewLabelPopupOpen ? 'label-title-add' : ''}\r\n                      handleChangeTitle={handleChangeLabelTitle}\r\n                      handleChangeLabelTitle={isLabelEditPopupOpen ? handleSaveLabelEditing : isAddNewLabelPopupOpen ? handleAddNewLabel : () => console.log('label does not exist')}\r\n                      handleDeleteLabel={handleDeleteLabel}\r\n                      value={isLabelEditPopupOpen ? currentLabelTitle : isAddNewLabelPopupOpen ? labelTitle : ''}\r\n                      onFocus={(e) => e.target.select()}\r\n                      selectColor={currentLabelColor}\r\n                      setSelectColor={setCurrentLabelColor}\r\n                    />\r\n                  )\r\n                }\r\n              </div>\r\n            </Popup>\r\n            <Popup\r\n              title={'Data'}\r\n              trigger={dateTrigger}\r\n              closePopup={() => setDateTrigger(false)}\r\n              backToMainWindow={() => setDateTrigger(false)}\r\n            >\r\n              <DatePicker\r\n                dateFormat='DD/MM/YYYY'\r\n                timeFormat=\"hh:mm\"\r\n                locale=\"pl\"\r\n                selected={deadline ? new Date(deadline) : null}\r\n                onChange={(date: Date) => setCardDeadline(date)}\r\n                inline\r\n                showTimeInput\r\n                timeInputLabel=\"Godzina:\"\r\n              />\r\n              <label>Termin <br></br>\r\n                <input style={{ maxWidth: '100px', marginRight: '10px' }} placeholder={dayjs(deadline).format('DD/MM/YYYY')} />\r\n                <input style={{ maxWidth: '100px' }} placeholder={dayjs(deadline).format('HH:mm')} />\r\n              </label>\r\n              <div className={styles.actionsForm}>\r\n                <Button onClick={handleSaveDeadline} title={'Zapisz'} type={'button'} />\r\n                <div style={{ marginRight: '1rem' }} />\r\n                <Button onClick={handleDeleteDeadline} title={'Usuń'} type={'button'} />\r\n              </div>\r\n            </Popup>\r\n            <Popup\r\n              title={'Załącznik'}\r\n              trigger={fileTrigger}\r\n              closePopup={() => setFileTrigger(false)}\r\n              backToMainWindow={() => setFileTrigger(false)}\r\n            >\r\n              <FileForm\r\n                name={'załącznik'}\r\n                size={0}\r\n                label={'załącznik'}\r\n                type={'file'}\r\n                listNames={selectedNameFiles}\r\n                handleInputState={handleUploadFiles}\r\n                handleSubmitFiles={handleSubmitFiles}\r\n              />\r\n              {uploadProgress > 0 ? (\r\n                <>\r\n                  {\r\n                    uploadStatus !== null && uploadStatus === true ? (\r\n                      <div><ProgressLine percent={uploadProgress} strokeWidth={4} strokeColor=\"#D3D3D3\" /><p>{uploadProgress}%</p></div>\r\n                    ) : null\r\n                  }\r\n                  {\r\n                    uploadStatus === false ?\r\n                      <p style={{ color: 'red' }}>Błąd przesyłania<small> (max 10mb, lub nieprawidłowy format pliku)</small></p>\r\n                      : null\r\n                  }\r\n                </>\r\n              ) : null\r\n              }\r\n            </Popup>\r\n            <Popup\r\n              title={'Dodaj wycenę'}\r\n              trigger={valuationTrigger}\r\n              closePopup={() => setValuationTrigger(false)}\r\n            >\r\n              <div>\r\n                <p>Is in progress ...</p>\r\n              </div>\r\n            </Popup>\r\n            <Popup\r\n              title={'Magazyn'}\r\n              trigger={storageTrigger}\r\n              closePopup={() => setStorageTrigger(false)}\r\n            >\r\n              <UsedProducts cardId={_id} />\r\n            </Popup>\r\n            <TaskButton onClick={() => setLabelsTrigger(true)} name={'Etykiety'} icon={<MdOutlineLabel />} />\r\n            <TaskButton onClick={() => setDateTrigger(true)} name={'Data'} icon={<BsStopwatch />} />\r\n            <TaskButton onClick={() => setFileTrigger(true)} name={'Załącznik'} icon={<GrAttachment />} />\r\n            <TaskButton onClick={() => setStorageTrigger(true)} name={'Magazyn'} icon={<BiTask />} />\r\n            <TaskButton onClick={() => setValuationTrigger(true)} name={'Dodaj wycenę'} icon={<BiTask />} />\r\n            <div className={styles.divider}></div>\r\n            <TaskButton onClick={() => {\r\n              deleteCard(_id);\r\n              updateBoard({ _id: boardId })\r\n            }} name={'Usuń'} icon={<RiDeleteBinLine />} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default CardModal","import { RefObject, useRef, useEffect, useLayoutEffect } from 'react'\r\n\r\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect\r\n\r\nfunction useEventListener<K extends keyof WindowEventMap>(\r\n  eventName: K,\r\n  handler: (event: WindowEventMap[K]) => void,\r\n): void\r\nfunction useEventListener<\r\n  K extends keyof HTMLElementEventMap,\r\n  T extends HTMLElement = HTMLDivElement,\r\n>(\r\n  eventName: K,\r\n  handler: (event: HTMLElementEventMap[K]) => void,\r\n  element: RefObject<T>,\r\n): void\r\n\r\nfunction useEventListener<\r\n  KW extends keyof WindowEventMap,\r\n  KH extends keyof HTMLElementEventMap,\r\n  T extends HTMLElement | void = void,\r\n>(\r\n  eventName: KW | KH,\r\n  handler: (\r\n    event: WindowEventMap[KW] | HTMLElementEventMap[KH] | Event,\r\n  ) => void,\r\n  element?: RefObject<T>,\r\n) {\r\n  // Create a ref that stores handler\r\n  const savedHandler = useRef(handler)\r\n\r\n  useIsomorphicLayoutEffect(() => {\r\n    savedHandler.current = handler\r\n  }, [handler])\r\n\r\n  useEffect(() => {\r\n    // Define the listening target\r\n    const targetElement: T | Window = element?.current || window\r\n    if (!(targetElement && targetElement.addEventListener)) {\r\n      return\r\n    }\r\n\r\n    // Create event listener that calls handler function stored in ref\r\n    const eventListener: typeof handler = event => savedHandler.current(event)\r\n\r\n    targetElement.addEventListener(eventName, eventListener)\r\n\r\n    // Remove event listener on cleanup\r\n    return () => {\r\n      targetElement.removeEventListener(eventName, eventListener)\r\n    }\r\n  }, [eventName, element])\r\n}\r\n\r\nexport default useEventListener","import { RefObject, useState } from 'react'\r\n\r\nimport useEventListener from './useEventListener'\r\n\r\nfunction useHover<T extends HTMLElement = HTMLElement>(\r\n  elementRef: RefObject<T>,\r\n): boolean {\r\n  const [value, setValue] = useState<boolean>(false)\r\n\r\n  const handleMouseEnter = () => setValue(true)\r\n  const handleMouseLeave = () => setValue(false)\r\n\r\n  useEventListener('mouseenter', handleMouseEnter, elementRef)\r\n  useEventListener('mouseleave', handleMouseLeave, elementRef)\r\n\r\n  return value\r\n}\r\n\r\nexport default useHover\r\n","import React from 'react'\r\nimport styles from './styles.module.scss'\r\n\r\ninterface CardProps {\r\n  onClick?: () => void\r\n  // children: JSX.Element | JSX.Element[];\r\n}\r\n\r\nconst Card: React.FC<CardProps> = ({ onClick, children }) => {\r\n  return (\r\n    <div className={styles.box}>\r\n      <div className={styles.container} >\r\n        <div className={styles.clickableArea} onClick={onClick}></div>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card","import React, { useState, useEffect, useRef } from 'react'\r\nimport styles from './styles.module.scss'\r\nimport { Draggable } from 'react-beautiful-dnd';\r\n\r\nimport dayjs from 'dayjs';\r\nimport isSameOrBefore from 'dayjs/plugin/isSameOrBefore';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport duration from 'dayjs/plugin/duration'\r\n\r\nimport 'dayjs/locale/pl';\r\nimport CardModal from './CardModal/CardModal';\r\nimport {\r\n  useUpdateBoardMutation,\r\n} from '../../../store/api/boards'\r\nimport {\r\n  useUpdateCardMutation,\r\n} from \"../../../store/api/cards\";\r\n\r\nimport { GrTextAlignFull } from 'react-icons/gr';\r\nimport { BsStopwatch } from 'react-icons/bs';\r\nimport { ImCheckboxUnchecked } from 'react-icons/im';\r\nimport { ImCheckboxChecked } from 'react-icons/im';\r\nimport { GrAttachment } from 'react-icons/gr';\r\nimport useHover from '../../../hooks/useHover'\r\nimport { isFileImage } from '../../../hooks/useIsFileImage'\r\nimport { Card as CardModel } from '../../../models/card'\r\nimport Box from '../../Details/Box/Box'\r\nimport defaultBg from '../../../assets/img/defaultBackground.jpg'\r\nexport interface CardProps extends CardModel {\r\n  index: number\r\n  setIsDragDisabled: (value: boolean) => void\r\n}\r\n\r\nconst TaskCard: React.FC<CardProps> = ({\r\n  _id,\r\n  boardId,\r\n  title,\r\n  index,\r\n  nameList,\r\n  description,\r\n  completed,\r\n  labels,\r\n  deadline,\r\n  cover,\r\n  files,\r\n  usedProducts,\r\n  createdAt,\r\n  setIsDragDisabled,\r\n}) => {\r\n  const [updateCard] = useUpdateCardMutation()\r\n  const [updateBoard] = useUpdateBoardMutation()\r\n\r\n  const [isCardModalOpen, setIsCardModalOpen] = useState<boolean>(false)\r\n  const [cardCompleted, setCardCompleted] = useState(completed)\r\n  const [nowDate, setNowDate] = useState(Date.now())\r\n  const [cardCover, setCardCover] = useState<string>(cover)\r\n  const [cardFileIndex, setCardFileIndex] = useState(0)\r\n  const [cardFiles, setCardFiles] = useState(files)\r\n\r\n  dayjs.locale('pl');\r\n  dayjs.extend(isSameOrBefore)\r\n  dayjs.extend(duration)\r\n  dayjs.extend(relativeTime)\r\n\r\n  const hoverRef = useRef(null)\r\n  const isHover = useHover(hoverRef)\r\n\r\n  useEffect(() => {\r\n    const intervalIsSameOrBefore = setInterval(() => setNowDate(Date.now()), 100000)\r\n    return () => clearInterval(intervalIsSameOrBefore)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (files) {\r\n      setCardFiles(files)\r\n    }\r\n  }, [files])\r\n\r\n  useEffect(() => {\r\n    displayCover()\r\n  }, [cardFiles])\r\n\r\n  useEffect(() => {\r\n    updateCard({ _id, cover: cardCover })\r\n    updateBoard({ _id: boardId })\r\n  }, [cardCover])\r\n\r\n\r\n  const displayCover = () => {\r\n    if (cardFiles) {\r\n      const newFiles = [...cardFiles]\r\n      const filesOnlyImages = newFiles.filter(file => isFileImage(file.fileUrl))\r\n      const selectedCover = filesOnlyImages.find((file: { fileUrl: string }) => file.fileUrl === cover)\r\n      let activeIndex = filesOnlyImages.indexOf(selectedCover);\r\n      const indexOnlyImages = newFiles.findIndex(el => isFileImage(el.fileUrl))\r\n      if (filesOnlyImages.length) {\r\n        if (activeIndex < 0) {\r\n          setCardCover(filesOnlyImages[0].fileUrl)\r\n          setCardFileIndex(indexOnlyImages)\r\n        } else {\r\n          setCardCover(filesOnlyImages[activeIndex].fileUrl)\r\n          setCardFileIndex(activeIndex)\r\n        }\r\n      }\r\n      else {\r\n        setCardCover('')\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleOpenCardModal = () => {\r\n    setIsCardModalOpen(true)\r\n    setIsDragDisabled(true)\r\n  }\r\n\r\n  const handleCloseCardModal = () => {\r\n    setIsCardModalOpen(false)\r\n    setIsDragDisabled(false)\r\n  }\r\n\r\n  const handleChangeCompleted = () => {\r\n    setCardCompleted(!cardCompleted);\r\n    updateCard({\r\n      _id: _id,\r\n      completed: !cardCompleted\r\n    })\r\n    updateBoard({\r\n      _id: boardId\r\n    })\r\n  };\r\n\r\n  const fiveHours = 300 //minutes\r\n  const dateIsSameOrBefore = dayjs(deadline).isSameOrBefore(nowDate, 'minute')\r\n  const timeToDeadline = dayjs(deadline).diff(dayjs(nowDate), 'minute', true)\r\n  const deadlineIsSoon = (timeToDeadline < fiveHours && timeToDeadline > 0) ? true : false\r\n\r\n  const cardDateDisplay = {\r\n    style: {\r\n      color: (cardCompleted || dateIsSameOrBefore || deadlineIsSoon) ? 'white' : 'black',\r\n      backgroundColor: cardCompleted ? 'green' : dateIsSameOrBefore ? 'red' : deadlineIsSoon ? 'orange' : 'transparent'\r\n    },\r\n    title: cardCompleted ? 'Ta karta została ukończona' :\r\n      dateIsSameOrBefore ? 'Ta karta jest przeterminowana' :\r\n        deadlineIsSoon ? `Deadline ${dayjs(deadline).fromNow()}` : 'Karta jest na później',\r\n    name: cardCompleted ? 'zrealizowany' :\r\n      dateIsSameOrBefore ? 'termin przekroczony' :\r\n        deadlineIsSoon ? `wkrótce` : '',\r\n    iconStyle: {\r\n      marginRight: '5px',\r\n      fontSize: '14px',\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        isCardModalOpen ?\r\n          <CardModal\r\n            _id={_id}\r\n            nameList={nameList}\r\n            title={title}\r\n            description={description}\r\n            boardId={boardId}\r\n            deadline={deadline}\r\n            labels={labels}\r\n            files={cardFiles}\r\n            usedProducts={usedProducts}\r\n            cover={cardCover}\r\n            completed={cardCompleted}\r\n            cardFileIndex={cardFileIndex}\r\n            dateIsSameOrBefore={dateIsSameOrBefore}\r\n            deadlineIsSoon={deadlineIsSoon}\r\n            cardDateDisplay={cardDateDisplay}\r\n            createdAt={createdAt}\r\n            setCardCompleted={setCardCompleted}\r\n            setIsCardWindowOpen={handleCloseCardModal}\r\n            setCardFileIndex={setCardFileIndex}\r\n            setCardCover={setCardCover}\r\n          /> : null\r\n      }\r\n      <div className={styles.container}>\r\n        <Draggable draggableId={_id} index={index} >\r\n          {provided => (\r\n            <div ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps} >\r\n              <Box onClick={handleOpenCardModal}>\r\n                {\r\n                  cardFiles.length ? (\r\n                    <div className={styles.cardCover} style={\r\n                      {\r\n                        backgroundColor: cardCover,\r\n                        backgroundImage: `url(${cardCover})`,\r\n                        backgroundSize: 'cover',\r\n                        backgroundRepeat: 'no-repeat',\r\n                        backgroundPosition: 'center'\r\n                      }\r\n                    }>\r\n                    </div>\r\n                  ) : null\r\n                }\r\n                <div className={styles.cardDetails}>\r\n                  {\r\n                    labels.length ? (\r\n                      <div className={styles.cardLabels} onClick={handleOpenCardModal}>\r\n                        {\r\n                          labels.map((label: { active: any; color: any; _id: string; title: string }) => (\r\n                            <div title={`${label.title}`} key={label._id} className={styles.cardLabel} style={{ backgroundColor: `${label.color}` }}></div>\r\n                          ))\r\n                        }\r\n                      </div>\r\n                    ) : null\r\n                  }\r\n                  <p >{title}</p>\r\n                  <div className={styles.iconsContainer}>\r\n                    <div ref={hoverRef}>\r\n                      {\r\n                        deadline ? (\r\n                          <button\r\n                            className={styles.dateBtn}\r\n                            onClick={handleChangeCompleted}\r\n                            style={cardDateDisplay.style}\r\n                            title={cardDateDisplay.title}\r\n\r\n                          >\r\n                            {isHover ? (cardCompleted ? <ImCheckboxChecked style={cardDateDisplay.iconStyle} /> : <ImCheckboxUnchecked style={cardDateDisplay.iconStyle} />) : <BsStopwatch style={cardDateDisplay.iconStyle} />}\r\n                            {dayjs(deadline).format('DD MMM')}\r\n                          </button>\r\n                        ) : null\r\n                      }\r\n                    </div>\r\n                    {description ? <div className={styles.icons} title=\"Ta karta ma opis.\"><GrTextAlignFull onClick={handleOpenCardModal} /></div> : null}\r\n                    {cardFiles.length ? <div className={styles.icons} title=\"Załączniki\"><GrAttachment /><span>{cardFiles.length}</span></div> : null}\r\n                  </div>\r\n                </div>\r\n              </Box>\r\n            </div>\r\n          )}\r\n        </Draggable>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TaskCard","import React, { useState, useRef } from 'react'\r\nimport styles from './styles.module.scss'\r\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport {\r\n  useDeleteListMutation,\r\n  useUpdateListMutation,\r\n  useDeleteAllCardsOfListMutation,\r\n} from \"../../../store/api/lists\";\r\nimport { useUpdateBoardMutation } from '../../../store/api/boards'\r\nimport { useAddCardMutation } from \"../../../store/api/cards\";\r\nimport { BsThreeDots } from \"react-icons/bs\";\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport useOnClickOutside from '../../../hooks/useOnClickOutside';\r\nimport { List as ListInterface } from '../../../models/list'\r\nimport Card from '../Card/Card';\r\nimport TaskForm from '../TaskForm/TaskForm';\r\nimport TaskButton from '../../Details/TaskButton/TaskButton';\r\nimport IconButton from '../../Details/IconButton/IconButton'\r\nimport Popup from '../../Details/Popup/Popup';\r\n\r\ninterface PropsList extends ListInterface {\r\n  index: number\r\n}\r\n\r\nconst List: React.FC<PropsList> = ({ _id, boardId, title, cards, index }) => {\r\n  const [addCard] = useAddCardMutation()\r\n  const [updateBoard] = useUpdateBoardMutation()\r\n  const [updateList] = useUpdateListMutation()\r\n  const [deleteList] = useDeleteListMutation()\r\n  const [deleteAllCardsOfList] = useDeleteAllCardsOfListMutation()\r\n\r\n  const [listTitle, setListTitle] = useState<string>(title)\r\n  const [cardTitle, setCardTitle] = useState<string>('')\r\n  const [isCardFormOpen, setIsCardFormOpen] = useState(false)\r\n  const [isTitleFormOpen, setIsTitleFormOpen] = useState(false)\r\n  const [isDragDisabled, setIsDragDisabled] = useState(false)\r\n  const [popupTrigger, setPopupTrigger] = useState(false)\r\n  const ref = useRef(null)\r\n\r\n  const handleChangeListTitle = (e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\r\n    if (e.target.id === 'list') setListTitle(e.target.value)\r\n    updateList({\r\n      _id: _id,\r\n      title: e.target.value\r\n    })\r\n  }\r\n\r\n  const handleAddCardTitle = (e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\r\n    if (e.target.id === 'card') setCardTitle(e.target.value)\r\n  }\r\n\r\n  const handleOnKeyDownListTitle = (e: React.KeyboardEvent<HTMLTextAreaElement | HTMLInputElement>): void => {\r\n    if (e.key === 'Enter' || e.code === \"NumpadEnter\") {\r\n      e.stopPropagation();\r\n      setIsTitleFormOpen(false)\r\n    }\r\n  }\r\n\r\n  const handleAddCard = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>): void => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    if (cardTitle.length === 0) return\r\n    addCard({\r\n      listId: _id,\r\n      title: cardTitle\r\n    })\r\n    updateBoard({ _id: boardId })\r\n    setIsCardFormOpen(false)\r\n    setCardTitle('')\r\n  }\r\n\r\n  const handleDeleteAllCardsOfList = () => {\r\n    deleteAllCardsOfList({ _id })\r\n    updateBoard({ _id: boardId })\r\n    setPopupTrigger(false)\r\n  }\r\n\r\n  const handleDeleteList = () => {\r\n    deleteList(_id)\r\n    updateBoard({ _id: boardId })\r\n  }\r\n\r\n  const handleSortCardsByDate = (props: string) => {\r\n    const newCards = [...cards]\r\n    if (props === 'sort-from-oldest') newCards.sort((a, b) => +new Date(a.createdAt) - +new Date(b.createdAt))\r\n    if (props === 'sort-from-newest') newCards.sort((a, b) => +new Date(b.createdAt) - +new Date(a.createdAt))\r\n    updateList({\r\n      _id,\r\n      cards: newCards\r\n    })\r\n    updateBoard({\r\n      _id: boardId\r\n    })\r\n    setPopupTrigger(false)\r\n    setIsDragDisabled(false)\r\n  }\r\n\r\n  const handleCloseForm = () => { setIsCardFormOpen(false); setCardTitle('') }\r\n  useOnClickOutside(ref, handleCloseForm)\r\n\r\n  return (\r\n    <div className={styles.listWrapper}>\r\n      <Draggable draggableId={String(_id)} index={index} isDragDisabled={isDragDisabled}>\r\n        {provided => (\r\n          <div className={styles.list} {...provided.draggableProps} ref={provided.innerRef} {...provided.dragHandleProps}>\r\n            <div className={styles.listHeader}>\r\n              <div onClick={() => setIsTitleFormOpen(true)} ref={ref}>\r\n                {\r\n                  isTitleFormOpen ?\r\n                    <div className={styles.textareaWrapper}>\r\n                      <TextareaAutosize\r\n                        id='list'\r\n                        autoFocus={true}\r\n                        value={listTitle}\r\n                        className={styles.textarea}\r\n                        onChange={handleChangeListTitle}\r\n                        onFocus={(e) => e.target.select()}\r\n                        onBlur={() => setIsTitleFormOpen(false)}\r\n                        onKeyDown={handleOnKeyDownListTitle}\r\n                        required\r\n                      />\r\n                    </div>\r\n                    : <div className={styles.textareaWrapper}><h2>{listTitle}</h2></div>\r\n                }\r\n              </div>\r\n              <IconButton onClick={() => {\r\n                setPopupTrigger(true)\r\n                setIsDragDisabled(true)\r\n              }}>\r\n                <BsThreeDots style={{ fontSize: \"1.3em\" }} />\r\n              </IconButton>\r\n              <Popup\r\n                title={'Akcje listy'}\r\n                trigger={popupTrigger}\r\n                closePopup={() => {\r\n                  setPopupTrigger(false)\r\n                  setIsDragDisabled(false)\r\n                }}\r\n                top={'30px'}\r\n                right={'-30px'}\r\n              >\r\n                <div className={styles.popupContent}>\r\n                  <TaskButton\r\n                    onClick={() => handleSortCardsByDate('sort-from-newest')}\r\n                    name={'Sortuj karty od najnowszych'}\r\n                  />\r\n                  <TaskButton\r\n                    onClick={() => handleSortCardsByDate('sort-from-oldest')}\r\n                    name={'Sortuj karty od najstarszych'}\r\n                  />\r\n                  <div className={styles.divider}></div>\r\n                  <TaskButton\r\n                    onClick={handleDeleteAllCardsOfList}\r\n                    name={'Usuń wszystkie karty'}\r\n                  />\r\n                  <TaskButton\r\n                    onClick={handleDeleteList}\r\n                    name={'Usuń listę'}\r\n                  />\r\n                </div>\r\n              </Popup>\r\n            </div>\r\n            <Droppable droppableId={String(_id)} type=\"card\">\r\n              {provided => (\r\n                <div {...provided.droppableProps} ref={provided.innerRef} className={styles.cards}>\r\n                  <div className={styles.cardsContainer}>\r\n                    {\r\n                      cards?.map((card, index: number) => (\r\n                        <Card\r\n                          _id={card._id}\r\n                          index={index}\r\n                          key={card._id}\r\n                          boardId={boardId}\r\n                          title={card.title}\r\n                          deadline={card.deadline}\r\n                          completed={card.completed}\r\n                          description={card.description}\r\n                          labels={card.labels}\r\n                          files={card.files}\r\n                          cover={card.cover}\r\n                          usedProducts={card.usedProducts}\r\n                          nameList={listTitle}\r\n                          createdAt={card.createdAt}\r\n                          setIsDragDisabled={setIsDragDisabled}\r\n                        />\r\n                      ))\r\n                    }\r\n                    {provided.placeholder}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </Droppable>\r\n            <div className={styles.addCardForm}>\r\n              {isCardFormOpen ?\r\n                <div ref={ref}>\r\n                  <TaskForm\r\n                    id={'card'}\r\n                    handleChange={handleAddCardTitle}\r\n                    handleSubmit={handleAddCard}\r\n                    closeForm={() => { setIsCardFormOpen(false); setCardTitle('') }}\r\n                    value={cardTitle}\r\n                    titleBtn={'Dodaj Kartę'}\r\n                  />\r\n                </div>\r\n                : <TaskButton onClick={() => setIsCardFormOpen(true)} name={'Dodaj kartę'} icon={<GoPlus />} />\r\n              }\r\n            </div>\r\n          </div>\r\n        )\r\n        }\r\n      </Draggable>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default List","import axios from 'axios'\r\n\r\nconst getImages = async () => {\r\n  const page = Math.floor(Math.random() * 20 + 1)\r\n  const numberPhotos = 14\r\n  const urlImages = `https://api.unsplash.com/search/photos?page=${page}&per_page=${numberPhotos}&query=Landscape&client_id=${process.env.REACT_APP_UNSPLASH_KEY}`\r\n\r\n  const res = await axios.get(urlImages)\r\n  const photos = res.data.results.map(\r\n    (image: {\r\n      id: any\r\n      urls: { thumb: any; full: any }\r\n      user: { username: any; links: { html: any } }\r\n    }) => ({\r\n      id: image.id,\r\n      thumb: image.urls.thumb,\r\n      full: image.urls.full,\r\n      user: {\r\n        username: image.user.username,\r\n        link: image.user.links.html,\r\n      },\r\n    })\r\n  )\r\n  return photos\r\n}\r\n\r\nexport default getImages\r\n","import React, { useState, useEffect } from 'react'\r\nimport styles from './styles.module.scss'\r\nimport { presetColors, defaultBgIcon, defaultColorIcon } from '../localData'\r\nimport getImages from '../../../store/api/unsplashApi'\r\nimport { useUpdateBoardMutation } from '../../../store/api/boards'\r\nimport { BsXLg } from \"react-icons/bs\"\r\nimport IconButton from '../../Details/IconButton/IconButton'\r\n\r\ninterface SideMenuProps {\r\n  boardId: string\r\n  handleCloseMenu: () => void\r\n  setBackgroundUrl: (value: string) => void;\r\n}\r\n\r\nconst SideMenu: React.FC<SideMenuProps> = ({ handleCloseMenu, setBackgroundUrl, boardId }) => {\r\n  const [updateBoard] = useUpdateBoardMutation()\r\n  const [optionColors, setOptionsColors] = useState<boolean>(false)\r\n  const [optionImages, setOptionsImages] = useState<boolean>(false)\r\n  const [images, setImages] = useState<any>([])\r\n\r\n  const getListOfImages = async () => {\r\n    const listImages = await getImages()\r\n    setImages(listImages)\r\n  }\r\n\r\n  useEffect(() => {\r\n    getListOfImages()\r\n  }, [])\r\n\r\n  return (\r\n    <div className={styles.sideMenu}>\r\n      <div className={styles.menuHeader}>\r\n        <h3>Zmień tło</h3>\r\n        <IconButton onClick={handleCloseMenu}><BsXLg /></IconButton>\r\n      </div>\r\n      <div className={styles.menuOptions}>\r\n        <div className={styles.itemBox}\r\n          onClick={() => {\r\n            setOptionsImages(true)\r\n            setOptionsColors(false)\r\n          }}\r\n          style={{\r\n            backgroundImage: `url(${defaultBgIcon})`,\r\n            backgroundRepeat: 'no-repeat',\r\n            backgroundSize: 'cover',\r\n          }}><p>Zdjęcia</p></div>\r\n        <div className={styles.itemBox}\r\n          onClick={() => {\r\n            setOptionsImages(false)\r\n            setOptionsColors(true)\r\n          }}\r\n          style={{\r\n            backgroundImage: `url(${defaultColorIcon})`,\r\n            backgroundRepeat: 'no-repeat',\r\n            backgroundSize: 'cover',\r\n          }}\r\n        ><p>Kolory</p></div>\r\n      </div>\r\n\r\n      <div className={styles.optionsContainer}>\r\n        {\r\n          optionImages ? (\r\n            images.map((photo: { id: string | undefined; thumb: string; full: string; }) => (\r\n              <div\r\n                key={photo.id}\r\n                className={styles.itemBox}\r\n                style={{\r\n                  backgroundImage: `url(${photo.thumb})`,\r\n                  backgroundSize: 'cover',\r\n                  backgroundRepeat: 'no-repeat',\r\n                  backgroundPosition: 'center'\r\n                }}\r\n                onClick={() => {\r\n                  setBackgroundUrl(photo.full)\r\n                  updateBoard({\r\n                    _id: boardId,\r\n                    background: photo.full\r\n                  })\r\n                }}\r\n              ></div>\r\n            ))\r\n          ) : null\r\n        }\r\n        {\r\n          optionColors ? (\r\n            presetColors.map((color, index) => (\r\n              <div\r\n                key={index}\r\n                className={styles.itemBox}\r\n                style={{\r\n                  backgroundColor: `${color}`,\r\n                }}\r\n                onClick={() => {\r\n                  setBackgroundUrl(color)\r\n                  updateBoard({\r\n                    _id: boardId,\r\n                    background: color\r\n                  })\r\n                }}\r\n              ></div>\r\n            ))\r\n          ) : null\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SideMenu","import React, { useEffect, useState, useRef } from 'react'\r\nimport styles from './styles.module.scss'\r\nimport { DragDropContext, Droppable, DropResult } from 'react-beautiful-dnd'\r\nimport { useUpdateBoardMutation } from '../../../store/api/boards'\r\nimport { useAddListMutation, useUpdateListMutation } from '../../../store/api/lists';\r\nimport { useUpdateCardMutation } from \"../../../store/api/cards\";\r\nimport useOnClickOutside from '../../../hooks/useOnClickOutside';\r\nimport { GoPlus } from \"react-icons/go\";\r\nimport { defaultBackground } from '../localData';\r\nimport { Board as BoardResponse } from '../../../models/board'\r\nimport { List as ListResponse } from '../../../models/list'\r\nimport BoardHeader from '../BoardHeader/BoardHeader';\r\nimport List from '../List/List'\r\nimport TaskButton from '../../Details/TaskButton/TaskButton'\r\nimport TaskForm from '../TaskForm/TaskForm'\r\nimport SideMenu from '../SideMenu/SideMenu';\r\n\r\nconst Board: React.FC<BoardResponse> = ({ _id, lists: listsApi, background: backgroundApi }) => {\r\n  const [addList] = useAddListMutation()\r\n  const [updateList] = useUpdateListMutation()\r\n  const [updateCard] = useUpdateCardMutation()\r\n  const [updateBoard] = useUpdateBoardMutation()\r\n\r\n  const [background, setBackground] = useState('')\r\n  const [listTitle, setListTitle] = useState('');\r\n  const [isOpenForm, setIsOpenForm] = useState(false)\r\n  const [isOpenSideMenu, setIsOpenSideMenu] = useState(false)\r\n  const [lists, setLists] = useState<ListResponse[]>([] as ListResponse[])\r\n  const formRef = useRef(null)\r\n\r\n  const closeForm = () => { setIsOpenForm(false); setListTitle('') }\r\n  useOnClickOutside(formRef, closeForm)\r\n\r\n  useEffect(() => {\r\n    if (listsApi) {\r\n      setLists(listsApi)\r\n      setBackground(defaultBackground)\r\n    }\r\n  }, [listsApi, backgroundApi])\r\n\r\n  const handleChangeListTitle = (e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>): void => {\r\n    if (e.target.id === 'list') setListTitle(e.target.value)\r\n  }\r\n\r\n  const handleAddList = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    if (listTitle.length === 0) return\r\n    addList({\r\n      title: listTitle,\r\n      boardId: _id,\r\n    })\r\n    updateBoard({\r\n      _id: _id,\r\n    })\r\n    setListTitle('')\r\n    setIsOpenForm(false)\r\n  }\r\n\r\n  const onDragEnd = (result: DropResult) => {\r\n    const { destination, source, type, draggableId } = result\r\n    const newLists = [...lists]\r\n    if (!destination) return\r\n    if (destination.droppableId === source.droppableId && destination.index === source.index) return\r\n\r\n    if (type === 'list') {\r\n      const [removed] = newLists.splice(source.index, 1)\r\n      newLists.splice(destination.index, 0, removed)\r\n\r\n      setLists(newLists)\r\n      updateBoard({\r\n        _id: _id,\r\n        lists: newLists\r\n      })\r\n    }\r\n\r\n    if (type === 'card') {\r\n      const sourceList = newLists.find((list: { _id: string }) => list._id === source.droppableId)\r\n      const destinationList = newLists.find((list: { _id: string; }) => list._id === destination.droppableId)\r\n\r\n      if (source.droppableId === destination.droppableId && sourceList) {\r\n        const newCards = [...sourceList.cards]\r\n        const [removed] = newCards.splice(source.index, 1)\r\n        newCards.splice(destination.index, 0, removed)\r\n\r\n        const updateState = {\r\n          ...sourceList,\r\n          cards: newCards\r\n        }\r\n\r\n        //replace the contents of the list\r\n        const newState = newLists.map(obj => [updateState].find(o => o._id === obj._id) || obj);\r\n\r\n        setLists(newState)\r\n        updateList({\r\n          _id: source.droppableId,\r\n          cards: newCards\r\n        })\r\n\r\n      }\r\n\r\n      if (source.droppableId !== destination.droppableId && sourceList && destinationList) {\r\n        const startCards = [...sourceList.cards]\r\n        const finishCards = [...destinationList.cards]\r\n\r\n        const [removed] = startCards.splice(source.index, 1)\r\n        const startState = {\r\n          ...sourceList,\r\n          cards: startCards\r\n        }\r\n\r\n        finishCards.splice(destination.index, 0, removed)\r\n        const finishState = {\r\n          ...destinationList,\r\n          cards: finishCards\r\n        }\r\n\r\n        //converted to array\r\n        const newCards = [startState, finishState]\r\n\r\n        //replace the contents of the lists\r\n        const newState = newLists.map(obj => newCards.find(o => o._id === obj._id) || obj);\r\n\r\n        setLists(newState)\r\n\r\n        updateCard({\r\n          _id: draggableId,\r\n          listId: destination.droppableId\r\n        })\r\n        // update source list\r\n        updateList({\r\n          _id: source.droppableId,\r\n          cards: startCards\r\n        })\r\n        //update destination list\r\n        updateList({\r\n          _id: destination.droppableId,\r\n          cards: finishCards\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  const boardBackgroundStyle = {\r\n    backgroundColor: background,\r\n    backgroundImage: `url(${background})`,\r\n    backgroundSize: 'cover',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundPosition: 'center'\r\n  }\r\n\r\n  return (\r\n    <div className={styles.board}\r\n      style={boardBackgroundStyle}\r\n    >\r\n      <div className={styles.container}>\r\n        {/* <BoardHeader\r\n          name={'Zmień tło'}\r\n          onClick={() => setIsOpenSideMenu(true)}\r\n        /> */}\r\n        {\r\n          isOpenSideMenu ?\r\n            <SideMenu\r\n              boardId={_id}\r\n              setBackgroundUrl={setBackground}\r\n              handleCloseMenu={() => setIsOpenSideMenu(false)}\r\n            /> : null\r\n        }\r\n        <DragDropContext onDragEnd={onDragEnd} >\r\n          <Droppable droppableId=\"all-list\" direction=\"horizontal\" type=\"list\">\r\n            {provided => (\r\n              <div className={styles.listContainer}\r\n                {...provided.droppableProps}\r\n                ref={provided.innerRef}\r\n              >\r\n                {\r\n                  lists?.map((list, index: number) => (\r\n                    <List\r\n                      _id={list._id}\r\n                      index={index}\r\n                      boardId={list.boardId}\r\n                      key={list._id}\r\n                      title={list.title}\r\n                      cards={list.cards}\r\n                    />\r\n                  ))\r\n                }\r\n                {provided.placeholder}\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n          <div className={styles.formContainer}>\r\n            {isOpenForm ?\r\n              <div className={styles.addListForm} ref={formRef}>\r\n                <TaskForm\r\n                  id='list'\r\n                  handleChange={handleChangeListTitle}\r\n                  handleSubmit={handleAddList}\r\n                  closeForm={() => { setIsOpenForm(false); setListTitle('') }}\r\n                  value={listTitle}\r\n                  titleBtn={'Dodaj Listę'}\r\n                />\r\n              </div>\r\n              : <TaskButton onClick={() => setIsOpenForm(true)} name={'Dodaj listę zadań'} icon={<GoPlus style={{ margin: '.3rem 0' }} />} />\r\n            }\r\n          </div>\r\n        </DragDropContext>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Board","import React, { useState  } from 'react'\r\nimport Board from '../../../components/Tasks/Board/Board';\r\nimport { useGetAllBoardsQuery  } from '../../../store/api/boards';\r\nimport { Board as BoardResponse } from '../../../models/board'\r\nimport Loading from '../../../components/Details/Loading/Loading';\r\n\r\nconst TasksPage: React.FC = () => {\r\n  const { data, error, isLoading } = useGetAllBoardsQuery()\r\n  const [boards, setBoards] = useState<BoardResponse[]>([] as BoardResponse[])\r\n\r\n  return (\r\n    <>\r\n      {error && <h2>Error 500</h2>}\r\n      {\r\n        isLoading ? <Loading /> : (\r\n          data?.map((board) => (\r\n            < Board\r\n              key={board._id}\r\n              _id={board._id}\r\n              lists={board.lists}\r\n              background={board.background}\r\n            />\r\n          ))\r\n        )\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TasksPage\r\n\r\n\r\n\r\n","import React, { useState } from 'react'\r\nimport { useForm } from 'react-hook-form'\r\nimport Input from '../../Details/Input/Input';\r\nimport ErrorMessage from '../../Details/Messages/ErrorMessage';\r\nimport styles from './styles.module.scss'\r\nimport Button from '../../Details/Button/Button';\r\nimport { Product as ProductModel } from '../../../models/product';\r\nimport { ReduceReturnType } from '../Storage'\r\n\r\nconst validation = {\r\n  name: {\r\n    required: true,\r\n    maxLength: 40,\r\n    minLength: 2,\r\n  },\r\n  category: {\r\n    required: true,\r\n    maxLength: 20,\r\n    minLength: 2,\r\n  },\r\n  quantity: {\r\n    required: true,\r\n    pattern: /[0-9]/g\r\n  },\r\n  price: {\r\n    required: true,\r\n    pattern: /[0-9]/g\r\n  }\r\n}\r\n\r\ninterface DefaultValuesProps {\r\n  _id?: string\r\n  defaultName?: string\r\n  defaultCategory?: string\r\n  defaultQuantity?: number\r\n  defaultUnit?: string\r\n  defaultPrice?: number\r\n}\r\n\r\ninterface AddProductFormProps extends DefaultValuesProps {\r\n  categoryList: ReduceReturnType | undefined\r\n  formTitle: string\r\n  handleSubmitForm: (data: ProductModel) => void\r\n}\r\n\r\nconst AddProductForm: React.FC<AddProductFormProps> = ({\r\n  defaultName,\r\n  defaultCategory,\r\n  defaultQuantity,\r\n  defaultUnit,\r\n  defaultPrice,\r\n  categoryList,\r\n  formTitle,\r\n  handleSubmitForm\r\n}) => {\r\n\r\n  const [isSuccess, setIsSuccess] = useState(false)\r\n  const [categorySwitch, setCategorySwitch] = useState(true)\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm<ProductModel>();\r\n\r\n  const nameErrors = (type: any) => {\r\n    switch (type) {\r\n      case 'required':\r\n        return <ErrorMessage message={'Nazwa jest wymagana'} />\r\n      case 'minLength':\r\n        return <ErrorMessage message={'Nazwa musi zawierać conajmiej 2 znaki'} />\r\n      case 'maxLength':\r\n        return <ErrorMessage message={'Nazwa może zawierać maksymalnie 20 znaków'} />\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  const categoryErrors = (type: any) => {\r\n    switch (type) {\r\n      case 'required':\r\n        return <ErrorMessage message={'Kategoria jest wymagana'} />\r\n      case 'minLength':\r\n        return <ErrorMessage message={'Kategoria musi zawierać conajmiej 2 znaki'} />\r\n      case 'maxLength':\r\n        return <ErrorMessage message={'Kategoria może zawierać maksymalnie 20 znaków'} />\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  const quantityErrors = (type: any) => {\r\n    switch (type) {\r\n      case 'required':\r\n        return <ErrorMessage message={'Email jest wymagany'} />\r\n      case 'pattern':\r\n        return <ErrorMessage message={'Email jest niepoprawny'} />\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  const priceErrors = (type: any) => {\r\n    switch (type) {\r\n      case 'required':\r\n        return <ErrorMessage message={'Hasło jest wymagane'} />\r\n      case 'pattern':\r\n        return <ErrorMessage message={'Hasło musi zawierać: co najmniej 8 znaków, 1 cyfrę, 1 małą literę i 1 wielką literę'} />\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <h2>{formTitle}</h2>\r\n      <form className={styles.form} onSubmit={handleSubmit(handleSubmitForm)}>\r\n        <div className={styles.formContainer}>\r\n          <div className={styles.formGroup}>\r\n            <div className={styles.inputContainer}>\r\n              <label htmlFor=\"name\">Nazwa</label>\r\n              <Input\r\n                id={'name'}\r\n                placeholder={'Nazwa'}\r\n                label={'Nazwa'}\r\n                type=\"text\"\r\n                defaultValue={defaultName}\r\n                error={errors.name}\r\n                {...register(\"name\", { ...validation.name })}\r\n              />\r\n              {nameErrors(errors.name?.type)}\r\n            </div>\r\n            <div className={styles.inputContainer}>\r\n              <label htmlFor=\"quantity\">Stan</label>\r\n              <Input\r\n                id={'quantity'}\r\n                placeholder={'Stan'}\r\n                label={'Stan'}\r\n                type=\"number\"\r\n                defaultValue={defaultQuantity}\r\n                minValue={0}\r\n                error={errors.quantity}\r\n                {...register(\"quantity\", { ...validation.quantity })}\r\n              />\r\n              {quantityErrors(errors.quantity?.type)}\r\n            </div>\r\n            <div className={styles.inputContainer}>\r\n              <label htmlFor=\"price\">Cena</label>\r\n              <Input\r\n                id={'price'}\r\n                placeholder={'Cena'}\r\n                label={'Cena'}\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                defaultValue={defaultPrice}\r\n                minValue={0}\r\n                error={errors.price}\r\n                {...register(\"price\", { ...validation.price })}\r\n              />\r\n              {priceErrors(errors.price?.type)}\r\n            </div>\r\n          </div>\r\n          <div className={styles.formGroup}>\r\n            <div className={styles.inputContainer}>\r\n              <label htmlFor=\"unit\">Jednostka</label>\r\n              <select {...register('unit')} className={styles.select} defaultValue={defaultUnit}>\r\n                <option value=\"szt\">szt</option>\r\n                <option value=\"m2\">m2</option>\r\n                <option value=\"mb\">mb</option>\r\n                <option value=\"ark\">ark</option>\r\n                <option value=\"ryz\">ryz</option>\r\n                <option value=\"litry\">litry</option>\r\n                <option value=\"inne\">inne</option>\r\n              </select>\r\n            </div>\r\n            <div className={styles.inputContainer}>\r\n              <div className={styles.selectGroup}>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={categorySwitch}\r\n                  onChange={() => setCategorySwitch(categorySwitch => !categorySwitch)} />\r\n                <label htmlFor=\"category\">Dodaj nową kategorię</label>\r\n              </div>\r\n              <Input\r\n                id={'category'}\r\n                placeholder={'Dodaj kategorię'}\r\n                label={'Kategoria'}\r\n                type=\"text\"\r\n                defaultValue={defaultCategory}\r\n                error={errors.category}\r\n                disabled={!categorySwitch}\r\n                {...register(\"category\", { ...validation.category })}\r\n              />\r\n              {categoryErrors(errors.category?.type)}\r\n            </div>\r\n            <div className={styles.inputContainer}>\r\n              <div className={styles.selectGroup}>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={!categorySwitch}\r\n                  onChange={() => setCategorySwitch(categorySwitch => !categorySwitch)} />\r\n                <label htmlFor=\"category\">Wybierz kategorię</label>\r\n              </div>\r\n              {\r\n                categoryList ? (\r\n                  <select\r\n                    {...(!categorySwitch && { ...register('category') })}\r\n                    className={styles.select}\r\n                    disabled={categorySwitch}\r\n                    defaultValue={defaultCategory}>\r\n                    {\r\n                      Object.entries(categoryList).map(([category]) => (\r\n                        <option key={category} value={category}>{category}</option>\r\n                      ))\r\n                    }\r\n                  </select>\r\n                ) : null\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={styles.actionForm}>\r\n          <Button title={'Zapisz'} type={'submit'} style={{ width: '100%', padding: '0.8rem' }} />\r\n          <h3>{isSuccess && 'Produkt został dodany'}</h3>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddProductForm","import React, { useState } from 'react'\r\nimport styles from './styles.module.scss'\r\nimport TaskButton from '../../Details/TaskButton/TaskButton'\r\nimport { GoPlus } from 'react-icons/go'\r\nimport { BsFilter } from 'react-icons/bs'\r\nimport Popup from '../../Details/Popup/Popup'\r\nimport { ReduceReturnType } from '../Storage'\r\n\r\ninterface HeaderProps {\r\n  addNewProduct: () => void\r\n  categories: ReduceReturnType | undefined\r\n  handleFilterCategory: (value: string) => void\r\n  activeCategory: string\r\n  allCategoryValue: string\r\n}\r\n\r\nconst Header: React.FC<HeaderProps> = ({ categories, allCategoryValue, activeCategory, addNewProduct, handleFilterCategory }) => {\r\n  const [isPopupOpen, setIsPopupOpen] = useState(false)\r\n\r\n  return (\r\n    <div className={styles.header}>\r\n      <TaskButton\r\n        icon={<GoPlus style={{ color: 'grey', fontSize: '1.2rem' }} />}\r\n        name={'Dodaj produkt'}\r\n        onClick={addNewProduct}\r\n        style={{ width: '200px' }}\r\n      />\r\n      <div className={styles.filter}>\r\n        <div className={styles.categoryName}><h3>{activeCategory}</h3></div>\r\n        <div className={styles.filterBtn}>\r\n          <TaskButton\r\n            icon={<BsFilter style={{ color: 'grey', fontSize: '1.2rem' }} />}\r\n            name={'Filtruj'}\r\n            onClick={() => setIsPopupOpen(true)}\r\n            style={{ width: '200px' }}\r\n          />\r\n        </div>\r\n        <Popup\r\n          title={'Filtruj kategorie'}\r\n          trigger={isPopupOpen}\r\n          closePopup={() => setIsPopupOpen(false)}\r\n          top={'10px'}\r\n          right={'10px'}\r\n        >\r\n          <>\r\n            <TaskButton\r\n              onClick={() => handleFilterCategory(allCategoryValue)}\r\n              name={allCategoryValue}\r\n              style={{ margin: '8px 0' }}\r\n            />\r\n            {\r\n              categories ? Object.entries(categories).map(([key]) => (\r\n                <div key={key} className={styles.popupContent}>\r\n                  <TaskButton\r\n                    onClick={() => handleFilterCategory(key)}\r\n                    name={key}\r\n                    style={{ margin: '8px 0' }}\r\n                  />\r\n                </div>\r\n              )) : null\r\n            }\r\n          </>\r\n        </Popup>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header","import React, { useCallback, useState } from 'react'\r\nimport styles from './styles.module.scss'\r\nimport { TiArrowSortedDown } from 'react-icons/ti'\r\nimport { TiArrowSortedUp } from 'react-icons/ti'\r\nimport { TiArrowUnsorted } from 'react-icons/ti'\r\nimport { Product as ProductModel } from '../../../models/product';\r\n\r\ninterface ProductsListProps {\r\n  data: ProductModel[] | undefined\r\n  sortProducts: (value: ProductModel[]) => void\r\n}\r\n\r\ntype SortKeys = keyof ProductModel;\r\n\r\nconst ProductsList: React.FC<ProductsListProps> = ({ data, children, sortProducts }) => {\r\n  const [order, setOrder] = useState('asc')\r\n  const [sortKey, setSortKey] = useState('');\r\n\r\n  const headers: { key: SortKeys; label: string, sortable: boolean }[] = [\r\n    { key: \"name\", label: \"Nazwa\", sortable: true },\r\n    { key: \"category\", label: \"Kategoria\", sortable: true },\r\n    { key: \"quantity\", label: \"Stan\", sortable: true },\r\n    { key: \"unit\", label: \"Jedn.\", sortable: false },\r\n    { key: \"price\", label: \"Cena\", sortable: true },\r\n    { key: \"actions\", label: \"Akcje\", sortable: false },\r\n  ];\r\n\r\n  const sortData = useCallback(({ sortBy }: { sortBy: SortKeys }) => {\r\n    if (!data) return;\r\n    const array: ProductModel[] = [...data]\r\n\r\n    if (order === 'asc') {\r\n      const sorted = array.sort((a, b) => a[sortBy].toString().localeCompare(b[sortBy].toString(), \"pl\", { numeric: true }))\r\n      sortProducts(sorted)\r\n      setOrder('desc')\r\n    }\r\n\r\n    if (order === 'desc') {\r\n      const sorted = array.sort((a, b) => b[sortBy].toString().localeCompare(a[sortBy].toString(), \"pl\", { numeric: true }))\r\n      sortProducts(sorted)\r\n      setOrder('asc')\r\n    }\r\n\r\n    setSortKey(sortBy);\r\n\r\n  }, [data, order, sortKey])\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.head}>\r\n        {headers.map(row => (\r\n          <div\r\n            key={row.key}\r\n            className={`${styles.block} ${row.sortable ? styles.sortable : ''}`}\r\n            {...(row.sortable && { onClick: () => sortData({ sortBy: row.key })})}>\r\n            <span>\r\n              {row.label}\r\n              {row.sortable ?\r\n                (sortKey === row.key ? (order === 'desc' ? <TiArrowSortedDown /> : <TiArrowSortedUp />) : <TiArrowUnsorted color='#c8c8c8' />)\r\n                : null}\r\n            </span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className={styles.list}>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProductsList","import React, { useState } from 'react'\r\nimport styles from './styles.module.scss'\r\nimport IconButton from '../../Details/IconButton/IconButton';\r\nimport { Product as ProductModel } from '../../../models/product';\r\n\r\nimport { BiDotsVerticalRounded } from 'react-icons/bi'\r\nimport Popup from '../../Details/Popup/Popup';\r\nimport TaskButton from '../../Details/TaskButton/TaskButton';\r\n\r\ninterface ProductProps extends ProductModel {\r\n  deleteProd: () => void\r\n  editProd: () => void\r\n}\r\n\r\nconst Product: React.FC<ProductProps> = ({ name, category, quantity, unit, price, editProd, deleteProd }) => {\r\n  const [isPopupOpen, setIsPopupOpen] = useState(false)\r\n  \r\n  return (\r\n    <div className={styles.row}>\r\n      <div className={`${styles.block}`}><span>{name}</span></div>\r\n      <div className={`${styles.block}`}><span>{category}</span></div>\r\n      <div className={`${styles.block}`}><span>{quantity}</span></div>\r\n      <div className={`${styles.block}`}><span>{unit}</span></div>\r\n      <div className={`${styles.block}`}><span>{price}</span></div>\r\n      <div className={`${styles.block}`}>\r\n        <IconButton onClick={() => setIsPopupOpen(true)}><BiDotsVerticalRounded style={{ fontSize: '1.2rem', color: 'grey' }} /></IconButton>\r\n      </div>\r\n      <Popup\r\n        title={'Akcje produktu'}\r\n        trigger={isPopupOpen}\r\n        closePopup={() => setIsPopupOpen(false)}\r\n        top={'10px'}\r\n        right={'10px'}\r\n      >\r\n        <div className={styles.popupContent}>\r\n          <TaskButton\r\n            onClick={editProd}\r\n            name={'Etytuj'}\r\n            style={{ margin: '10px 0' }}\r\n          />\r\n          <TaskButton\r\n            onClick={deleteProd}\r\n            name={'Usuń'}\r\n          />\r\n        </div>\r\n      </Popup>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Product","import React from 'react'\r\nimport styles from './styles.module.scss'\r\nimport { BiCategory } from 'react-icons/bi'\r\nimport {ReduceReturnType} from '../Storage'\r\n\r\ninterface CategoriesListProps {\r\n  data: ReduceReturnType | undefined\r\n}\r\n\r\nconst CategoriesList: React.FC<CategoriesListProps> = ({ data }) => {\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.header}>\r\n        <BiCategory fontSize={'1.5rem'} />\r\n        <h4>Magazyn</h4>\r\n      </div>\r\n      {\r\n        data ? Object.entries(data).map(([key, value]) => (\r\n          <div key={key} className={styles.box}>\r\n            <h5>{key}</h5>\r\n            <span>{`ilość: ${value}`}</span>\r\n          </div>\r\n        )) : null\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CategoriesList","import React, { useState, useEffect } from 'react'\r\nimport styles from './styles.module.scss'\r\nimport { Product as ProductModel } from '../../models/product'\r\nimport {\r\n  useGetAllProductsQuery,\r\n  useDeleteProductMutation,\r\n  useAddProductMutation,\r\n  useUpdateProductMutation\r\n} from \"../../store/api/products\"\r\nimport Modal from '../Details/Modal/Modal'\r\nimport ProductForm from './ProductForm/ProductForm'\r\nimport Header from './Header/Header'\r\nimport ProductsList from './ProductsList/ProductsList'\r\nimport Product from './Product/Product'\r\nimport CategoriesList from './CategoriesList/CategoriesList'\r\n\r\nexport type ReduceReturnType = Record<string, number>;\r\n\r\nconst Storage: React.FC = () => {\r\n  const { data, error, isLoading } = useGetAllProductsQuery()\r\n  const [deleteProduct] = useDeleteProductMutation()\r\n  const [addProduct] = useAddProductMutation()\r\n  const [updateProduct] = useUpdateProductMutation()\r\n\r\n  const [products, setProducts] = useState<ProductModel[]>()\r\n  const [categories, setCategories] = useState<ReduceReturnType | undefined>()\r\n  const [currentProduct, setCurrentProduct] = useState<any>(null)\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const [isModalEditOpen, setIsModalEditOpen] = useState(false)\r\n  const allCategoryValue = 'Wszystkie kategorie'\r\n  const [activeCategory, setActiveCategory] = useState<string>(allCategoryValue)\r\n\r\n  console.log(data)\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setProducts(data)\r\n      setCategories(getCategories(data))\r\n    }\r\n  }, [data])\r\n\r\n  const getCategories = (data: ProductModel[] | undefined) => {\r\n    if (!data) return\r\n    const categories = [...data].map(product => product.category)\r\n    const categoryObj = categories.reduce<ReduceReturnType>((acc, value) => ({\r\n      ...acc,\r\n      [value]: (acc[value] || 0) + 1\r\n    }), {});\r\n\r\n    return categoryObj\r\n  }\r\n\r\n  const handleFilterCategory = (value: string) => {\r\n    if (!data) return\r\n    const filterProducts = [...data].filter(product => product.category === value)\r\n    if (value !== allCategoryValue) {\r\n      setProducts(filterProducts)\r\n    }\r\n    else {\r\n      setProducts(data)\r\n    }\r\n    setActiveCategory(value)\r\n  }\r\n\r\n  const handleEditProd = (prod: ProductModel) => {\r\n    setIsModalEditOpen(true)\r\n    setCurrentProduct(prod)\r\n  }\r\n\r\n  const handleAddProduct = (data: ProductModel) => {\r\n    const { name, category, quantity, unit, price } = data\r\n    addProduct({\r\n      name,\r\n      category,\r\n      quantity,\r\n      unit,\r\n      price\r\n    })\r\n  }\r\n\r\n  const handleEditProduct = (data: ProductModel) => {\r\n    const { name, category, quantity, unit, price } = data\r\n    updateProduct({\r\n      _id: currentProduct._id,\r\n      name,\r\n      category,\r\n      quantity,\r\n      unit,\r\n      price\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      {error && <h2>Error 500</h2>}\r\n      <div className={styles.left}>\r\n        <div className={styles.top}>\r\n          <CategoriesList data={categories} />\r\n        </div>\r\n        <div className={styles.bottom}>\r\n          <Header\r\n            addNewProduct={() => setIsModalOpen(true)}\r\n            categories={categories}\r\n            handleFilterCategory={handleFilterCategory}\r\n            activeCategory={activeCategory}\r\n            allCategoryValue={allCategoryValue}\r\n          />\r\n          {\r\n            isLoading ? <div>Loading...</div> : (\r\n              <ProductsList\r\n                data={products}\r\n                sortProducts={setProducts}\r\n              >\r\n                {\r\n                  products?.map(product => (\r\n                    <Product\r\n                      key={product._id}\r\n                      _id={product._id}\r\n                      name={product.name}\r\n                      category={product.category}\r\n                      quantity={product.quantity}\r\n                      unit={product.unit}\r\n                      price={`${product.price} zł`}\r\n                      editProd={() => handleEditProd(product)}\r\n                      deleteProd={() => deleteProduct(product._id)}\r\n                    />\r\n                  ))\r\n                }\r\n              </ProductsList>\r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n      <div className={styles.right}><p>statystyki magazynu</p></div>\r\n      <Modal\r\n        trigger={isModalOpen}\r\n        closeModal={() => setIsModalOpen(false)}>\r\n        <ProductForm\r\n          categoryList={categories}\r\n          formTitle={'Dodaj produkt'}\r\n          handleSubmitForm={handleAddProduct} />\r\n      </Modal>\r\n      <Modal\r\n        trigger={isModalEditOpen}\r\n        closeModal={() => setIsModalEditOpen(false)}>\r\n        {\r\n          currentProduct && (\r\n            <ProductForm\r\n              categoryList={categories}\r\n              formTitle={'Edytuj produkt'}\r\n              defaultName={currentProduct.name}\r\n              defaultCategory={currentProduct.category}\r\n              defaultQuantity={currentProduct.quantity}\r\n              defaultUnit={currentProduct.unit}\r\n              defaultPrice={currentProduct.price}\r\n              handleSubmitForm={handleEditProduct}\r\n            />\r\n          )\r\n        }\r\n      </Modal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Storage","import React from 'react'\r\nimport Storage from '../../../components/Storage/Storage'\r\n\r\nimport {\r\n  useGetAllProductsQuery,\r\n  useDeleteProductMutation\r\n} from \"../../../store/api/products\";\r\n\r\nconst View2: React.FC = () => {\r\nconst { data, error, isLoading, refetch } = useGetAllProductsQuery()\r\n  return (\r\n    <>\r\n      <Storage/>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default View2\r\n","import React from 'react'\r\n\r\nconst View3: React.FC = () => {\r\n\r\n  return (\r\n    <div style={{ padding: '4rem' }}><h2>Is in progress...</h2></div>\r\n  )\r\n}\r\n\r\nexport default View3\r\n","import React from 'react'\r\n\r\nconst Settings: React.FC = () => {\r\n\r\n  return (\r\n    <div style={{ padding: '4rem' }}><h2>Is in progress...</h2></div>\r\n  )\r\n}\r\n\r\nexport default Settings\r\n","import React from 'react'\r\n\r\nconst Calculator: React.FC = () => {\r\n  return (\r\n    <div style={{ padding: '4rem' }}><h2>Is in progress...</h2></div>\r\n  )\r\n}\r\n\r\nexport default Calculator","import React from 'react'\r\nimport { Routes, Route, Navigate } from 'react-router-dom'\r\nimport styles from './styles.module.scss'\r\nimport Layout from '../../components/Layout';\r\nimport Tasks from './TasksPage/TasksPage';\r\nimport Storage from './StoragePage/StoragePage';\r\nimport Statistics from './Statistics/Statistics';\r\nimport Information from './Settings/Settings';\r\nimport Calculator from './Calculator/Calculator';\r\n\r\nconst Home: React.FC = () => {\r\n\r\n  return (\r\n    <Routes>\r\n      <Route element={<Layout />} >\r\n        <Route path=\"/zadania\" element={<Tasks />} />\r\n        <Route path='/magazyn' element={<Storage />} />\r\n        <Route path='/kalkulator' element={<Calculator />} />\r\n        <Route path='/statystyki' element={<Statistics />} />\r\n        <Route path='/ustawienia' element={<Information />} />\r\n        <Route path=\"/\" element={<Navigate replace to=\"/zadania\" />} />\r\n      </Route>\r\n    </Routes>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import { useEffect } from 'react';\r\nimport { Routes, Route, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../hooks/useAuth'\r\nimport Auth from './Auth/Auth'\r\nimport Home from './Home/Home'\r\n\r\nconst Root: React.FC = () => {\r\n  const { user } = useAuth()\r\n  const navigate = useNavigate()\r\n\r\n  useEffect(() => {\r\n    user ? navigate('/') : navigate('/logowanie')\r\n  }, [user])\r\n\r\n  return (\r\n    <>\r\n      <Routes>\r\n        {user ? <Route path=\"/*\" element={<Home />} /> : <Route path=\"/*\" element={<Auth />} />}\r\n      </Routes>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Root","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { AuthProvider } from './hooks/useAuth';\r\nimport './index.css';\r\nimport AppProviders from './providers/AppProviders';\r\nimport { store } from './store/store';\r\nimport Root from './views/Root';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AppProviders>\r\n      <Root />\r\n    </AppProviders>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1-Vs_\",\"formContainer\":\"styles_formContainer__3C9j6\",\"formGroup\":\"styles_formGroup__9bsMI\",\"inputContainer\":\"styles_inputContainer__qQIMg\",\"selectGroup\":\"styles_selectGroup__QrqKR\",\"select\":\"styles_select__1Kg3n\",\"actionForm\":\"styles_actionForm__LxvJg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"styles_sidebar__3wC10\",\"sidebarHidden\":\"styles_sidebarHidden__2mCv1\",\"logo\":\"styles_logo__FkRb0\",\"navButton\":\"styles_navButton__1WEZY\",\"navButtonHidden\":\"styles_navButtonHidden__3yxNk\",\"linksContainer\":\"styles_linksContainer__3j3Z7\",\"navItem\":\"styles_navItem__2YkZ4\",\"navLink\":\"styles_navLink__6CTBW\",\"icon\":\"styles_icon__2krzZ\",\"active\":\"styles_active__tcVzl\",\"divider\":\"styles_divider__IMCRY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"styles_list__10VXO\",\"listHeader\":\"styles_listHeader__AZh60\",\"textareaWrapper\":\"styles_textareaWrapper__22zi6\",\"textarea\":\"styles_textarea__1OwBV\",\"cardsContainer\":\"styles_cardsContainer__9wbRc\",\"addCardForm\":\"styles_addCardForm__3OMuD\",\"popupContent\":\"styles_popupContent__3R-MM\",\"divider\":\"styles_divider__3pBig\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3seBR\",\"cardDetails\":\"styles_cardDetails__3IlNx\",\"textarea\":\"styles_textarea__1UO7U\",\"btnContainer\":\"styles_btnContainer__2K_79\",\"cardLabels\":\"styles_cardLabels__wxQ6P\",\"cardLabel\":\"styles_cardLabel__1veyb\",\"iconsContainer\":\"styles_iconsContainer__FrvYa\",\"dateContainer\":\"styles_dateContainer__1zIDa\",\"dateBtn\":\"styles_dateBtn__MSJbB\",\"icons\":\"styles_icons__3feCS\",\"cardCover\":\"styles_cardCover__1qwF_\",\"actionsContainer\":\"styles_actionsContainer__2ZPg7\",\"actionsPopup\":\"styles_actionsPopup__1YDHd\",\"actionsPopupContent\":\"styles_actionsPopupContent__3-CHs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideMenu\":\"styles_sideMenu__n4Dft\",\"menuHeader\":\"styles_menuHeader__yYTfi\",\"menuOptions\":\"styles_menuOptions__YWr_m\",\"optionsContainer\":\"styles_optionsContainer__3tHVd\",\"description\":\"styles_description__1cACy\",\"itemBox\":\"styles_itemBox__1cVqL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"styles_row__jrhZD\",\"block\":\"styles_block__LpmRW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1Ckeh\",\"login_formContainer\":\"styles_login_formContainer__1Aa54\",\"left\":\"styles_left__1B5XZ\",\"form_container\":\"styles_form_container__15YG_\",\"input\":\"styles_input__1iHTC\",\"error_msg\":\"styles_error_msg__3c5F1\",\"right\":\"styles_right__rHiwj\",\"white_btn\":\"styles_white_btn__1l2Cg\",\"green_btn\":\"styles_green_btn__JtBYx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__9Abju\",\"signup_formContainer\":\"styles_signup_formContainer__3QQH_\",\"left\":\"styles_left__3a-9v\",\"right\":\"styles_right__o1z62\",\"form_container\":\"styles_form_container__2S9ok\",\"input\":\"styles_input__XjSrT\",\"error_msg\":\"styles_error_msg__2WEth\",\"white_btn\":\"styles_white_btn__3jQeg\",\"green_btn\":\"styles_green_btn__1r5ke\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"styles_form__qExef\",\"textarea\":\"styles_textarea__3C6rf\",\"actionsForm\":\"styles_actionsForm__1HEnh\",\"reactColorful\":\"styles_reactColorful__1GZvD\",\"pickerSwatches\":\"styles_pickerSwatches__2mV9F\",\"pickerSwatch\":\"styles_pickerSwatch__pfsqw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1-ydT\",\"logoContainer\":\"styles_logoContainer__3ysgE\",\"userInfo\":\"styles_userInfo__14Neq\",\"userSignature\":\"styles_userSignature__XPf4S\",\"userActionBtn\":\"styles_userActionBtn__8-DQQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__34OC-\",\"form\":\"styles_form__20oXv\",\"inputContainer\":\"styles_inputContainer__jVvD7\",\"select\":\"styles_select__3-boi\",\"list\":\"styles_list__27ndL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"styles_layout__26wyt\",\"appbar\":\"styles_appbar__1Areq\",\"sidebar\":\"styles_sidebar__3gXVy\",\"pages\":\"styles_pages__TSa_W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"board\":\"styles_board__iPJCd\",\"container\":\"styles_container___wR6X\",\"listContainer\":\"styles_listContainer__J17TG\",\"formContainer\":\"styles_formContainer__3ixh_\",\"addListForm\":\"styles_addListForm__2TrIA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1jJ7k\",\"fileImg\":\"styles_fileImg__2WSkh\",\"selectCover\":\"styles_selectCover__18Z5f\",\"fileDetails\":\"styles_fileDetails__9GK1H\",\"fileButtons\":\"styles_fileButtons__1hbRL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3iTl6\",\"left\":\"styles_left__3c1Yx\",\"top\":\"styles_top__2KYAn\",\"bottom\":\"styles_bottom__17AQS\",\"right\":\"styles_right__3WLBw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"styles_header__1A8I6\",\"filter\":\"styles_filter__bgwFP\",\"filterBtn\":\"styles_filterBtn__1zXD9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__Q8g_j\",\"header\":\"styles_header__1SGdT\",\"head\":\"styles_head__egO-Y\",\"block\":\"styles_block__36pkB\",\"sortable\":\"styles_sortable__1-zpP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formFile\":\"styles_formFile__3T8jv\",\"labelFile\":\"styles_labelFile__De77c\",\"spanContainer\":\"styles_spanContainer__2K5TI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"styles_popup__J-j7T\",\"header\":\"styles_header__xILXA\",\"popupContent\":\"styles_popupContent__24i3Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"styles_form__oc3HO\",\"textarea\":\"styles_textarea__3-Mx0\",\"actionsForm\":\"styles_actionsForm__2-exw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"styles_overlay__1--du\",\"modal\":\"styles_modal__7krd0\",\"header\":\"styles_header__1sCxb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"box\":\"styles_box__1lrOR\",\"container\":\"styles_container__OcLlI\",\"clickableArea\":\"styles_clickableArea__3AfvO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1xxgR\",\"header\":\"styles_header__1vqFE\",\"box\":\"styles_box__3y_wB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__3cznN\",\"span\":\"styles_span__2LjB1\",\"icon\":\"styles_icon__1ACJd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"taskButton\":\"styles_taskButton__2AgMZ\",\"icon\":\"styles_icon__2X-0i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__5Io1M\",\"boxColor\":\"styles_boxColor__3lLjZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__Z6dLN\",\"items\":\"styles_items__deea-\"};"],"sourceRoot":""}