(this["webpackJsonpprint-management"]=this["webpackJsonpprint-management"]||[]).push([[0],{111:function(e,t,a){e.exports={loadingContainer:"styles_loadingContainer__1bcJk"}},113:function(e,t,a){e.exports={input:"styles_input__1cKbP",error:"styles_error__2mt9a"}},116:function(e,t,a){e.exports={button:"styles_button__2U68g"}},117:function(e,t,a){e.exports={iconButton:"styles_iconButton__12sp6"}},135:function(e,t,a){},18:function(e,t,a){e.exports={container:"styles_container__2Wksr",cardCover:"styles_cardCover__2lm_h",cardModalHeader:"styles_cardModalHeader__3aWP1",cardModalHeaderTextarea:"styles_cardModalHeaderTextarea__1q8aD",cardModalTextareaTitle:"styles_cardModalTextareaTitle__39NFj",groupWrapper:"styles_groupWrapper__Z8PwQ",content:"styles_content__ul5DA",descriptionContainer:"styles_descriptionContainer__25uRd",descriptionHeader:"styles_descriptionHeader__3k9ZG",actionsForm:"styles_actionsForm__3Ld_q",cardModalSidebar:"styles_cardModalSidebar__2BjPJ",divider:"styles_divider__R3UMs",cardModalLabels:"styles_cardModalLabels__36ET-",cardModalLabelsList:"styles_cardModalLabelsList__xKnwB",cardModalLabel:"styles_cardModalLabel__bpqjs",dateNotificationSpan:"styles_dateNotificationSpan__1mGne",cardModalSelectedDateBtn:"styles_cardModalSelectedDateBtn__1VzSD"}},208:function(e,t,a){"use strict";a.r(t);var n,r=a(2),c=a.n(r),s=a(37),i=a.n(s),l=(a(135),a(20)),o=a(25),d=a(10),u=a.n(d),j=a(15),b=a(6),m=a(38),O=a.n(m),p=a(12),f=a(1),x=Object(r.createContext)(null),h=function(e){var t=e.children,a=function(){var e=Object(r.useState)(null),t=Object(b.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(b.a)(c,2),i=s[0],l=s[1],o=Object(r.useState)(!1),d=Object(b.a)(o,2),m=d[0],f=d[1],x=Object(p.h)();Object(r.useEffect)((function(){var e=localStorage.getItem("token")||null;e&&Object(j.a)(u.a.mark((function t(){var a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.a.get("".concat("https://task-control-backend.herokuapp.com/","users/me"),{headers:{authorization:"Bearer ".concat(e)}});case 3:a=t.sent,r=a.data,n(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[]);var h=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,r,c,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.password,c={headers:{"Content-type":"application/json"}},f(!0),e.prev=3,e.next=6,O.a.post("".concat("https://task-control-backend.herokuapp.com/","users/login"),{email:a,password:r},c);case 6:s=e.sent,i=s.data,f(!1),n(i),localStorage.setItem("token",i.token),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),f(!1),l(e.t0.response.data.message);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.email,r=t.password,c={headers:{"Content-type":"application/json"}},f(!0),e.prev=3,e.next=6,O.a.post("".concat("https://task-control-backend.herokuapp.com/","users"),{name:a,email:n,password:r},c);case 6:f(!1),x("/logowanie"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),f(!1),l(e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return{user:a,loading:m,error:i,signIn:h,signUp:_,signOut:function(){n(null),localStorage.removeItem("token")}}}();return Object(f.jsx)(x.Provider,{value:a,children:t})},_=function(){var e=Object(r.useContext)(x);if(!e)throw new Error("useAuth needs to be used inside AuthContext");return e},y=a(26),g=a(9),v=a(14),k=a(32),C=a(23),w=["_id"],N=localStorage.getItem("token")||null,S=Object(k.a)({reducerPath:"boardApi",baseQuery:Object(C.d)({baseUrl:"https://task-control-backend.herokuapp.com/",prepareHeaders:function(e){var t=localStorage.getItem("token");return t&&e.set("authorization","Bearer ".concat(t)),e}}),tagTypes:["Board"],refetchOnMountOrArgChange:!!N,endpoints:function(e){return{getAllBoards:e.query({query:function(){return"boards"},providesTags:["Board"]}),getBoard:e.query({query:function(e){return{url:"boards/".concat(e)}},providesTags:["Board"]}),createBoard:e.mutation({query:function(e){return{url:"boards",method:"POST",body:e}},invalidatesTags:["Board"]}),updateBoard:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,w);return{url:"boards/".concat(t),method:"PATCH",body:a}},invalidatesTags:["Board"]})}}}),z=S.useGetAllBoardsQuery,L=S.useGetBoardQuery,D=(S.useCreateBoardMutation,S.useUpdateBoardMutation),I=["_id"],F=["_id"],q=Object(k.a)({reducerPath:"listApi",baseQuery:Object(C.d)({baseUrl:"https://task-control-backend.herokuapp.com/"}),tagTypes:["List"],endpoints:function(e){return{getAllLists:e.query({query:function(){return"lists"},providesTags:["List"]}),getList:e.query({query:function(e){return"lists/".concat(e)},providesTags:["List"]}),addList:e.mutation({query:function(e){return{url:"lists",method:"POST",body:e}},invalidatesTags:["List"]}),updateList:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,I);return{url:"lists/".concat(t),method:"PATCH",body:a}},invalidatesTags:["List"]}),deleteList:e.mutation({query:function(e){return{url:"lists/".concat(e),method:"DELETE"}},invalidatesTags:["List"]}),deleteAllCardsOfList:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,F);return{url:"lists/".concat(t,"/cards"),method:"PATCH",body:a}},invalidatesTags:["List"]})}}}),P=(q.useGetAllListsQuery,q.useGetListQuery,q.useAddListMutation),T=q.useUpdateListMutation,B=q.useDeleteListMutation,M=q.useDeleteAllCardsOfListMutation,A=["_id"],E=Object(k.a)({reducerPath:"cardsApi",baseQuery:Object(C.d)({baseUrl:"https://task-control-backend.herokuapp.com/"}),tagTypes:["Cards"],endpoints:function(e){return{getAllCards:e.query({query:function(){return"cards"},providesTags:["Cards"]}),getCard:e.query({query:function(e){return"cards/".concat(e)},providesTags:["Cards"]}),addCard:e.mutation({query:function(e){return{url:"cards",method:"POST",body:e}},invalidatesTags:["Cards"]}),updateCard:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,A);return{url:"cards/".concat(t),method:"PATCH",body:a}},invalidatesTags:["Cards"]}),deleteCard:e.mutation({query:function(e){return{url:"cards/".concat(e),method:"DELETE"}},invalidatesTags:["Cards"]})}}}),H=E.useGetAllCardsQuery,U=(E.useGetCardQuery,E.useAddCardMutation),R=E.useDeleteCardMutation,W=E.useUpdateCardMutation,Z=Object(k.a)({reducerPath:"filesApi",baseQuery:Object(C.d)({baseUrl:"https://task-control-backend.herokuapp.com/"}),tagTypes:["Files"],endpoints:function(e){return{getAllFiles:e.query({query:function(){return"files"},providesTags:["Files"]}),getFile:e.query({query:function(e){return"files/".concat(e)},providesTags:["Files"]}),uploadFile:e.mutation({query:function(e){return{url:"files",method:"POST",body:e}},invalidatesTags:["Files"]}),deleteFile:e.mutation({query:function(e){return{url:"files/".concat(e),method:"DELETE"}},invalidatesTags:["Files"]}),downloadFile:e.mutation({query:function(e){return{url:"files/".concat(e),method:"GET"}},invalidatesTags:["Files"]})}}}),G=(Z.useGetAllFilesQuery,Z.useGetFileQuery,Z.useUploadFileMutation,Z.useDeleteFileMutation),Q=(Z.useDownloadFileMutation,["_id"]),K=localStorage.getItem("token")||null,Y=Object(k.a)({reducerPath:"productsApi",baseQuery:Object(C.d)({baseUrl:"https://task-control-backend.herokuapp.com/",prepareHeaders:function(e){var t=localStorage.getItem("token")||null;return t&&e.set("authorization","Bearer ".concat(t)),e}}),refetchOnMountOrArgChange:!!K,tagTypes:["Products"],endpoints:function(e){return{getAllProducts:e.query({query:function(){return"products"},providesTags:["Products"]}),getProduct:e.query({query:function(e){return"products/".concat(e)},providesTags:["Products"]}),addProduct:e.mutation({query:function(e){return{url:"products",method:"POST",body:e}},invalidatesTags:["Products"]}),updateProduct:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,Q);return{url:"products/".concat(t),method:"PATCH",body:a}},invalidatesTags:["Products"]}),deleteProduct:e.mutation({query:function(e){return{url:"products/".concat(e),method:"DELETE"}},invalidatesTags:["Products"]})}}}),V=Y.useGetAllProductsQuery,J=(Y.useGetProductQuery,Y.useAddProductMutation),X=Y.useDeleteProductMutation,$=Y.useUpdateProductMutation,ee=Object(g.a)({reducer:(n={},Object(y.a)(n,S.reducerPath,S.reducer),Object(y.a)(n,q.reducerPath,q.reducer),Object(y.a)(n,E.reducerPath,E.reducer),Object(y.a)(n,Z.reducerPath,Z.reducer),Object(y.a)(n,Y.reducerPath,Y.reducer),n),middleware:function(e){return e().concat(S.middleware,q.middleware,E.middleware,Z.middleware,Y.middleware)}}),te=function(e){var t=e.children;return Object(f.jsx)(l.a,{store:ee,children:Object(f.jsx)(o.a,{children:Object(f.jsx)(h,{children:t})})})},ae=a(4),ne=a(45),re=a.n(ne),ce=a(112),se=a.n(ce),ie=a(111),le=a.n(ie),oe=function(){return Object(f.jsx)("div",{className:le.a.loadingContainer,children:Object(f.jsx)(se.a,{size:40})})},de=a(41),ue=a(113),je=a.n(ue),be=["id","name","label","type","placeholder","disabled","onChange","value","defaultValue","step","minValue"],me=Object(r.forwardRef)((function(e,t){var a=e.id,n=e.name,r=e.label,c=e.type,s=e.placeholder,i=e.disabled,l=e.onChange,o=e.value,d=e.defaultValue,u=e.step,j=e.minValue,b=Object(v.a)(e,be);return Object(f.jsx)("input",Object(ae.a)({id:a,ref:t,name:n,type:c,value:o,defaultValue:d,"aria-label":r,placeholder:s,step:u,min:j,onChange:l,disabled:i,className:je.a.input},b))})),Oe=a(95),pe=a.n(Oe),fe=function(e){var t=e.message;return Object(f.jsx)("div",{className:pe.a.wrapper,children:Object(f.jsx)("span",{className:pe.a.span,children:t})})},xe=function(){var e=_(),t=e.loading,a=e.error,n=e.signIn,r=Object(de.a)(),c=r.register,s=r.handleSubmit,i=r.formState.errors;return Object(f.jsx)("div",{className:re.a.container,children:Object(f.jsxs)("div",{className:re.a.login_formContainer,children:[Object(f.jsxs)("div",{className:re.a.left,children:[t?Object(f.jsx)(oe,{}):null,Object(f.jsxs)("form",{className:re.a.form_container,onSubmit:s(n),children:[Object(f.jsx)("h1",{children:"Zaloguj si\u0119"}),Object(f.jsx)(me,Object(ae.a)({id:"email",placeholder:"email",label:"Email",type:"text"},c("email",{required:!0}))),i.email&&Object(f.jsx)(fe,{message:"Email jest wymagany"}),Object(f.jsx)(me,Object(ae.a)({id:"password",placeholder:"password",label:"Password",type:"password"},c("password",{required:!0}))),i.password&&Object(f.jsx)(fe,{message:"Has\u0142o jest wymagane"}),a&&Object(f.jsx)(fe,{message:"Email lub has\u0142o jest nieprawid\u0142owe"}),Object(f.jsx)("button",{type:"submit",className:re.a.green_btn,children:"Logowanie"})]})]}),Object(f.jsxs)("div",{className:re.a.right,children:[Object(f.jsx)("h1",{children:"Zarejestruj si\u0119"})," ",Object(f.jsx)("br",{}),Object(f.jsx)(o.b,{to:"/rejestracja",children:Object(f.jsx)("button",{type:"button",className:re.a.white_btn,children:"Rejestracja"})})]})]})})},he=a(46),_e=a.n(he),ye={required:!0,maxLength:20,minLength:2},ge={required:!0,pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},ve={required:!0,pattern:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/},ke=function(){var e,t,a,n=_(),r=n.loading,c=n.signUp,s=Object(de.a)(),i=s.register,l=s.handleSubmit,d=s.watch,u=s.formState.errors;return Object(f.jsx)("div",{className:_e.a.container,children:Object(f.jsxs)("div",{className:_e.a.signup_formContainer,children:[Object(f.jsxs)("div",{className:_e.a.left,children:[Object(f.jsx)("h1",{children:"Zaloguj si\u0119"}),Object(f.jsx)("br",{}),Object(f.jsx)(o.b,{to:"/logowanie",children:Object(f.jsx)("button",{type:"button",className:_e.a.white_btn,children:"Logowanie"})})]}),Object(f.jsxs)("div",{className:_e.a.right,children:[r?Object(f.jsx)(oe,{}):null,Object(f.jsxs)("form",{className:_e.a.form_container,onSubmit:l(c),children:[Object(f.jsx)("h1",{children:"Utw\xf3rz konto"}),Object(f.jsx)(me,Object(ae.a)({id:"name",placeholder:"Imi\u0119",label:"Imi\u0119",type:"text",error:u.name},i("name",Object(ae.a)({},ye)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Imi\u0119 jest wymagane"});case"minLength":return Object(f.jsx)(fe,{message:"Imi\u0119 musi zawiera\u0107 conajmiej 2 znaki"});case"maxLength":return Object(f.jsx)(fe,{message:"Imi\u0119 mo\u017ce zawiera\u0107 maksymalnie 20 znak\xf3w"});default:return null}}(null===(e=u.name)||void 0===e?void 0:e.type),Object(f.jsx)(me,Object(ae.a)({id:"email",placeholder:"email",label:"Email",type:"text"},i("email",Object(ae.a)({},ge)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Email jest wymagany"});case"pattern":return Object(f.jsx)(fe,{message:"Email jest niepoprawny"});default:return null}}(null===(t=u.email)||void 0===t?void 0:t.type),Object(f.jsx)(me,Object(ae.a)({id:"password",placeholder:"password",label:"Password",type:"password"},i("password",Object(ae.a)({},ve)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Has\u0142o jest wymagane"});case"pattern":return Object(f.jsx)(fe,{message:"Has\u0142o musi zawiera\u0107: co najmniej 8 znak\xf3w, 1 cyfr\u0119, 1 ma\u0142\u0105 liter\u0119 i 1 wielk\u0105 liter\u0119"});default:return null}}(null===(a=u.password)||void 0===a?void 0:a.type),Object(f.jsx)(me,Object(ae.a)({id:"confirm_password",placeholder:"confirm password",label:"Confirm Password",type:"password"},i("confirm_password",{required:!0,validate:function(e){return e===d("password")}}))),u.confirm_password&&Object(f.jsx)(fe,{message:"Wpisz poprawne has\u0142o"}),Object(f.jsx)("button",{type:"submit",className:_e.a.green_btn,children:"Rejestracja"})]})]})]})})},Ce=a(61),we=a.n(Ce),Ne=a(24),Se=a.n(Ne),ze=a(55),Le=a(74),De=a(114),Ie=a(115),Fe=a(42),qe=[{name:"Zadania",path:"/zadania",icon:Object(f.jsx)(Fe.b,{})},{name:"Magazyn",path:"/magazyn",icon:Object(f.jsx)(Le.b,{})},{name:"Kalkulator",path:"/kalkulator",icon:Object(f.jsx)(Le.a,{})},{name:"Statystyki",path:"/statystyki",icon:Object(f.jsx)(De.a,{})},{name:"Ustawienia",path:"/ustawienia",icon:Object(f.jsx)(Ie.a,{})}],Pe=function(){var e=Object(p.g)(),t=Object(r.useState)(!0),a=Object(b.a)(t,2),n=a[0],c=a[1];return Object(f.jsxs)("nav",{className:"".concat(Se.a.sidebar," ").concat(n?Se.a.sidebarHidden:Se.a.sidebar),children:[Object(f.jsx)("button",{className:"".concat(Se.a.navButton," ").concat(n?Se.a.navButton:Se.a.navButtonHidden),onClick:function(){return c((function(e){return!e}))},children:Object(f.jsx)(ze.a,{})}),Object(f.jsx)("ul",{className:Se.a.linksContainer,children:qe.map((function(t){return Object(f.jsx)("li",{className:Se.a.navItem,children:Object(f.jsx)(o.b,{to:t.path,children:Object(f.jsxs)("div",{className:"".concat(Se.a.navLink," ").concat(e.pathname===t.path?Se.a.active:Se.a.navLink),children:[Object(f.jsx)("div",{className:Se.a.icon,children:t.icon}),Object(f.jsx)("p",{children:n?null:t.name})]})})},t.name)}))}),Object(f.jsx)("div",{className:Se.a.divider})]})},Te=a(52),Be=a.n(Te),Me=a(116),Ae=a.n(Me),Ee=["title","style","onClick","bgColor"],He=function(e){var t=e.title,a=(e.style,e.onClick),n=(e.bgColor,Object(v.a)(e,Ee));return Object(f.jsx)("button",Object(ae.a)(Object(ae.a)({className:Ae.a.button,onClick:a},n),{},{children:t}))},Ue=a(83),Re=a.n(Ue),We=a(117),Ze=a.n(We),Ge=function(e){return Object(f.jsx)("button",{className:Ze.a.iconButton,onClick:e.onClick,type:"button",children:e.children})},Qe=a(17);var Ke=function(e,t){Object(r.useEffect)((function(){var a=function(a){var n=null===e||void 0===e?void 0:e.current;n&&!n.contains(a.target)&&t(a)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),function(){document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}}),[e,t])},Ye=["children","trigger","title","isEditWindow","closePopup","backToMainWindow"],Ve=function(e){var t=e.children,a=e.trigger,n=e.title,c=e.isEditWindow,s=e.closePopup,i=e.backToMainWindow,l=Object(v.a)(e,Ye),o=Object(r.useRef)(null);return Ke(o,s),a?Object(f.jsxs)("div",{className:Re.a.popup,ref:o,style:Object(ae.a)({},l),children:[Object(f.jsxs)("div",{className:Re.a.header,children:[c?Object(f.jsx)(Ge,{onClick:i,children:Object(f.jsx)(ze.b,{})}):null,Object(f.jsx)("h3",{children:n}),Object(f.jsx)(Ge,{onClick:s,children:Object(f.jsx)(Qe.e,{})})]}),Object(f.jsx)("div",{className:Re.a.popupContent,children:t})]}):null},Je=a.p+"static/media/logo.7eca49e8.svg",Xe=function(){var e=_(),t=e.user,a=e.signOut,n=Object(r.useState)(!1),c=Object(b.a)(n,2),s=c[0],i=c[1],l=t?t.name.charAt(0):"";return Object(f.jsxs)("div",{className:Be.a.container,children:[Object(f.jsx)("div",{className:Be.a.logoContainer,children:Object(f.jsx)("img",{src:Je})}),Object(f.jsxs)("div",{className:Be.a.userAction,children:[Object(f.jsx)("button",{onClick:function(){return i(!0)},className:Be.a.userActionBtn,children:Object(f.jsx)("h3",{children:l})}),Object(f.jsxs)(Ve,{title:"Konto",trigger:s,closePopup:function(){i(!1)},top:"55px",right:"5px",children:[Object(f.jsxs)("div",{className:Be.a.userInfo,children:[Object(f.jsx)("div",{className:Be.a.userSignature,children:Object(f.jsx)("h3",{children:l})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:null===t||void 0===t?void 0:t.name}),Object(f.jsx)("span",{children:null===t||void 0===t?void 0:t.email})]})]}),Object(f.jsx)(He,{title:"Wyloguj",onClick:a,type:"button"})]})]})]})},$e=function(){var e=_().user;return Object(f.jsx)(f.Fragment,{children:e?Object(f.jsxs)("div",{className:we.a.layout,children:[Object(f.jsx)("div",{className:we.a.appbar,children:Object(f.jsx)(Xe,{})}),Object(f.jsx)("div",{className:we.a.sidebar,children:Object(f.jsx)(Pe,{})}),Object(f.jsx)("div",{className:we.a.pages,children:Object(f.jsx)(p.b,{})})]}):Object(f.jsx)("div",{className:we.a.authContainer,children:Object(f.jsx)(p.b,{})})})},et=function(){return Object(f.jsx)(p.e,{children:Object(f.jsxs)(p.c,{element:Object(f.jsx)($e,{}),children:[Object(f.jsx)(p.c,{path:"/logowanie",element:Object(f.jsx)(xe,{})}),Object(f.jsx)(p.c,{path:"/rejestracja",element:Object(f.jsx)(ke,{})}),Object(f.jsx)(p.c,{path:"/",element:Object(f.jsx)(p.a,{replace:!0,to:"/logowanie"})})]})})},tt=a(11),at=a(62),nt=a.n(at),rt=a(44),ct=a(59),st=a.p+"static/media/defaultImg.2975b1de.jpg",it=a.p+"static/media/defaultColors.f397083e.jpg",lt=st,ot=it,dt=["#FB8B24","#9575cd","#F36935","#EA4746","#AE0366","#53416B","#ba68c8","#2F8278","#C5D86D","#30B68E","#A2D2FF","#FFDAB9","#3f3c3c","#f6faff"],ut=a(28),jt=a.n(ut),bt=a(43),mt=a(36),Ot=a.n(mt),pt=a(21),ft=a.n(pt),xt=a(118),ht=a.n(xt),_t=a(119),yt=a.n(_t),gt=a(120),vt=a.n(gt),kt=(a(163),a(18)),Ct=a.n(kt),wt=a(121),Nt=a.n(wt),St=a(84),zt=a.n(St),Lt=function(e){var t=e.value,a=e.id,n=e.titleBtn,r=e.onBlur,c=e.onFocus,s=e.handleChange,i=e.handleSubmit,l=e.closeForm,o="list"===a?"Dodaj list\u0119 zada\u0144":"Dodaj now\u0105 kart\u0119";return Object(f.jsxs)("form",{className:zt.a.form,children:[Object(f.jsx)(bt.a,{id:a,maxRows:20,placeholder:o,value:t,className:zt.a.textarea,autoFocus:!0,onChange:s,onBlur:r,onFocus:c,onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.code||(e.stopPropagation(),i(e))},required:!0}),Object(f.jsxs)("div",{className:zt.a.actionsForm,children:[Object(f.jsx)(He,{title:n,type:"submit",onClick:i}),Object(f.jsx)("div",{style:{marginRight:"16px"}}),Object(f.jsx)(Ge,{onClick:l,children:Object(f.jsx)(Qe.e,{})})]})]})},Dt=function(e){return"string"===typeof e&&null!==e.match(/^http[^\?]*.(jpg|jpeg|gif|png|tiff|bmp|webp)(\?(.*))?$/gim)},It=a(99),Ft=a.n(It),qt=(a(164),a(50)),Pt=a(125),Tt=a(126),Bt=a(96),Mt=a.n(Bt),At=function(e){var t=e.onClick,a=e.name,n=e.icon,r=e.style;return Object(f.jsxs)("button",{className:Mt.a.taskButton,onClick:t,style:r,children:[Object(f.jsx)("div",{className:Mt.a.icon,children:n}),a]})},Et=a(97),Ht=a.n(Et),Ut=function(e){var t=e.title,a=e.color,n=e.cardLabels,r=e.handleCheckedLabel,c=e.openLabelEditWindow,s=e.labelId,i=n.filter((function(e){return e._id===s}));return Object(f.jsxs)("div",{className:Ht.a.container,children:[Object(f.jsxs)("div",{onClick:r,style:{background:"".concat(a)},className:Ht.a.boxColor,children:[Object(f.jsx)("p",{children:t}),i.length?Object(f.jsx)(qt.a,{style:{color:"white"}}):null]}),Object(f.jsx)(Ge,{onClick:c,children:Object(f.jsx)(Qe.b,{})})]})},Rt=a(98),Wt=a.n(Rt),Zt=function(e){var t=e.children,a=e.title,n=e.data,r=Array.isArray(n)?!!n.length:null!==n&&void 0!==n;return Object(f.jsx)(f.Fragment,{children:r?Object(f.jsxs)("div",{className:Wt.a.container,children:[Object(f.jsx)("h4",{children:a}),Object(f.jsx)("div",{className:Wt.a.items,children:t})]}):null})},Gt=a(47),Qt=a.n(Gt),Kt=a(122),Yt=function(e){var t=e.handleChangeTitle,a=e.handleChangeLabelTitle,n=e.handleDeleteLabel,r=e.value,c=e.formId,s=e.onFocus,i=e.setSelectColor,l=e.selectColor;return Object(f.jsxs)("form",{className:Qt.a.form,children:[Object(f.jsx)("p",{style:{marginBottom:"5px"},children:"Nazwa"}),Object(f.jsx)(bt.a,{id:c,maxRows:20,placeholder:"Dodaj nazw\u0119 etykiety...",value:r,className:Qt.a.textarea,autoFocus:!0,onChange:t,onFocus:s}),Object(f.jsx)("p",{style:{marginBottom:"5px"},children:"Wybierz kolor"}),Object(f.jsxs)("div",{className:Qt.a.picker,children:[Object(f.jsx)(Kt.a,{className:Qt.a.reactColorful,color:l,onChange:i}),Object(f.jsx)("div",{className:Qt.a.pickerSwatches,children:dt.slice(0,14).map((function(e){return Object(f.jsx)("div",{className:Qt.a.pickerSwatch,style:{background:e},onClick:function(){return i(e)}},e)}))})]}),Object(f.jsxs)("div",{className:Qt.a.actionsForm,children:[Object(f.jsx)(He,{onClick:a,title:"Zapisz",type:"submit"}),Object(f.jsx)("div",{style:{marginRight:"1rem"}}),Object(f.jsx)(He,{onClick:n,title:"Usu\u0144",bgColor:"#EA4746",type:"button"})]})]})},Vt=a(70),Jt=a.n(Vt),Xt=function(e){var t=e.name,a=e.listNames,n=e.type,r=e.handleInputState,c=e.handleSubmitFiles;return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{className:Jt.a.formFile,children:[Object(f.jsxs)("label",{id:"formId",className:Jt.a.labelFile,children:[Object(f.jsx)("input",{id:"formId",type:n,name:t,onChange:r,multiple:!0,hidden:!0}),"Dodaj za\u0142\u0105czniki"]}),Object(f.jsx)("div",{className:Jt.a.spanContainer,children:a.map((function(e,t){return Object(f.jsx)("span",{className:Jt.a.nameFileSpan,children:e},t)}))}),a.length?Object(f.jsx)(He,{onClick:c,title:"Za\u0142\u0105cz",type:"submit"}):null]})})},$t=a(63),ea=a.n($t),ta=function(e){var t=e.created,a=e.title,n=e.src,r=e.type,c=e.index,s=e.active,i=e.handleDeleteFile,l=e.handleDownloadFile,o=e.handleSelectCover,d=r.split("/").pop();return Object(f.jsxs)("div",{className:ea.a.container,children:[Object(f.jsx)("div",{className:ea.a.fileImg,children:Dt(n)?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{src:n,className:"card-img-top img-responsive",alt:"img"}),Object(f.jsx)("div",{className:ea.a.selectCover,title:"ustaw ok\u0142adk\u0119",children:Object(f.jsx)("input",{type:"checkbox",checked:s===c,onChange:o,style:{height:"100%",width:"1rem",marginRight:"8px"}})})]}):Object(f.jsx)("p",{children:d})}),Object(f.jsxs)("div",{className:ea.a.fileDetails,children:[Object(f.jsx)("h4",{children:a}),Object(f.jsx)("span",{children:t}),Object(f.jsxs)("div",{className:ea.a.fileButtons,children:[Object(f.jsx)(At,{style:{height:"25px",margin:"0 8px 0 0"},onClick:i,name:"Skasuj"}),Object(f.jsx)(At,{style:{height:"25px",margin:"0"},onClick:l,name:"Pobierz"})]})]})]})},aa=a(85),na=a.n(aa),ra=function(e){var t=e.children,a=e.trigger,n=e.closeModal,c=Object(r.useRef)(null);return Ke(c,n),a?Object(f.jsx)("div",{className:na.a.overlay,children:Object(f.jsxs)("div",{className:na.a.modal,ref:c,children:[Object(f.jsx)("div",{className:na.a.header,children:Object(f.jsx)(Ge,{onClick:n,children:Object(f.jsx)(Qe.e,{})})}),t]})}):null},ca=a(128),sa=a(127),ia=function(e){var t=e._id,a=e.boardId,n=e.title,c=e.description,s=e.completed,i=e.labels,l=e.deadline,o=e.cover,d=e.files,m=e.nameList,p=e.dateIsSameOrBefore,x=e.deadlineIsSoon,h=e.cardDateDisplay,_=e.cardFileIndex,y=e.setCardCompleted,g=e.setIsCardWindowOpen,v=e.setCardCover,k=e.setCardFileIndex;ft.a.locale("pl"),Object(It.registerLocale)("pl",sa.a);var C=L(a).data,w=H().data,N=W(),S=Object(b.a)(N,1)[0],z=R(),I=Object(b.a)(z,1)[0],F=D(),q=Object(b.a)(F,1)[0],P=G(),T=Object(b.a)(P,1)[0],B=Object(r.useState)(n),M=Object(b.a)(B,2),A=M[0],E=M[1],U=Object(r.useState)(c),Z=Object(b.a)(U,2),Q=Z[0],K=Z[1],Y=Object(r.useState)(i),V=Object(b.a)(Y,2),J=V[0],X=V[1],$=Object(r.useState)(l),ee=Object(b.a)($,2),te=ee[0],ne=ee[1],re=Object(r.useState)([]),ce=Object(b.a)(re,2),se=ce[0],ie=ce[1],le=Object(r.useState)(""),oe=Object(b.a)(le,2),de=oe[0],ue=oe[1],je=Object(r.useState)(!1),be=Object(b.a)(je,2),me=be[0],Oe=be[1],pe=Object(r.useState)(!1),fe=Object(b.a)(pe,2),xe=fe[0],he=fe[1],_e=Object(r.useState)(!1),ye=Object(b.a)(_e,2),ge=ye[0],ve=ye[1],ke=Object(r.useState)(""),Ce=Object(b.a)(ke,2),we=Ce[0],Ne=Ce[1],Se=Object(r.useState)(""),Le=Object(b.a)(Se,2),De=Le[0],Ie=Le[1],qe=Object(r.useState)(""),Pe=Object(b.a)(qe,2),Te=Pe[0],Be=Pe[1],Me=Object(r.useState)(!1),Ae=Object(b.a)(Me,2),Ee=Ae[0],Ue=Ae[1],Re=Object(r.useState)(!1),We=Object(b.a)(Re,2),Ze=We[0],Ge=We[1],Ye=Object(r.useState)(!1),Je=Object(b.a)(Ye,2),Xe=Je[0],$e=Je[1],et=Object(r.useState)(!1),at=Object(b.a)(et,2),nt=at[0],rt=at[1],ct=Object(r.useState)(!1),st=Object(b.a)(ct,2),it=st[0],lt=st[1],ot=Object(r.useState)([]),dt=Object(b.a)(ot,2),ut=dt[0],jt=dt[1],mt=Object(r.useState)([]),Ot=Object(b.a)(mt,2),pt=Ot[0],xt=Ot[1],ht=Object(r.useState)(0),_t=Object(b.a)(ht,2),yt=_t[0],gt=_t[1],vt=Object(r.useState)(null),kt=Object(b.a)(vt,2),wt=kt[0],St=kt[1],zt=Object(r.useRef)(null);Object(r.useEffect)((function(){C&&ie(C.labels)}),[C]);var Bt=Object(r.useCallback)((function(e){var t=e.target.files;if(null!==t){(null===t||void 0===t?void 0:t.length)&&jt(Array.from(t));for(var a=[],n=0;n<t.length;n++)a.push(t[n].name),xt(a)}St(!0),gt(0)}),[]),Mt=function(){var e=Object(j.a)(u.a.mark((function e(n){var r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),ut.length){e.next=3;break}return e.abrupt("return");case 3:if(wt){e.next=5;break}return e.abrupt("return");case 5:for((r=new FormData).append("cardId",t),c=0;c<ut.length;c++)r.append("files",ut[c]);return s={headers:{"content-type":"multipart/form-data"},onUploadProgress:function(e){var t=e.loaded,a=e.total,n=Math.floor(100*t/a);gt(n)}},e.next=11,O.a.post("".concat("https://task-control-backend.herokuapp.com/","files"),r,s).then((function(e){S({_id:t}),q({_id:a}),St(!0),setTimeout((function(){gt(0),xt([]),$e(!1)}),500)})).catch((function(e){console.log(e),St(!1)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Et=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(t),{responseType:"blob"}).then((function(e){var a,n=t.replace(/^.*[\\\/]/,"");a=(a=t.split("."))[a.length-1],Nt()(e.data,"".concat(n,".").concat(a))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Ke(zt,g),Object(f.jsx)(ra,{trigger:!0,closeModal:g,children:Object(f.jsxs)("div",{className:Ct.a.container,children:[o&&Dt(o)?Object(f.jsx)("div",{className:Ct.a.cardCover,children:Object(f.jsx)("img",{onClick:function(){var e=window.open("".concat(o),"_blank","noopener,noreferrer");e&&(e.opener=null)},src:o,alt:o})}):null,Object(f.jsx)("div",{className:Ct.a.cardModalHeader,children:Object(f.jsxs)("div",{className:Ct.a.cardModalHeaderTextarea,children:[Object(f.jsx)(bt.a,{id:"card-title",autoFocus:!1,value:A,className:Ct.a.cardModalTextareaTitle,onChange:function(e){"card-title"===e.target.id&&E(e.target.value),S({_id:t,title:e.target.value}),q({_id:a})},onFocus:function(e){return e.target.select()},rows:20,maxRows:4,required:!0}),Object(f.jsxs)("p",{children:["Na liscie: ",Object(f.jsx)("strong",{children:m})]})]})}),Object(f.jsxs)("div",{className:Ct.a.groupWrapper,children:[Object(f.jsxs)("div",{className:Ct.a.content,children:[Object(f.jsx)(Zt,{data:J,title:"Etykiety",children:J.map((function(e){return Object(f.jsx)("div",{style:{backgroundColor:"".concat(e.color)},className:Ct.a.cardModalLabel,onClick:function(){return Ue(!0)},children:Object(f.jsx)("span",{children:e.title})},e._id)}))}),Object(f.jsx)(Zt,{data:l,title:"Termin",children:Object(f.jsx)(f.Fragment,{children:l?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("input",{type:"checkbox",checked:s,onChange:function(){y(!s),S({_id:t,completed:!s}),q({_id:a})}}),Object(f.jsxs)("button",{onClick:function(){return Ge(!0)},className:Ct.a.cardModalSelectedDateBtn,children:[Object(f.jsx)("span",{children:ft()(l).format("DD-MM-YYYY HH:mm")}),p&&!s?Object(f.jsx)("span",{title:h.title,style:{backgroundColor:h.style.backgroundColor},className:Ct.a.dateNotificationSpan,children:h.name}):null,x&&!s?Object(f.jsx)("span",{title:h.title,style:{backgroundColor:h.style.backgroundColor},className:Ct.a.dateNotificationSpan,children:h.name}):null,s?Object(f.jsx)("span",{title:h.title,style:{backgroundColor:h.style.backgroundColor},className:Ct.a.dateNotificationSpan,children:h.name}):null]})]}):null})}),Object(f.jsxs)("div",{className:Ct.a.descriptionContainer,children:[Object(f.jsxs)("div",{className:Ct.a.descriptionHeader,children:[Object(f.jsx)("h4",{children:"Opis"}),Object(f.jsx)("div",{style:{maxWidth:"100px",marginLeft:"1rem"},children:me||void 0===Q||""===Q?null:Object(f.jsx)(At,{onClick:function(){return Oe(!0)},name:"Edytuj",icon:Object(f.jsx)(Qe.b,{})})})]}),me?Object(f.jsx)(Lt,{id:"card-description",handleChange:function(e){"card-description"===e.target.id&&K(e.target.value)},handleSubmit:function(e){e.preventDefault(),S({_id:t,description:Q}),q({_id:a}),Oe(!1)},closeForm:function(){Oe(!1),K(c)},value:Q,onFocus:function(e){return e.target.select()},titleBtn:"Zapisz"}):Object(f.jsx)("div",{children:""!==Q&&void 0!==Q?Object(f.jsx)("p",{onClick:function(){return Oe(!0)},children:Q}):Object(f.jsx)(At,{onClick:function(){return Oe(!0)},name:"Dodaj opis...",icon:Object(f.jsx)(Pt.a,{})})})]}),Object(f.jsx)(Zt,{data:d,title:"Za\u0142\u0105cznik",children:null===d||void 0===d?void 0:d.map((function(e,n){return Object(f.jsx)(ta,{title:e.fileName,created:"Dodano ".concat(ft()(e.createdAt).format("DD MMM")," o ").concat(ft()(e.createdAt).format("HH:mm")),active:_,index:n,src:"".concat(e.fileUrl),type:e.fileType,handleDeleteFile:function(){return n=e._id,T(n),S({_id:t,files:d}),q({_id:a}),void(d.length?v(d[0].fileUrl):v(""));var n},handleDownloadFile:function(){return Et(e.fileUrl)},handleSelectCover:function(){return function(e){k(e),v(d[e].fileUrl),S({_id:t,cover:d[e].fileUrl}),q({_id:a})}(n)}},e._id)}))})]}),Object(f.jsxs)("div",{className:Ct.a.cardModalSidebar,children:[Object(f.jsx)(Ve,{title:xe?"Edytuj etykiet\u0119":ge?"Dodaj Etykiet\u0119":"Etykiety",trigger:Ee,closePopup:function(){Ue(!1),he(!1),ve(!1)},isEditWindow:xe||ge,backToMainWindow:function(){he(!1),ve(!1)},children:Object(f.jsx)("div",{className:Ct.a.cardModalLabels,children:xe||ge?Object(f.jsx)(Yt,{formId:xe?"label-title-edit":ge?"label-title-add":"",handleChangeTitle:function(e){"label-title-edit"===e.target.id&&Ne(e.target.value),"label-title-add"===e.target.id&&ue(e.target.value)},handleChangeLabelTitle:xe?function(e){e.preventDefault();var t=Object(tt.a)(se);if(se){var n=t.map((function(e){return e._id!==De?e:Object(ae.a)(Object(ae.a)({},e),{},{title:we,color:Te})}));null===w||void 0===w||w.map((function(e){var t=e.labels.map((function(e){return e._id!==De?e:Object(ae.a)(Object(ae.a)({},e),{},{title:we,color:Te})}));S({_id:e._id,labels:t}),X(t)})),ie(n),q({_id:a,labels:n}),he(!1)}}:ge?function(e){e.preventDefault();var t=[].concat(Object(tt.a)(se),[{color:Te,title:de,active:!1}]);q({_id:a,labels:t}),ve(!1)}:function(){return console.log("label does not exist")},handleDeleteLabel:function(){var e=Object(tt.a)(se).filter((function(e){return e._id!==De}));null===w||void 0===w||w.map((function(e){var t=e.labels.filter((function(e){return e._id!==De}));X(t),S({_id:e._id,labels:t})})),ie(e),q({_id:a,labels:e}),he(!1)},value:xe?we:ge?de:"",onFocus:function(e){return e.target.select()},selectColor:Te,setSelectColor:Be}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:Ct.a.cardModalLabelsList,children:se.map((function(e){return Object(f.jsx)(Ut,{labelId:e._id,title:e.title,color:e.color,cardLabels:i,openLabelEditWindow:function(){he(!0),function(e){var t=Object(tt.a)(se).filter((function(t){return t._id===e})),a=t.map((function(e){return e.title})).toString(),n=t.map((function(e){return e.color})).toString();Ne(a),Be(n),Ie(e)}(e._id)},handleCheckedLabel:function(){return function(e){var n=Object(tt.a)(J),r=Object(ae.a)(Object(ae.a)({},e),{},{active:!e.active}),c=n.find((function(e){return e._id===r._id}));if(c){var s=Object(tt.a)(J).filter((function(e){return e._id!==c._id}));X(s),S({_id:t,labels:s})}else{var i=[].concat(Object(tt.a)(J),[r]);X(i),S({_id:t,labels:i})}q({_id:a})}(e)}},e._id)}))}),Object(f.jsx)(At,{onClick:function(){return ve(!0)},name:"Utw\xf3rz now\u0105 etykiet\u0119"})]})})}),Object(f.jsxs)(Ve,{title:"Data",trigger:Ze,closePopup:function(){return Ge(!1)},backToMainWindow:function(){return Ge(!1)},children:[Object(f.jsx)(Ft.a,{dateFormat:"DD/MM/YYYY",timeFormat:"hh:mm",locale:"pl",selected:l?new Date(l):null,onChange:function(e){return ne(e)},inline:!0,showTimeInput:!0,timeInputLabel:"Godzina:"}),Object(f.jsxs)("label",{children:["Termin ",Object(f.jsx)("br",{}),Object(f.jsx)("input",{style:{maxWidth:"100px",marginRight:"10px"},placeholder:ft()(l).format("DD/MM/YYYY")}),Object(f.jsx)("input",{style:{maxWidth:"100px"},placeholder:ft()(l).format("HH:mm")})]}),Object(f.jsxs)("div",{className:Ct.a.actionsForm,children:[Object(f.jsx)(He,{onClick:function(e){e.preventDefault(),S({_id:t,deadline:te}),q({_id:a}),Ge(!1)},title:"Zapisz",type:"button"}),Object(f.jsx)("div",{style:{marginRight:"1rem"}}),Object(f.jsx)(He,{onClick:function(e){e.preventDefault(),ne(null),S({_id:t,deadline:null}),q({_id:a}),Ge(!1)},title:"Usu\u0144",bgColor:"#EA4746",type:"button"})]})]}),Object(f.jsxs)(Ve,{title:"Za\u0142\u0105cznik",trigger:Xe,closePopup:function(){return $e(!1)},backToMainWindow:function(){return $e(!1)},children:[Object(f.jsx)(Xt,{name:"za\u0142\u0105cznik",size:0,label:"za\u0142\u0105cznik",type:"file",listNames:pt,handleInputState:Bt,handleSubmitFiles:Mt}),yt>0?Object(f.jsxs)(f.Fragment,{children:[null!==wt&&!0===wt?Object(f.jsxs)("div",{children:[Object(f.jsx)(ca.a,{percent:yt,strokeWidth:4,strokeColor:"#D3D3D3"}),Object(f.jsxs)("p",{children:[yt,"%"]})]}):null,!1===wt?Object(f.jsxs)("p",{style:{color:"red"},children:["B\u0142\u0105d przesy\u0142ania",Object(f.jsx)("small",{children:" (max 10mb, lub nieprawid\u0142owy format pliku)"})]}):null]}):null]}),Object(f.jsx)(Ve,{title:"Dodaj wycen\u0119",trigger:nt,closePopup:function(){return rt(!1)},children:Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:"In progress ..."})})}),Object(f.jsx)(Ve,{title:"Magazyn",trigger:it,closePopup:function(){return lt(!1)},children:Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:"In progress ..."})})}),Object(f.jsx)(At,{onClick:function(){return Ue(!0)},name:"Etykiety",icon:Object(f.jsx)(ze.c,{})}),Object(f.jsx)(At,{onClick:function(){return Ge(!0)},name:"Data",icon:Object(f.jsx)(Qe.c,{})}),Object(f.jsx)(At,{onClick:function(){return $e(!0)},name:"Za\u0142\u0105cznik",icon:Object(f.jsx)(Fe.a,{})}),Object(f.jsx)(At,{onClick:function(){return rt(!0)},name:"Dodaj wycen\u0119",icon:Object(f.jsx)(qt.c,{})}),Object(f.jsx)(At,{onClick:function(){return lt(!0)},name:"Magazyn",icon:Object(f.jsx)(qt.c,{})}),Object(f.jsx)("div",{className:Ct.a.divider}),Object(f.jsx)(At,{onClick:function(){I(t),q({_id:a})},name:"Usu\u0144",icon:Object(f.jsx)(Tt.a,{})})]})]})]})})},la=a(79),oa="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;var da=function(e,t,a){var n=Object(r.useRef)(t);oa((function(){n.current=t}),[t]),Object(r.useEffect)((function(){var t=(null===a||void 0===a?void 0:a.current)||window;if(t&&t.addEventListener){var r=function(e){return n.current(e)};return t.addEventListener(e,r),function(){t.removeEventListener(e,r)}}}),[e,a])};var ua=function(e){var t=Object(r.useState)(!1),a=Object(b.a)(t,2),n=a[0],c=a[1];return da("mouseenter",(function(){return c(!0)}),e),da("mouseleave",(function(){return c(!1)}),e),n},ja=a(86),ba=a.n(ja),ma=function(e){var t=e.onClick,a=e.children;return Object(f.jsx)("div",{className:ba.a.box,children:Object(f.jsxs)("div",{className:ba.a.container,children:[Object(f.jsx)("div",{className:ba.a.clickableArea,onClick:t}),a]})})},Oa=function(e){var t=e._id,a=e.boardId,n=e.title,c=e.index,s=e.nameList,i=e.description,l=e.completed,o=e.labels,d=e.deadline,u=e.cover,j=e.files,m=e.createdAt,O=e.setIsDragDisabled,p=W(),x=Object(b.a)(p,1)[0],h=D(),_=Object(b.a)(h,1)[0],y=Object(r.useState)(!1),g=Object(b.a)(y,2),v=g[0],k=g[1],C=Object(r.useState)(l),w=Object(b.a)(C,2),N=w[0],S=w[1],z=Object(r.useState)(Date.now()),L=Object(b.a)(z,2),I=L[0],F=L[1],q=Object(r.useState)(u),P=Object(b.a)(q,2),T=P[0],B=P[1],M=Object(r.useState)(0),A=Object(b.a)(M,2),E=A[0],H=A[1],U=Object(r.useState)(j),R=Object(b.a)(U,2),Z=R[0],G=R[1];ft.a.locale("pl"),ft.a.extend(ht.a),ft.a.extend(vt.a),ft.a.extend(yt.a);var Q=Object(r.useRef)(null),K=ua(Q);Object(r.useEffect)((function(){var e=setInterval((function(){return F(Date.now())}),1e5);return function(){return clearInterval(e)}}),[]),Object(r.useEffect)((function(){j&&G(j)}),[j]),Object(r.useEffect)((function(){Y()}),[Z]),Object(r.useEffect)((function(){x({_id:t,cover:T}),_({_id:a})}),[T]);var Y=function(){if(Z){var e=Object(tt.a)(Z),t=e.filter((function(e){return Dt(e.fileUrl)})),a=t.find((function(e){return e.fileUrl===u})),n=t.indexOf(a),r=e.findIndex((function(e){return Dt(e.fileUrl)}));t.length?n<0?(B(t[0].fileUrl),H(r)):(B(t[n].fileUrl),H(n)):B("")}},V=function(){k(!0),O(!0)},J=function(){S(!N),x({_id:t,completed:!N}),_({_id:a})},X=ft()(d).isSameOrBefore(I,"minute"),$=ft()(d).diff(ft()(I),"minute",!0),ee=$<300&&$>0,te={style:{color:N||X||ee?"white":"black",backgroundColor:N?"green":X?"red":ee?"orange":"transparent"},title:N?"Ta karta zosta\u0142a uko\u0144czona":X?"Ta karta jest przeterminowana":ee?"Deadline ".concat(ft()(d).fromNow()):"Karta jest na p\xf3\u017aniej",name:N?"zrealizowany":X?"termin przekroczony":ee?"wkr\xf3tce":"",iconStyle:{marginRight:"5px",fontSize:"14px"}};return Object(f.jsxs)("div",{children:[v?Object(f.jsx)(ia,{_id:t,nameList:s,title:n,description:i,boardId:a,deadline:d,labels:o,files:Z,cover:T,completed:N,cardFileIndex:E,dateIsSameOrBefore:X,deadlineIsSoon:ee,cardDateDisplay:te,createdAt:m,setCardCompleted:S,setIsCardWindowOpen:function(){k(!1),O(!1)},setCardFileIndex:H,setCardCover:B}):null,Object(f.jsx)("div",{className:Ot.a.container,children:Object(f.jsx)(rt.b,{draggableId:t,index:c,children:function(e){return Object(f.jsx)("div",Object(ae.a)(Object(ae.a)(Object(ae.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(f.jsxs)(ma,{onClick:V,children:[Z.length?Object(f.jsx)("div",{className:Ot.a.cardCover,style:{backgroundColor:T,backgroundImage:"url(".concat(T,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}):null,Object(f.jsxs)("div",{className:Ot.a.cardDetails,children:[o.length?Object(f.jsx)("div",{className:Ot.a.cardLabels,onClick:V,children:o.map((function(e){return Object(f.jsx)("div",{title:"".concat(e.title),className:Ot.a.cardLabel,style:{backgroundColor:"".concat(e.color)}},e._id)}))}):null,Object(f.jsx)("p",{children:n}),Object(f.jsxs)("div",{className:Ot.a.iconsContainer,children:[Object(f.jsx)("div",{ref:Q,children:d?Object(f.jsxs)("button",{className:Ot.a.dateBtn,onClick:J,style:te.style,title:te.title,children:[K?N?Object(f.jsx)(la.a,{style:te.iconStyle}):Object(f.jsx)(la.b,{style:te.iconStyle}):Object(f.jsx)(Qe.c,{style:te.iconStyle}),ft()(d).format("DD MMM")]}):null}),i?Object(f.jsx)("div",{className:Ot.a.icons,title:"Ta karta ma opis.",children:Object(f.jsx)(Fe.c,{onClick:V})}):null,Z.length?Object(f.jsxs)("div",{className:Ot.a.icons,title:"Za\u0142\u0105czniki",children:[Object(f.jsx)(Fe.a,{}),Object(f.jsx)("span",{children:Z.length})]}):null]})]})]})}))}})})]})},pa=function(e){var t=e._id,a=e.boardId,n=e.title,c=e.cards,s=e.index,i=U(),l=Object(b.a)(i,1)[0],o=D(),d=Object(b.a)(o,1)[0],u=T(),j=Object(b.a)(u,1)[0],m=B(),O=Object(b.a)(m,1)[0],p=M(),x=Object(b.a)(p,1)[0],h=Object(r.useState)(n),_=Object(b.a)(h,2),y=_[0],g=_[1],v=Object(r.useState)(""),k=Object(b.a)(v,2),C=k[0],w=k[1],N=Object(r.useState)(!1),S=Object(b.a)(N,2),z=S[0],L=S[1],I=Object(r.useState)(!1),F=Object(b.a)(I,2),q=F[0],P=F[1],A=Object(r.useState)(!1),E=Object(b.a)(A,2),H=E[0],R=E[1],W=Object(r.useState)(!1),Z=Object(b.a)(W,2),G=Z[0],Q=Z[1],K=Object(r.useRef)(null),Y=function(e){"list"===e.target.id&&g(e.target.value),j({_id:t,title:e.target.value})},V=function(e){"card"===e.target.id&&w(e.target.value)},J=function(e){"Enter"!==e.key&&"NumpadEnter"!==e.code||(e.stopPropagation(),P(!1))},X=function(e){e.preventDefault(),e.stopPropagation(),0!==C.length&&(l({listId:t,title:C}),d({_id:a}),L(!1),w(""))},$=function(){x({_id:t}),d({_id:a}),Q(!1)},ee=function(){O(t),d({_id:a})},te=function(e){var n=Object(tt.a)(c);"sort-from-oldest"===e&&n.sort((function(e,t){return+new Date(e.createdAt)-+new Date(t.createdAt)})),"sort-from-newest"===e&&n.sort((function(e,t){return+new Date(t.createdAt)-+new Date(e.createdAt)})),j({_id:t,cards:n}),d({_id:a}),Q(!1),R(!1)};return Ke(K,(function(){L(!1),w("")})),Object(f.jsx)("div",{className:jt.a.listWrapper,children:Object(f.jsx)(rt.b,{draggableId:String(t),index:s,isDragDisabled:H,children:function(e){return Object(f.jsxs)("div",Object(ae.a)(Object(ae.a)(Object(ae.a)({className:jt.a.list},e.draggableProps),{},{ref:e.innerRef},e.dragHandleProps),{},{children:[Object(f.jsxs)("div",{className:jt.a.listHeader,children:[Object(f.jsx)("div",{onClick:function(){return P(!0)},ref:K,children:q?Object(f.jsx)("div",{className:jt.a.textareaWrapper,children:Object(f.jsx)(bt.a,{id:"list",autoFocus:!0,value:y,className:jt.a.textarea,onChange:Y,onFocus:function(e){return e.target.select()},onBlur:function(){return P(!1)},onKeyDown:J,required:!0})}):Object(f.jsx)("div",{className:jt.a.textareaWrapper,children:Object(f.jsx)("h2",{children:y})})}),Object(f.jsx)(Ge,{onClick:function(){Q(!0),R(!0)},children:Object(f.jsx)(Qe.d,{style:{fontSize:"1.3em"}})}),Object(f.jsx)(Ve,{title:"Akcje listy",trigger:G,closePopup:function(){Q(!1),R(!1)},top:"30px",right:"-30px",children:Object(f.jsxs)("div",{className:jt.a.popupContent,children:[Object(f.jsx)(At,{onClick:function(){return te("sort-from-newest")},name:"Sortuj karty od najnowszych"}),Object(f.jsx)(At,{onClick:function(){return te("sort-from-oldest")},name:"Sortuj karty od najstarszych"}),Object(f.jsx)("div",{className:jt.a.divider}),Object(f.jsx)(At,{onClick:$,name:"Usu\u0144 wszystkie karty"}),Object(f.jsx)(At,{onClick:ee,name:"Usu\u0144 list\u0119"})]})})]}),Object(f.jsx)(rt.c,{droppableId:String(t),type:"card",children:function(e){return Object(f.jsx)("div",Object(ae.a)(Object(ae.a)({},e.droppableProps),{},{ref:e.innerRef,className:jt.a.cards,children:Object(f.jsxs)("div",{className:jt.a.cardsContainer,children:[null===c||void 0===c?void 0:c.map((function(e,t){return Object(f.jsx)(Oa,{_id:e._id,index:t,boardId:a,title:e.title,deadline:e.deadline,completed:e.completed,description:e.description,labels:e.labels,files:e.files,cover:e.cover,nameList:y,createdAt:e.createdAt,setIsDragDisabled:R},e._id)})),e.placeholder]})}))}}),Object(f.jsx)("div",{className:jt.a.addCardForm,children:z?Object(f.jsx)("div",{ref:K,children:Object(f.jsx)(Lt,{id:"card",handleChange:V,handleSubmit:X,closeForm:function(){L(!1),w("")},value:C,titleBtn:"Dodaj Kart\u0119"})}):Object(f.jsx)(At,{onClick:function(){return L(!0)},name:"Dodaj kart\u0119",icon:Object(f.jsx)(ct.a,{})})})]}))}})})},fa=a(39),xa=a.n(fa),ha=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.floor(20*Math.random()+1),14,a="https://api.unsplash.com/search/photos?page=".concat(t,"&per_page=").concat(14,"&query=Landscape&client_id=").concat("TqG5JhrasvAl1tEr7Gn82XanmpWr7OhuPhqQydr_ieA"),e.next=5,O.a.get(a);case 5:return n=e.sent,r=n.data.results.map((function(e){return{id:e.id,thumb:e.urls.thumb,full:e.urls.full,user:{username:e.user.username,link:e.user.links.html}}})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_a=ha,ya=function(e){var t=e.handleCloseMenu,a=e.setBackgroundUrl,n=e.boardId,c=D(),s=Object(b.a)(c,1)[0],i=Object(r.useState)(!1),l=Object(b.a)(i,2),o=l[0],d=l[1],m=Object(r.useState)(!1),O=Object(b.a)(m,2),p=O[0],x=O[1],h=Object(r.useState)([]),_=Object(b.a)(h,2),y=_[0],g=_[1],v=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_a();case 2:t=e.sent,g(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){v()}),[]),Object(f.jsxs)("div",{className:xa.a.sideMenu,children:[Object(f.jsxs)("div",{className:xa.a.menuHeader,children:[Object(f.jsx)("h3",{children:"Zmie\u0144 t\u0142o"}),Object(f.jsx)(Ge,{onClick:t,children:Object(f.jsx)(Qe.e,{})})]}),Object(f.jsxs)("div",{className:xa.a.menuOptions,children:[Object(f.jsx)("div",{className:xa.a.itemBox,onClick:function(){x(!0),d(!1)},style:{backgroundImage:"url(".concat(lt,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:Object(f.jsx)("p",{children:"Zdj\u0119cia"})}),Object(f.jsx)("div",{className:xa.a.itemBox,onClick:function(){x(!1),d(!0)},style:{backgroundImage:"url(".concat(ot,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:Object(f.jsx)("p",{children:"Kolory"})})]}),Object(f.jsxs)("div",{className:xa.a.optionsContainer,children:[p?y.map((function(e){return Object(f.jsx)("div",{className:xa.a.itemBox,style:{backgroundImage:"url(".concat(e.thumb,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},onClick:function(){a(e.full),s({_id:n,background:e.full})}},e.id)})):null,o?dt.map((function(e,t){return Object(f.jsx)("div",{className:xa.a.itemBox,style:{backgroundColor:"".concat(e)},onClick:function(){a(e),s({_id:n,background:e})}},t)})):null]})]})},ga=function(e){var t=e._id,a=e.lists,n=e.background,c=P(),s=Object(b.a)(c,1)[0],i=T(),l=Object(b.a)(i,1)[0],o=W(),d=Object(b.a)(o,1)[0],u=D(),j=Object(b.a)(u,1)[0],m=Object(r.useState)(""),O=Object(b.a)(m,2),p=O[0],x=O[1],h=Object(r.useState)(""),_=Object(b.a)(h,2),y=_[0],g=_[1],v=Object(r.useState)(!1),k=Object(b.a)(v,2),C=k[0],w=k[1],N=Object(r.useState)(!1),S=Object(b.a)(N,2),z=S[0],L=S[1],I=Object(r.useState)([]),F=Object(b.a)(I,2),q=F[0],B=F[1],M=Object(r.useRef)(null);Ke(M,(function(){w(!1),g("")})),Object(r.useEffect)((function(){a&&(B(a),x("#f6faff"))}),[a,n]);var A={backgroundColor:p,backgroundImage:"url(".concat(p,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"};return Object(f.jsx)("div",{className:nt.a.board,style:A,children:Object(f.jsxs)("div",{className:nt.a.container,children:[z?Object(f.jsx)(ya,{boardId:t,setBackgroundUrl:x,handleCloseMenu:function(){return L(!1)}}):null,Object(f.jsxs)(rt.a,{onDragEnd:function(e){var a=e.destination,n=e.source,r=e.type,c=e.draggableId,s=Object(tt.a)(q);if(a&&(a.droppableId!==n.droppableId||a.index!==n.index)){if("list"===r){var i=s.splice(n.index,1),o=Object(b.a)(i,1)[0];s.splice(a.index,0,o),B(s),j({_id:t,lists:s})}if("card"===r){var u=s.find((function(e){return e._id===n.droppableId})),m=s.find((function(e){return e._id===a.droppableId}));if(n.droppableId===a.droppableId&&u){var O=Object(tt.a)(u.cards),p=O.splice(n.index,1),f=Object(b.a)(p,1)[0];O.splice(a.index,0,f);var x=Object(ae.a)(Object(ae.a)({},u),{},{cards:O}),h=s.map((function(e){return[x].find((function(t){return t._id===e._id}))||e}));B(h),l({_id:n.droppableId,cards:O})}if(n.droppableId!==a.droppableId&&u&&m){var _=Object(tt.a)(u.cards),y=Object(tt.a)(m.cards),g=_.splice(n.index,1),v=Object(b.a)(g,1)[0],k=Object(ae.a)(Object(ae.a)({},u),{},{cards:_});y.splice(a.index,0,v);var C=[k,Object(ae.a)(Object(ae.a)({},m),{},{cards:y})],w=s.map((function(e){return C.find((function(t){return t._id===e._id}))||e}));B(w),d({_id:c,listId:a.droppableId}),l({_id:n.droppableId,cards:_}),l({_id:a.droppableId,cards:y})}}}},children:[Object(f.jsx)(rt.c,{droppableId:"all-list",direction:"horizontal",type:"list",children:function(e){return Object(f.jsxs)("div",Object(ae.a)(Object(ae.a)({className:nt.a.listContainer},e.droppableProps),{},{ref:e.innerRef,children:[null===q||void 0===q?void 0:q.map((function(e,t){return Object(f.jsx)(pa,{_id:e._id,index:t,boardId:e.boardId,title:e.title,cards:e.cards},e._id)})),e.placeholder]}))}}),Object(f.jsx)("div",{className:nt.a.formContainer,children:C?Object(f.jsx)("div",{className:nt.a.addListForm,ref:M,children:Object(f.jsx)(Lt,{id:"list",handleChange:function(e){"list"===e.target.id&&g(e.target.value)},handleSubmit:function(e){e.preventDefault(),0!==y.length&&(s({title:y,boardId:t}),j({_id:t}),g(""),w(!1))},closeForm:function(){w(!1),g("")},value:y,titleBtn:"Dodaj List\u0119"})}):Object(f.jsx)(At,{onClick:function(){return w(!0)},name:"Dodaj list\u0119 zada\u0144",icon:Object(f.jsx)(ct.a,{style:{margin:".3rem 0"}})})})]})]})})},va=function(){var e=z(),t=e.data,a=e.error,n=e.isLoading,c=Object(r.useState)([]),s=Object(b.a)(c,2);s[0],s[1];return Object(f.jsxs)(f.Fragment,{children:[a&&Object(f.jsx)("h2",{children:"Error 500"}),n?Object(f.jsx)(oe,{}):null===t||void 0===t?void 0:t.map((function(e){return Object(f.jsx)(ga,{_id:e._id,lists:e.lists,background:e.background},e._id)}))]})},ka=a(64),Ca=a.n(ka),wa=a(48),Na=a.n(wa),Sa={required:!0,maxLength:20,minLength:2},za={required:!0,maxLength:20,minLength:2},La={required:!0,pattern:/[0-9]/g},Da={required:!0,pattern:/[0-9]/g},Ia=function(e){e.closeModal;var t,a,n,c,s=J(),i=Object(b.a)(s,1)[0],l=Object(r.useState)(!1),o=Object(b.a)(l,2),d=o[0],u=o[1],j=Object(de.a)(),m=j.register,O=j.handleSubmit,p=(j.watch,j.formState.errors);return setTimeout((function(){return u(!1)}),3e3),Object(f.jsxs)("div",{className:Na.a.container,children:[Object(f.jsx)("h2",{children:"Dodaj produkt"}),Object(f.jsxs)("form",{className:Na.a.form,onSubmit:O((function(e){console.log(e);var t=e.name,a=e.category,n=e.quantity,r=e.unit,c=e.price;i({name:t,category:a,quantity:n,unit:r,price:c}),u(!0)})),children:[Object(f.jsxs)("div",{className:Na.a.formContainer,children:[Object(f.jsxs)("div",{className:Na.a.formGroup,children:[Object(f.jsx)(me,Object(ae.a)({id:"name",placeholder:"Nazwa",label:"Nazwa",type:"text",error:p.name},m("name",Object(ae.a)({},Sa)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Nazwa jest wymagana"});case"minLength":return Object(f.jsx)(fe,{message:"Nazwa musi zawiera\u0107 conajmiej 2 znaki"});case"maxLength":return Object(f.jsx)(fe,{message:"Nazwa mo\u017ce zawiera\u0107 maksymalnie 20 znak\xf3w"});default:return null}}(null===(t=p.name)||void 0===t?void 0:t.type),Object(f.jsx)(me,Object(ae.a)({id:"category",placeholder:"Kategoria",label:"Kategoria",type:"text",error:p.category},m("category",Object(ae.a)({},za)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Kategoria jest wymagana"});case"minLength":return Object(f.jsx)(fe,{message:"Kategoria musi zawiera\u0107 conajmiej 2 znaki"});case"maxLength":return Object(f.jsx)(fe,{message:"Kategoria mo\u017ce zawiera\u0107 maksymalnie 20 znak\xf3w"});default:return null}}(null===(a=p.category)||void 0===a?void 0:a.type),Object(f.jsx)(me,Object(ae.a)({id:"quantity",placeholder:"Stan",label:"Stan",type:"number",minValue:0,error:p.quantity},m("quantity",Object(ae.a)({},La)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Email jest wymagany"});case"pattern":return Object(f.jsx)(fe,{message:"Email jest niepoprawny"});default:return null}}(null===(n=p.quantity)||void 0===n?void 0:n.type)]}),Object(f.jsxs)("div",{className:Na.a.formGroup,children:[Object(f.jsxs)("select",Object(ae.a)(Object(ae.a)({},m("unit")),{},{className:Na.a.select,children:[Object(f.jsx)("option",{value:"m2",children:"m2"}),Object(f.jsx)("option",{value:"ark",children:"ark."}),Object(f.jsx)("option",{value:"ryz",children:"ryz"}),Object(f.jsx)("option",{value:"szt",children:"szt."}),Object(f.jsx)("option",{value:"litry",children:"litry"}),Object(f.jsx)("option",{value:"inne",children:"inne"})]})),Object(f.jsx)(me,Object(ae.a)({id:"price",placeholder:"Cena",label:"Cena",type:"number",step:"0.01",minValue:0,error:p.price},m("price",Object(ae.a)({},Da)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Has\u0142o jest wymagane"});case"pattern":return Object(f.jsx)(fe,{message:"Has\u0142o musi zawiera\u0107: co najmniej 8 znak\xf3w, 1 cyfr\u0119, 1 ma\u0142\u0105 liter\u0119 i 1 wielk\u0105 liter\u0119"});default:return null}}(null===(c=p.price)||void 0===c?void 0:c.type)]})]}),Object(f.jsxs)("div",{className:Na.a.actionForm,children:[Object(f.jsx)(He,{title:"Dodaj produkt",type:"submit"}),Object(f.jsx)("h3",{children:d&&"Produkt zosta\u0142 dodany"})]})]})]})},Fa=a(65),qa=a.n(Fa),Pa=a(60),Ta=function(e){var t=e.data,a=e.children,n=e.sortProducts,c=Object(r.useState)("asc"),s=Object(b.a)(c,2),i=s[0],l=s[1],o=Object(r.useState)(""),d=Object(b.a)(o,2),u=d[0],j=d[1],m=Object(r.useCallback)((function(e){var a=e.sortBy;if(t){var r=Object(tt.a)(t);if("asc"===i){var c=r.sort((function(e,t){return e[a].toString().localeCompare(t[a].toString(),"pl",{numeric:!0})}));n(c),l("desc")}if("desc"===i){var s=r.sort((function(e,t){return t[a].toString().localeCompare(e[a].toString(),"pl",{numeric:!0})}));n(s),l("asc")}j(a)}}),[t,i,u]);return Object(f.jsxs)("div",{className:qa.a.container,children:[Object(f.jsx)("div",{className:qa.a.head,children:[{key:"name",label:"Nazwa",sortable:!0},{key:"category",label:"Kategoria",sortable:!0},{key:"quantity",label:"Stan",sortable:!0},{key:"unit",label:"Jedn.",sortable:!1},{key:"price",label:"Cena",sortable:!0},{key:"actions",label:"Akcje",sortable:!1}].map((function(e){return Object(f.jsx)("div",Object(ae.a)(Object(ae.a)({className:"".concat(qa.a.block," ").concat(e.sortable?qa.a.sortable:"")},e.sortable&&{onClick:function(){return m({sortBy:e.key})}}),{},{children:Object(f.jsxs)("span",{children:[e.label,e.sortable?u===e.key?"desc"===i?Object(f.jsx)(Pa.a,{}):Object(f.jsx)(Pa.b,{}):Object(f.jsx)(Pa.c,{color:"#c8c8c8"}):null]})}),e.key)}))}),Object(f.jsx)("div",{className:qa.a.list,children:a})]})},Ba=a(71),Ma=a.n(Ba),Aa=function(e){var t=e.addNewProduct;return Object(f.jsxs)("div",{className:Ma.a.header,children:[Object(f.jsx)(At,{icon:Object(f.jsx)(ct.a,{style:{color:"grey",fontSize:"1.2rem"}}),name:"Dodaj produkt",onClick:t,style:{width:"200px"}}),Object(f.jsxs)("div",{className:Ma.a.filter,children:[Object(f.jsx)("div",{className:Ma.a.categoryName,children:Object(f.jsx)("h3",{children:"Papiery Ofsetowe"})}),Object(f.jsx)("div",{className:Ma.a.filterBtn,children:Object(f.jsx)(At,{icon:Object(f.jsx)(Qe.a,{style:{color:"grey",fontSize:"1.2rem"}}),name:"Filtruj",onClick:t,style:{width:"200px"}})})]})]})},Ea=a(49),Ha=a.n(Ea),Ua={required:!0,maxLength:20,minLength:2},Ra={required:!0,maxLength:20,minLength:2},Wa={required:!0,pattern:/[0-9]/g},Za={required:!0,pattern:/[0-9]/g},Ga=function(e){var t,a,n,c,s=e._id,i=e.defaultName,l=e.defaultCategory,o=e.defaultQuantity,d=e.defaultUnit,u=e.defaultPrice,j=$(),m=Object(b.a)(j,1)[0],O=Object(r.useState)(!1),p=Object(b.a)(O,2),x=p[0],h=(p[1],Object(de.a)()),_=h.register,y=h.handleSubmit,g=(h.watch,h.formState.errors);return Object(f.jsxs)("div",{className:Ha.a.container,children:[Object(f.jsx)("h2",{children:"Dodaj produkt"}),Object(f.jsxs)("form",{className:Ha.a.form,onSubmit:y((function(e){var t=e.name,a=e.category,n=e.quantity,r=e.unit,c=e.price;console.log(s),m({_id:s,name:t,category:a,quantity:n,unit:r,price:c})})),children:[Object(f.jsxs)("div",{className:Ha.a.formContainer,children:[Object(f.jsxs)("div",{className:Ha.a.formGroup,children:[Object(f.jsx)(me,Object(ae.a)({id:"name",placeholder:"Nazwa",defaultValue:i,label:"Nazwa",type:"text",error:g.name},_("name",Object(ae.a)({},Ua)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Nazwa jest wymagana"});case"minLength":return Object(f.jsx)(fe,{message:"Nazwa musi zawiera\u0107 conajmiej 2 znaki"});case"maxLength":return Object(f.jsx)(fe,{message:"Nazwa mo\u017ce zawiera\u0107 maksymalnie 20 znak\xf3w"});default:return null}}(null===(t=g.name)||void 0===t?void 0:t.type),Object(f.jsx)(me,Object(ae.a)({id:"category",placeholder:"Kategoria",defaultValue:l,label:"Kategoria",type:"text",error:g.category},_("category",Object(ae.a)({},Ra)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Kategoria jest wymagana"});case"minLength":return Object(f.jsx)(fe,{message:"Kategoria musi zawiera\u0107 conajmiej 2 znaki"});case"maxLength":return Object(f.jsx)(fe,{message:"Kategoria mo\u017ce zawiera\u0107 maksymalnie 20 znak\xf3w"});default:return null}}(null===(a=g.category)||void 0===a?void 0:a.type),Object(f.jsx)(me,Object(ae.a)({id:"quantity",placeholder:"Stan",defaultValue:o,label:"Stan",type:"number",minValue:0,error:g.quantity},_("quantity",Object(ae.a)({},Wa)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Email jest wymagany"});case"pattern":return Object(f.jsx)(fe,{message:"Email jest niepoprawny"});default:return null}}(null===(n=g.quantity)||void 0===n?void 0:n.type)]}),Object(f.jsxs)("div",{className:Ha.a.formGroup,children:[Object(f.jsxs)("select",Object(ae.a)(Object(ae.a)({},_("unit")),{},{className:Ha.a.select,defaultValue:d,children:[Object(f.jsx)("option",{value:"m2",children:"m2"}),Object(f.jsx)("option",{value:"ark",children:"ark."}),Object(f.jsx)("option",{value:"ryz",children:"ryz"}),Object(f.jsx)("option",{value:"szt",children:"szt."}),Object(f.jsx)("option",{value:"litry",children:"litry"}),Object(f.jsx)("option",{value:"inne",children:"inne"})]})),Object(f.jsx)(me,Object(ae.a)({id:"price",placeholder:"Cena",defaultValue:u,label:"Cena",type:"number",step:"0.01",minValue:0,error:g.price},_("price",Object(ae.a)({},Za)))),function(e){switch(e){case"required":return Object(f.jsx)(fe,{message:"Has\u0142o jest wymagane"});case"pattern":return Object(f.jsx)(fe,{message:"Has\u0142o musi zawiera\u0107: co najmniej 8 znak\xf3w, 1 cyfr\u0119, 1 ma\u0142\u0105 liter\u0119 i 1 wielk\u0105 liter\u0119"});default:return null}}(null===(c=g.price)||void 0===c?void 0:c.type)]})]}),Object(f.jsxs)("div",{className:Ha.a.actionForm,children:[Object(f.jsx)(He,{title:"Zapisz",type:"submit"}),Object(f.jsx)("h3",{children:x&&"Produkt zosta\u0142 dodany"})]})]})]})},Qa=a(40),Ka=a.n(Qa),Ya=function(e){var t=e.name,a=e.category,n=e.quantity,c=e.unit,s=e.price,i=e.editProd,l=e.deleteProd,o=Object(r.useState)(!1),d=Object(b.a)(o,2),u=d[0],j=d[1];return Object(f.jsxs)("div",{className:Ka.a.row,children:[Object(f.jsx)("div",{className:"".concat(Ka.a.block),children:Object(f.jsx)("span",{children:t})}),Object(f.jsx)("div",{className:"".concat(Ka.a.block),children:Object(f.jsx)("span",{children:a})}),Object(f.jsx)("div",{className:"".concat(Ka.a.block),children:Object(f.jsx)("span",{children:n})}),Object(f.jsx)("div",{className:"".concat(Ka.a.block),children:Object(f.jsx)("span",{children:c})}),Object(f.jsx)("div",{className:"".concat(Ka.a.block),children:Object(f.jsx)("span",{children:s})}),Object(f.jsx)("div",{className:"".concat(Ka.a.block),children:Object(f.jsx)(Ge,{onClick:function(){return j(!0)},children:Object(f.jsx)(qt.b,{style:{fontSize:"1.2rem",color:"grey"}})})}),Object(f.jsx)(Ve,{title:"Akcje produktu",trigger:u,closePopup:function(){return j(!1)},top:"10px",right:"10px",children:Object(f.jsxs)("div",{className:Ka.a.popupContent,children:[Object(f.jsx)(At,{onClick:i,name:"Etytuj",style:{margin:"10px 0"}}),Object(f.jsx)(At,{onClick:l,name:"Usu\u0144"})]})})]})},Va=function(){var e=V(),t=e.data,a=e.error,n=e.isLoading,c=X(),s=Object(b.a)(c,1)[0],i=Object(r.useState)(),l=Object(b.a)(i,2),o=l[0],d=l[1],u=Object(r.useState)(null),j=Object(b.a)(u,2),m=j[0],O=j[1],p=Object(r.useState)(!1),x=Object(b.a)(p,2),h=x[0],_=x[1],y=Object(r.useState)(!1),g=Object(b.a)(y,2),v=g[0],k=g[1];Object(r.useEffect)((function(){d(t)}),[t]);return Object(f.jsxs)("div",{className:Ca.a.container,children:[a&&Object(f.jsx)("h2",{children:"Error 500"}),Object(f.jsxs)("div",{className:Ca.a.left,children:[Object(f.jsx)("div",{className:Ca.a.top}),Object(f.jsxs)("div",{className:Ca.a.bottom,children:[Object(f.jsx)(Aa,{addNewProduct:function(){return _(!0)}}),n?Object(f.jsx)("div",{children:"Loading..."}):Object(f.jsx)(Ta,{data:o,sortProducts:d,children:null===o||void 0===o?void 0:o.map((function(e){return Object(f.jsx)(Ya,{_id:e._id,name:e.name,category:e.category,quantity:e.quantity,unit:e.unit,price:"".concat(e.price," z\u0142"),editProd:function(){return t=e,k(!0),void O(t);var t},deleteProd:function(){return s(e._id)}},e._id)}))})]})]}),Object(f.jsx)("div",{className:Ca.a.right}),Object(f.jsx)(ra,{trigger:h,closeModal:function(){return _(!1)},children:Object(f.jsx)(Ia,{})}),Object(f.jsx)(ra,{trigger:v,closeModal:function(){return k(!1)},children:m&&Object(f.jsx)(Ga,{_id:m._id,defaultName:m.name,defaultCategory:m.category,defaultQuantity:m.quantity,defaultUnit:m.unit,defaultPrice:m.price})})]})},Ja=function(){var e=V();e.data,e.error,e.isLoading,e.refetch;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Va,{})})},Xa=function(){return Object(f.jsx)("div",{children:"Dostawcy"})},$a=function(){return Object(f.jsx)("div",{children:"Informacje"})},en=function(){return Object(f.jsx)("div",{children:"Kalkulator"})},tn=function(){return Object(f.jsx)(p.e,{children:Object(f.jsxs)(p.c,{element:Object(f.jsx)($e,{}),children:[Object(f.jsx)(p.c,{path:"/zadania",element:Object(f.jsx)(va,{})}),Object(f.jsx)(p.c,{path:"/magazyn",element:Object(f.jsx)(Ja,{})}),Object(f.jsx)(p.c,{path:"/kalkulator",element:Object(f.jsx)(en,{})}),Object(f.jsx)(p.c,{path:"/statystyki",element:Object(f.jsx)(Xa,{})}),Object(f.jsx)(p.c,{path:"/ustawienia",element:Object(f.jsx)($a,{})}),Object(f.jsx)(p.c,{path:"/",element:Object(f.jsx)(p.a,{replace:!0,to:"/zadania"})})]})})},an=function(){var e=_().user,t=Object(p.h)();return Object(r.useEffect)((function(){t(e?"/":"/logowanie")}),[e]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(p.e,{children:e?Object(f.jsx)(p.c,{path:"/*",element:Object(f.jsx)(tn,{})}):Object(f.jsx)(p.c,{path:"/*",element:Object(f.jsx)(et,{})})})})};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(te,{children:Object(f.jsx)(an,{})})}),document.getElementById("root"))},24:function(e,t,a){e.exports={sidebar:"styles_sidebar__3wC10",sidebarHidden:"styles_sidebarHidden__2mCv1",logo:"styles_logo__FkRb0",navButton:"styles_navButton__1WEZY",navButtonHidden:"styles_navButtonHidden__3yxNk",linksContainer:"styles_linksContainer__3j3Z7",navItem:"styles_navItem__2YkZ4",navLink:"styles_navLink__6CTBW",icon:"styles_icon__2krzZ",active:"styles_active__tcVzl",divider:"styles_divider__IMCRY"}},28:function(e,t,a){e.exports={list:"styles_list__10VXO",listHeader:"styles_listHeader__AZh60",textareaWrapper:"styles_textareaWrapper__22zi6",textarea:"styles_textarea__1OwBV",cardsContainer:"styles_cardsContainer__9wbRc",addCardForm:"styles_addCardForm__3OMuD",popupContent:"styles_popupContent__3R-MM",divider:"styles_divider__3pBig"}},36:function(e,t,a){e.exports={container:"styles_container__3seBR",cardDetails:"styles_cardDetails__3IlNx",textarea:"styles_textarea__1UO7U",btnContainer:"styles_btnContainer__2K_79",cardLabels:"styles_cardLabels__wxQ6P",cardLabel:"styles_cardLabel__1veyb",iconsContainer:"styles_iconsContainer__FrvYa",dateContainer:"styles_dateContainer__1zIDa",dateBtn:"styles_dateBtn__MSJbB",icons:"styles_icons__3feCS",cardCover:"styles_cardCover__1qwF_",actionsContainer:"styles_actionsContainer__2ZPg7",actionsPopup:"styles_actionsPopup__1YDHd",actionsPopupContent:"styles_actionsPopupContent__3-CHs"}},39:function(e,t,a){e.exports={sideMenu:"styles_sideMenu__n4Dft",menuHeader:"styles_menuHeader__yYTfi",menuOptions:"styles_menuOptions__YWr_m",optionsContainer:"styles_optionsContainer__3tHVd",description:"styles_description__1cACy",itemBox:"styles_itemBox__1cVqL"}},40:function(e,t,a){e.exports={block:"styles_block__2wBud",row:"styles_row__3iW8M"}},45:function(e,t,a){e.exports={container:"styles_container__1Ckeh",login_formContainer:"styles_login_formContainer__1Aa54",left:"styles_left__1B5XZ",form_container:"styles_form_container__15YG_",input:"styles_input__1iHTC",error_msg:"styles_error_msg__3c5F1",right:"styles_right__rHiwj",white_btn:"styles_white_btn__1l2Cg",green_btn:"styles_green_btn__JtBYx"}},46:function(e,t,a){e.exports={container:"styles_container__9Abju",signup_formContainer:"styles_signup_formContainer__3QQH_",left:"styles_left__3a-9v",right:"styles_right__o1z62",form_container:"styles_form_container__2S9ok",input:"styles_input__XjSrT",error_msg:"styles_error_msg__2WEth",white_btn:"styles_white_btn__3jQeg",green_btn:"styles_green_btn__1r5ke"}},47:function(e,t,a){e.exports={form:"styles_form__qExef",textarea:"styles_textarea__3C6rf",actionsForm:"styles_actionsForm__1HEnh",reactColorful:"styles_reactColorful__1GZvD",pickerSwatches:"styles_pickerSwatches__2mV9F",pickerSwatch:"styles_pickerSwatch__pfsqw"}},48:function(e,t,a){e.exports={container:"styles_container__1YImG",formGroup:"styles_formGroup__8E_xJ",formContainer:"styles_formContainer__3uz6s",select:"styles_select__2uniC",actionForm:"styles_actionForm__1vVRU"}},49:function(e,t,a){e.exports={container:"styles_container__2xM-B",formGroup:"styles_formGroup__2zxDg",formContainer:"styles_formContainer__14KA2",select:"styles_select__2SRyq",actionForm:"styles_actionForm__Qp7gJ"}},52:function(e,t,a){e.exports={container:"styles_container__1-ydT",logoContainer:"styles_logoContainer__3ysgE",userInfo:"styles_userInfo__14Neq",userSignature:"styles_userSignature__XPf4S",userActionBtn:"styles_userActionBtn__8-DQQ"}},61:function(e,t,a){e.exports={layout:"styles_layout__26wyt",appbar:"styles_appbar__1Areq",sidebar:"styles_sidebar__3gXVy",pages:"styles_pages__TSa_W"}},62:function(e,t,a){e.exports={board:"styles_board__iPJCd",container:"styles_container___wR6X",listContainer:"styles_listContainer__J17TG",formContainer:"styles_formContainer__3ixh_",addListForm:"styles_addListForm__2TrIA"}},63:function(e,t,a){e.exports={container:"styles_container__1jJ7k",fileImg:"styles_fileImg__2WSkh",selectCover:"styles_selectCover__18Z5f",fileDetails:"styles_fileDetails__9GK1H",fileButtons:"styles_fileButtons__1hbRL"}},64:function(e,t,a){e.exports={container:"styles_container__3iTl6",left:"styles_left__3c1Yx",top:"styles_top__2KYAn",bottom:"styles_bottom__17AQS",right:"styles_right__3WLBw",head:"styles_head__s8LRQ",row:"styles_row__1CZ0r"}},65:function(e,t,a){e.exports={container:"styles_container__1ekfN",header:"styles_header__3UUmJ",list:"styles_list__2Unjo",block:"styles_block__3zQPX",head:"styles_head__1739H",row:"styles_row__2SyOC",sortable:"styles_sortable__I3sEq"}},70:function(e,t,a){e.exports={formFile:"styles_formFile__3T8jv",labelFile:"styles_labelFile__De77c",spanContainer:"styles_spanContainer__2K5TI"}},71:function(e,t,a){e.exports={header:"styles_header__1A8I6",filter:"styles_filter__bgwFP",filterBtn:"styles_filterBtn__1zXD9"}},83:function(e,t,a){e.exports={popup:"styles_popup__J-j7T",header:"styles_header__xILXA",popupContent:"styles_popupContent__24i3Z"}},84:function(e,t,a){e.exports={form:"styles_form__oc3HO",textarea:"styles_textarea__3-Mx0",actionsForm:"styles_actionsForm__2-exw"}},85:function(e,t,a){e.exports={overlay:"styles_overlay__1--du",modal:"styles_modal__7krd0",header:"styles_header__1sCxb"}},86:function(e,t,a){e.exports={box:"styles_box__1lrOR",container:"styles_container__OcLlI",clickableArea:"styles_clickableArea__3AfvO"}},95:function(e,t,a){e.exports={wrapper:"styles_wrapper__3cznN",span:"styles_span__2LjB1",icon:"styles_icon__1ACJd"}},96:function(e,t,a){e.exports={taskButton:"styles_taskButton__2AgMZ",icon:"styles_icon__2X-0i"}},97:function(e,t,a){e.exports={container:"styles_container__5Io1M",boxColor:"styles_boxColor__3lLjZ"}},98:function(e,t,a){e.exports={container:"styles_container__Z6dLN",items:"styles_items__deea-"}}},[[208,1,2]]]);
//# sourceMappingURL=main.aba9db39.chunk.js.map