(this["webpackJsonpprint-management"]=this["webpackJsonpprint-management"]||[]).push([[0],{100:function(e,t,a){e.exports={container:"styles_container__15jcK",items:"styles_items__3t-4X"}},113:function(e,t,a){e.exports={input:"styles_input__iJOgd",error:"styles_error__rVZGM"}},114:function(e,t,a){e.exports={loadingContainer:"styles_loadingContainer__1sZKG"}},118:function(e,t,a){e.exports={iconButton:"styles_iconButton__2Tcyu"}},136:function(e,t,a){},17:function(e,t,a){e.exports={container:"styles_container__3-fWy",cardCover:"styles_cardCover__t7ZfD",cardModalHeader:"styles_cardModalHeader__2yrJU",cardModalHeaderTextarea:"styles_cardModalHeaderTextarea__iSINU",cardModalTextareaTitle:"styles_cardModalTextareaTitle__1whDk",groupWrapper:"styles_groupWrapper__1w_be",content:"styles_content__KVE-Z",descriptionContainer:"styles_descriptionContainer__2-O9x",descriptionHeader:"styles_descriptionHeader__3JG6M",actionsForm:"styles_actionsForm__1AjCx",cardModalSidebar:"styles_cardModalSidebar__6Qjeu",divider:"styles_divider__3CiK2",cardModalLabels:"styles_cardModalLabels__dSKnz",cardModalLabelsList:"styles_cardModalLabelsList__3IoIQ",cardModalLabel:"styles_cardModalLabel__3A3xb",dateNotificationSpan:"styles_dateNotificationSpan__1ZQYe",cardModalSelectedDateBtn:"styles_cardModalSelectedDateBtn__UybOC"}},208:function(e,t,a){"use strict";a.r(t);var n,c=a(2),r=a.n(c),s=a(39),i=a.n(s),l=(a(136),a(20)),o=a(27),d=a(12),u=a.n(d),j=a(16),b=a(4),O=a(40),m=a.n(O),p=a(11),f=a(1),x=Object(c.createContext)(null),h=function(e){var t=e.children,a=function(){var e=Object(c.useState)(null),t=Object(b.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),s=Object(b.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(!1),d=Object(b.a)(o,2),O=d[0],f=d[1],x=Object(c.useState)(!1),h=Object(b.a)(x,2),_=h[0],y=h[1],g=Object(p.h)();Object(c.useEffect)((function(){var e=localStorage.getItem("token")||null;e&&Object(j.a)(u.a.mark((function t(){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.get("".concat("https://print-control-m-backend.herokuapp.com/","users/me"),{headers:{authorization:"Bearer ".concat(e)}});case 3:a=t.sent,c=a.data,n(c),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[]);var v=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,c,r,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,c=t.password,r={headers:{"Content-type":"application/json"}},y(!0),e.prev=3,e.next=6,m.a.post("".concat("https://print-control-m-backend.herokuapp.com/","users/login"),{email:a,password:c},r);case 6:s=e.sent,i=s.data,y(!1),n(i),localStorage.setItem("token",i.token),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),y(!1),l(e.t0.response.data.message);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.email,c=t.password,r={headers:{"Content-type":"application/json"}},y(!0),e.prev=3,e.next=6,m.a.post("".concat("https://print-control-m-backend.herokuapp.com/","users"),{name:a,email:n,password:c},r);case 6:y(!1),f(!0),setTimeout((function(){return g("/logowanie")}),1e3),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),y(!1),l(e.t0.response.data.message);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return{user:a,loading:_,success:O,error:i,signIn:v,signUp:k,signOut:function(){n(null),localStorage.removeItem("token")}}}();return Object(f.jsx)(x.Provider,{value:a,children:t})},_=function(){var e=Object(c.useContext)(x);if(!e)throw new Error("useAuth needs to be used inside AuthContext");return e},y=a(23),g=a(9),v=a(14),k=a(34),C=a(25),w=["_id"],N=localStorage.getItem("token")||null,S=Object(k.a)({reducerPath:"boardApi",baseQuery:Object(C.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/",prepareHeaders:function(e){var t=localStorage.getItem("token");return t&&e.set("authorization","Bearer ".concat(t)),e}}),tagTypes:["Board"],refetchOnMountOrArgChange:!!N,endpoints:function(e){return{getAllBoards:e.query({query:function(){return"boards"},providesTags:["Board"]}),getBoard:e.query({query:function(e){return{url:"boards/".concat(e)}},providesTags:["Board"]}),createBoard:e.mutation({query:function(e){return{url:"boards",method:"POST",body:e}},invalidatesTags:["Board"]}),updateBoard:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,w);return{url:"boards/".concat(t),method:"PATCH",body:a}},invalidatesTags:["Board"]})}}}),F=S.useGetAllBoardsQuery,z=S.useGetBoardQuery,D=(S.useCreateBoardMutation,S.useUpdateBoardMutation),L=["_id"],I=["_id"],M=Object(k.a)({reducerPath:"listApi",baseQuery:Object(C.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/"}),tagTypes:["List"],endpoints:function(e){return{getAllLists:e.query({query:function(){return"lists"},providesTags:["List"]}),getList:e.query({query:function(e){return"lists/".concat(e)},providesTags:["List"]}),addList:e.mutation({query:function(e){return{url:"lists",method:"POST",body:e}},invalidatesTags:["List"]}),updateList:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,L);return{url:"lists/".concat(t),method:"PATCH",body:a}},invalidatesTags:["List"]}),deleteList:e.mutation({query:function(e){return{url:"lists/".concat(e),method:"DELETE"}},invalidatesTags:["List"]}),deleteAllCardsOfList:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,I);return{url:"lists/".concat(t,"/cards"),method:"PATCH",body:a}},invalidatesTags:["List"]})}}}),P=(M.useGetAllListsQuery,M.useGetListQuery,M.useAddListMutation),q=M.useUpdateListMutation,T=M.useDeleteListMutation,B=M.useDeleteAllCardsOfListMutation,A=["_id"],E=Object(k.a)({reducerPath:"cardsApi",baseQuery:Object(C.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/"}),tagTypes:["Cards"],endpoints:function(e){return{getAllCards:e.query({query:function(){return"cards"},providesTags:["Cards"]}),getCard:e.query({query:function(e){return"cards/".concat(e)},providesTags:["Cards"]}),addCard:e.mutation({query:function(e){return{url:"cards",method:"POST",body:e}},invalidatesTags:["Cards"]}),updateCard:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,A);return{url:"cards/".concat(t),method:"PATCH",body:a}},invalidatesTags:["Cards"]}),deleteCard:e.mutation({query:function(e){return{url:"cards/".concat(e),method:"DELETE"}},invalidatesTags:["Cards"]})}}}),H=E.useGetAllCardsQuery,W=(E.useGetCardQuery,E.useAddCardMutation),U=E.useDeleteCardMutation,Q=E.useUpdateCardMutation,R=Object(k.a)({reducerPath:"filesApi",baseQuery:Object(C.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/"}),tagTypes:["Files"],endpoints:function(e){return{getAllFiles:e.query({query:function(){return"files"},providesTags:["Files"]}),getFile:e.query({query:function(e){return"files/".concat(e)},providesTags:["Files"]}),uploadFile:e.mutation({query:function(e){return{url:"files",method:"POST",body:e}},invalidatesTags:["Files"]}),deleteFile:e.mutation({query:function(e){return{url:"files/".concat(e),method:"DELETE"}},invalidatesTags:["Files"]}),downloadFile:e.mutation({query:function(e){return{url:"files/".concat(e),method:"GET"}},invalidatesTags:["Files"]})}}}),Z=(R.useGetAllFilesQuery,R.useGetFileQuery,R.useUploadFileMutation,R.useDeleteFileMutation),G=(R.useDownloadFileMutation,["_id"]),V=localStorage.getItem("token")||null,Y=Object(k.a)({reducerPath:"productsApi",baseQuery:Object(C.d)({baseUrl:"https://print-control-m-backend.herokuapp.com/",prepareHeaders:function(e){var t=localStorage.getItem("token")||null;return t&&e.set("authorization","Bearer ".concat(t)),e}}),refetchOnMountOrArgChange:!!V,tagTypes:["Products"],endpoints:function(e){return{getAllProducts:e.query({query:function(){return"products"},providesTags:["Products"]}),getProduct:e.query({query:function(e){return"products/".concat(e)},providesTags:["Products"]}),addProduct:e.mutation({query:function(e){return{url:"products",method:"POST",body:e}},invalidatesTags:["Products"]}),updateProduct:e.mutation({query:function(e){var t=e._id,a=Object(v.a)(e,G);return{url:"products/".concat(t),method:"PATCH",body:a}},invalidatesTags:["Products"]}),deleteProduct:e.mutation({query:function(e){return{url:"products/".concat(e),method:"DELETE"}},invalidatesTags:["Products"]})}}}),K=Y.useGetAllProductsQuery,J=(Y.useGetProductQuery,Y.useAddProductMutation),X=Y.useDeleteProductMutation,$=Y.useUpdateProductMutation,ee=Object(g.a)({reducer:(n={},Object(y.a)(n,S.reducerPath,S.reducer),Object(y.a)(n,M.reducerPath,M.reducer),Object(y.a)(n,E.reducerPath,E.reducer),Object(y.a)(n,R.reducerPath,R.reducer),Object(y.a)(n,Y.reducerPath,Y.reducer),n),middleware:function(e){return e().concat(S.middleware,M.middleware,E.middleware,R.middleware,Y.middleware)}}),te=function(e){var t=e.children;return Object(f.jsx)(l.a,{store:ee,children:Object(f.jsx)(o.a,{children:Object(f.jsx)(h,{children:t})})})},ae=a(5),ne=a(47),ce=a.n(ne),re=a(54),se=a(113),ie=a.n(se),le=["id","name","label","type","placeholder","disabled","onChange","value","defaultValue","step","minValue"],oe=Object(c.forwardRef)((function(e,t){var a=e.id,n=e.name,c=e.label,r=e.type,s=e.placeholder,i=e.disabled,l=e.onChange,o=e.value,d=e.defaultValue,u=e.step,j=e.minValue,b=Object(v.a)(e,le);return Object(f.jsx)("input",Object(ae.a)({id:a,ref:t,name:n,type:r,value:o,defaultValue:d,"aria-label":c,placeholder:s,step:u,min:j,onChange:l,disabled:i,className:ie.a.input},b))})),de=a(41),ue=a.n(de),je=a(28),be=function(e){var t=e.message;return Object(f.jsx)("div",{className:ue.a.wrapper,children:Object(f.jsxs)("span",{className:ue.a.error,children:[Object(f.jsx)(je.d,{})," ",t]})})},Oe=a(115),me=a.n(Oe),pe=a(114),fe=a.n(pe),xe=function(){return Object(f.jsx)("div",{className:fe.a.loadingContainer,children:Object(f.jsx)(me.a,{size:40})})},he=function(){var e=_(),t=e.loading,a=e.signIn,n=Object(re.a)(),c=n.register,r=n.handleSubmit,s=n.formState.errors;return Object(f.jsx)("div",{className:ce.a.container,children:Object(f.jsxs)("div",{className:ce.a.login_formContainer,children:[Object(f.jsxs)("div",{className:ce.a.left,children:[t?Object(f.jsx)(xe,{}):null,Object(f.jsxs)("form",{className:ce.a.form_container,onSubmit:r(a),children:[Object(f.jsx)("h1",{children:"Zaloguj si\u0119"}),Object(f.jsx)(oe,Object(ae.a)({id:"email",placeholder:"email",label:"Email",type:"text"},c("email",{required:!0}))),s.email&&Object(f.jsx)(be,{message:"Email jest wymagany"}),Object(f.jsx)(oe,Object(ae.a)({id:"password",placeholder:"password",label:"Password",type:"password"},c("password",{required:!0}))),s.password&&Object(f.jsx)(be,{message:"Has\u0142o jest wymagane"}),Object(f.jsx)("button",{type:"submit",className:ce.a.green_btn,children:"Logowanie"})]})]}),Object(f.jsxs)("div",{className:ce.a.right,children:[Object(f.jsx)("h1",{children:"Zarejestruj si\u0119"})," ",Object(f.jsx)("br",{}),Object(f.jsx)(o.b,{to:"/rejestracja",children:Object(f.jsx)("button",{type:"button",className:ce.a.white_btn,children:"Rejestracja"})})]})]})})},_e=a(48),ye=a.n(_e),ge=a(76),ve=function(e){var t=e.message;return Object(f.jsx)("div",{className:ue.a.wrapper,children:Object(f.jsxs)("span",{className:ue.a.success,children:[Object(f.jsx)(ge.a,{})," ",t]})})},ke={required:!0,maxLength:20,minLength:2},Ce={required:!0,pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},we={required:!0,pattern:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/},Ne=function(){var e,t,a,n=_(),c=n.loading,r=n.success,s=n.signUp,i=Object(re.a)(),l=i.register,d=i.handleSubmit,u=i.watch,j=i.formState.errors;return Object(f.jsx)("div",{className:ye.a.container,children:Object(f.jsxs)("div",{className:ye.a.signup_formContainer,children:[Object(f.jsxs)("div",{className:ye.a.left,children:[Object(f.jsx)("h1",{children:"Zaloguj si\u0119"}),Object(f.jsx)("br",{}),Object(f.jsx)(o.b,{to:"/logowanie",children:Object(f.jsx)("button",{type:"button",className:ye.a.white_btn,children:"Logowanie"})})]}),Object(f.jsxs)("div",{className:ye.a.right,children:[c?Object(f.jsx)(xe,{}):null,r&&Object(f.jsx)(ve,{message:"Zosta\u0142e\u015b zarejestrowany"}),Object(f.jsxs)("form",{className:ye.a.form_container,onSubmit:d(s),children:[Object(f.jsx)("h1",{children:"Utw\xf3rz konto"}),Object(f.jsx)(oe,Object(ae.a)({id:"name",placeholder:"Imi\u0119",label:"Imi\u0119",type:"text",error:j.name},l("name",Object(ae.a)({},ke)))),function(e){switch(e){case"required":return Object(f.jsx)(be,{message:"Imi\u0119 jest wymagane"});case"minLength":return Object(f.jsx)(be,{message:"Imi\u0119 musi zawiera\u0107 conajmiej 2 znaki"});case"maxLength":return Object(f.jsx)(be,{message:"Imi\u0119 mo\u017ce zawiera\u0107 maksymalnie 20 znak\xf3w"});default:return null}}(null===(e=j.name)||void 0===e?void 0:e.type),Object(f.jsx)(oe,Object(ae.a)({id:"email",placeholder:"email",label:"Email",type:"text"},l("email",Object(ae.a)({},Ce)))),function(e){switch(e){case"required":return Object(f.jsx)(be,{message:"Email jest wymagany"});case"pattern":return Object(f.jsx)(be,{message:"Email jest niepoprawny"});default:return null}}(null===(t=j.email)||void 0===t?void 0:t.type),Object(f.jsx)(oe,Object(ae.a)({id:"password",placeholder:"password",label:"Password",type:"password"},l("password",Object(ae.a)({},we)))),function(e){switch(e){case"required":return Object(f.jsx)(be,{message:"Has\u0142o jest wymagane"});case"pattern":return Object(f.jsx)(be,{message:"Has\u0142o musi zawiera\u0107: co najmniej 8 znak\xf3w, 1 cyfr\u0119, 1 ma\u0142\u0105 liter\u0119 i 1 wielk\u0105 liter\u0119"});default:return null}}(null===(a=j.password)||void 0===a?void 0:a.type),Object(f.jsx)(oe,Object(ae.a)({id:"confirm_password",placeholder:"confirm password",label:"Confirm Password",type:"password"},l("confirm_password",{required:!0,validate:function(e){return e===u("password")}}))),j.confirm_password&&Object(f.jsx)(be,{message:"Wpisz poprawne has\u0142o"}),Object(f.jsx)("button",{type:"submit",className:ye.a.green_btn,children:"Rejestracja"})]})]})]})})},Se=a(61),Fe=a.n(Se),ze=a(26),De=a.n(ze),Le=a(55),Ie=a(116),Me=a(117),Pe=a(44),qe=[{name:"Zadania",path:"/zadania",icon:Object(f.jsx)(Pe.b,{})},{name:"Magazyn",path:"/magazyn",icon:Object(f.jsx)(je.a,{})},{name:"Kalkulator",path:"/kalkulator",icon:Object(f.jsx)(Ie.a,{})},{name:"Statystyki",path:"/statystyki",icon:Object(f.jsx)(ge.b,{})},{name:"Ustawienia",path:"/ustawienia",icon:Object(f.jsx)(Me.a,{})}],Te=function(){var e=Object(p.g)(),t=Object(c.useState)(!0),a=Object(b.a)(t,2),n=a[0],r=a[1];return Object(f.jsxs)("nav",{className:"".concat(De.a.sidebar," ").concat(n?De.a.sidebarHidden:De.a.sidebar),children:[Object(f.jsx)("button",{className:"".concat(De.a.navButton," ").concat(n?De.a.navButton:De.a.navButtonHidden),onClick:function(){return r((function(e){return!e}))},children:Object(f.jsx)(Le.a,{})}),Object(f.jsx)("ul",{className:De.a.linksContainer,children:qe.map((function(t){return Object(f.jsx)("li",{className:De.a.navItem,children:Object(f.jsx)(o.b,{to:t.path,children:Object(f.jsxs)("div",{className:"".concat(De.a.navLink," ").concat(e.pathname===t.path?De.a.active:De.a.navLink),children:[Object(f.jsx)("div",{className:De.a.icon,children:t.icon}),Object(f.jsx)("p",{children:n?null:t.name})]})})},t.name)}))}),Object(f.jsx)("div",{className:De.a.divider})]})},Be=a(51),Ae=a.n(Be),Ee=a(97),He=a.n(Ee),We=["title","style","disabled","type","onClick"],Ue=function(e){var t=e.title,a=e.style,n=e.disabled,c=e.type,r=e.onClick,s=Object(v.a)(e,We);return Object(f.jsx)("button",Object(ae.a)(Object(ae.a)({className:"".concat(He.a.button," ").concat("reset"===c&&He.a.reset),style:a,onClick:r,disabled:n},s),{},{children:t}))},Qe=a(85),Re=a.n(Qe),Ze=a(118),Ge=a.n(Ze),Ve=function(e){return Object(f.jsx)("button",{className:Ge.a.iconButton,onClick:e.onClick,type:"button",style:e.style,children:e.children})},Ye=a(18);var Ke=function(e,t){Object(c.useEffect)((function(){var a=function(a){var n=null===e||void 0===e?void 0:e.current;n&&!n.contains(a.target)&&t(a)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),function(){document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a)}}),[e,t])},Je=["children","trigger","title","isEditWindow","closePopup","backToMainWindow"],Xe=function(e){var t=e.children,a=e.trigger,n=e.title,r=e.isEditWindow,s=e.closePopup,i=e.backToMainWindow,l=Object(v.a)(e,Je),o=Object(c.useRef)(null);return Ke(o,s),a?Object(f.jsxs)("div",{className:Re.a.popup,ref:o,style:Object(ae.a)({},l),children:[Object(f.jsxs)("div",{className:Re.a.header,children:[r?Object(f.jsx)(Ve,{onClick:i,children:Object(f.jsx)(Le.b,{})}):null,Object(f.jsx)("h3",{children:n}),Object(f.jsx)(Ve,{onClick:s,children:Object(f.jsx)(Ye.e,{})})]}),Object(f.jsx)("div",{className:Re.a.popupContent,children:t})]}):null},$e=a.p+"static/media/logo.7eca49e8.svg",et=function(){var e=_(),t=e.user,a=e.signOut,n=Object(c.useState)(!1),r=Object(b.a)(n,2),s=r[0],i=r[1],l=t?t.name.charAt(0):"";return Object(f.jsxs)("div",{className:Ae.a.container,children:[Object(f.jsx)("div",{className:Ae.a.logoContainer,children:Object(f.jsx)("img",{src:$e,alt:"logo"})}),Object(f.jsxs)("div",{className:Ae.a.userAction,children:[Object(f.jsx)("button",{onClick:function(){return i(!0)},className:Ae.a.userActionBtn,children:Object(f.jsx)("h3",{children:l})}),Object(f.jsxs)(Xe,{title:"Konto",trigger:s,closePopup:function(){i(!1)},top:"55px",right:"5px",children:[Object(f.jsxs)("div",{className:Ae.a.userInfo,children:[Object(f.jsx)("div",{className:Ae.a.userSignature,children:Object(f.jsx)("h3",{children:l})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:null===t||void 0===t?void 0:t.name}),Object(f.jsx)("span",{children:null===t||void 0===t?void 0:t.email})]})]}),Object(f.jsx)(Ue,{title:"Wyloguj",onClick:a,type:"button"})]})]})]})},tt=function(){var e=_().user;return Object(f.jsx)(f.Fragment,{children:e?Object(f.jsxs)("div",{className:Fe.a.layout,children:[Object(f.jsx)("div",{className:Fe.a.appbar,children:Object(f.jsx)(et,{})}),Object(f.jsx)("div",{className:Fe.a.sidebar,children:Object(f.jsx)(Te,{})}),Object(f.jsx)("div",{className:Fe.a.pages,children:Object(f.jsx)(p.b,{})})]}):Object(f.jsx)("div",{className:Fe.a.authContainer,children:Object(f.jsx)(p.b,{})})})},at=function(){return Object(f.jsx)(p.e,{children:Object(f.jsxs)(p.c,{element:Object(f.jsx)(tt,{}),children:[Object(f.jsx)(p.c,{path:"/logowanie",element:Object(f.jsx)(he,{})}),Object(f.jsx)(p.c,{path:"/rejestracja",element:Object(f.jsx)(Ne,{})}),Object(f.jsx)(p.c,{path:"/",element:Object(f.jsx)(p.a,{replace:!0,to:"/logowanie"})})]})})},nt=a(10),ct=a(62),rt=a.n(ct),st=a(46),it=a(98),lt=a.n(it),ot=function(e){var t=e.onClick,a=e.name,n=e.icon,c=e.style;return Object(f.jsxs)("button",{className:lt.a.taskButton,onClick:t,style:c,children:[Object(f.jsx)("div",{className:lt.a.icon,children:n}),a]})},dt=a(30),ut=a.n(dt),jt=a(45),bt=a(38),Ot=a.n(bt),mt=a(21),pt=a.n(mt),ft=a(119),xt=a.n(ft),ht=a(120),_t=a.n(ht),yt=a(121),gt=a.n(yt),vt=(a(164),"undefined"!==typeof window?c.useLayoutEffect:c.useEffect);var kt=function(e,t,a){var n=Object(c.useRef)(t);vt((function(){n.current=t}),[t]),Object(c.useEffect)((function(){var t=(null===a||void 0===a?void 0:a.current)||window;if(t&&t.addEventListener){var c=function(e){return n.current(e)};return t.addEventListener(e,c),function(){t.removeEventListener(e,c)}}}),[e,a])};var Ct=function(e){var t=Object(c.useState)(!1),a=Object(b.a)(t,2),n=a[0],r=a[1];return kt("mouseenter",(function(){return r(!0)}),e),kt("mouseleave",(function(){return r(!1)}),e),n},wt=function(e){return"string"===typeof e&&null!==e.match(/^http[^\?]*.(jpg|jpeg|gif|png|tiff|bmp|webp)(\?(.*))?$/gim)},Nt=a(86),St=a.n(Nt),Ft=function(e){var t=e.onClick,a=e.children;return Object(f.jsx)("div",{className:St.a.box,children:Object(f.jsxs)("div",{className:St.a.container,children:[Object(f.jsx)("div",{className:St.a.clickableArea,onClick:t}),a]})})},zt=a(17),Dt=a.n(zt),Lt=(a(165),a(101)),It=a.n(Lt),Mt=a(122),Pt=a.n(Mt),qt=a(129),Tt=a(128),Bt=a(87),At=a.n(Bt),Et=function(e){var t=e.value,a=e.id,n=e.titleBtn,c=e.onBlur,r=e.onFocus,s=e.handleChange,i=e.handleSubmit,l=e.closeForm,o="list"===a?"Dodaj list\u0119 zada\u0144":"Dodaj now\u0105 kart\u0119";return Object(f.jsxs)("form",{className:At.a.form,children:[Object(f.jsx)(jt.a,{id:a,maxRows:20,placeholder:o,value:t,className:At.a.textarea,autoFocus:!0,onChange:s,onBlur:c,onFocus:r,onKeyDown:function(e){"Enter"!==e.key&&"NumpadEnter"!==e.code||(e.stopPropagation(),i(e))},required:!0}),Object(f.jsxs)("div",{className:At.a.actionsForm,children:[Object(f.jsx)(Ue,{title:n,type:"submit",onClick:i}),Object(f.jsx)("div",{style:{marginRight:"16px"}}),Object(f.jsx)(Ve,{onClick:l,children:Object(f.jsx)(Ye.e,{})})]})]})},Ht=a(99),Wt=a.n(Ht),Ut=function(e){var t=e.title,a=e.color,n=e.cardLabels,c=e.handleCheckedLabel,r=e.openLabelEditWindow,s=e.labelId,i=n.filter((function(e){return e._id===s}));return Object(f.jsxs)("div",{className:Wt.a.container,children:[Object(f.jsxs)("div",{onClick:c,style:{background:"".concat(a)},className:Wt.a.boxColor,children:[Object(f.jsx)("p",{children:t}),i.length?Object(f.jsx)(je.b,{style:{color:"white"}}):null]}),Object(f.jsx)(Ve,{onClick:r,children:Object(f.jsx)(Ye.b,{})})]})},Qt=a(100),Rt=a.n(Qt),Zt=function(e){var t=e.children,a=e.title,n=e.data,c=Array.isArray(n)?!!n.length:null!==n&&void 0!==n;return Object(f.jsx)(f.Fragment,{children:c?Object(f.jsxs)("div",{className:Rt.a.container,children:[Object(f.jsx)("h4",{children:a}),Object(f.jsx)("div",{className:Rt.a.items,children:t})]}):null})},Gt=a(49),Vt=a.n(Gt),Yt=a(123),Kt=a.p+"static/media/defaultImg.2975b1de.jpg",Jt=a.p+"static/media/defaultColors.f397083e.jpg",Xt=Kt,$t=Jt,ea=["#FB8B24","#9575cd","#F36935","#EA4746","#AE0366","#53416B","#ba68c8","#2F8278","#C5D86D","#30B68E","#A2D2FF","#FFDAB9","#3f3c3c","#f6faff"],ta=function(e){var t=e.handleChangeTitle,a=e.handleChangeLabelTitle,n=e.handleDeleteLabel,c=e.value,r=e.formId,s=e.onFocus,i=e.setSelectColor,l=e.selectColor;return Object(f.jsxs)("form",{className:Vt.a.form,children:[Object(f.jsx)("p",{style:{marginBottom:"5px"},children:"Nazwa"}),Object(f.jsx)(jt.a,{id:r,maxRows:20,placeholder:"Dodaj nazw\u0119 etykiety...",value:c,className:Vt.a.textarea,autoFocus:!0,onChange:t,onFocus:s}),Object(f.jsx)("p",{style:{marginBottom:"5px"},children:"Wybierz kolor"}),Object(f.jsxs)("div",{className:Vt.a.picker,children:[Object(f.jsx)(Yt.a,{className:Vt.a.reactColorful,color:l,onChange:i}),Object(f.jsx)("div",{className:Vt.a.pickerSwatches,children:ea.slice(0,14).map((function(e){return Object(f.jsx)("div",{className:Vt.a.pickerSwatch,style:{background:e},onClick:function(){return i(e)}},e)}))})]}),Object(f.jsxs)("div",{className:Vt.a.actionsForm,children:[Object(f.jsx)(Ue,{onClick:a,title:"Zapisz",type:"submit"}),Object(f.jsx)("div",{style:{marginRight:"1rem"}}),Object(f.jsx)(Ue,{onClick:n,title:"Usu\u0144",type:"reset"})]})]})},aa=a(71),na=a.n(aa),ca=function(e){var t=e.name,a=e.listNames,n=e.type,c=e.handleInputState,r=e.handleSubmitFiles;return Object(f.jsx)("div",{children:Object(f.jsxs)("form",{className:na.a.formFile,children:[Object(f.jsxs)("label",{id:"formId",className:na.a.labelFile,children:[Object(f.jsx)("input",{id:"formId",type:n,name:t,onChange:c,multiple:!0,hidden:!0}),"Dodaj za\u0142\u0105czniki"]}),Object(f.jsx)("div",{className:na.a.spanContainer,children:a.map((function(e,t){return Object(f.jsx)("span",{className:na.a.nameFileSpan,children:e},t)}))}),a.length?Object(f.jsx)(Ue,{onClick:r,title:"Za\u0142\u0105cz",type:"submit"}):null]})})},ra=a(63),sa=a.n(ra),ia=function(e){var t=e.created,a=e.title,n=e.src,c=e.type,r=e.index,s=e.active,i=e.handleDeleteFile,l=e.handleDownloadFile,o=e.handleSelectCover,d=c.split("/").pop();return Object(f.jsxs)("div",{className:sa.a.container,children:[Object(f.jsx)("div",{className:sa.a.fileImg,children:wt(n)?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{src:n,className:"card-img-top img-responsive",alt:"img"}),Object(f.jsx)("div",{className:sa.a.selectCover,title:"ustaw ok\u0142adk\u0119",children:Object(f.jsx)("input",{type:"checkbox",checked:s===r,onChange:o,style:{height:"100%",width:"1rem",marginRight:"8px"}})})]}):Object(f.jsx)("p",{children:d})}),Object(f.jsxs)("div",{className:sa.a.fileDetails,children:[Object(f.jsx)("h4",{children:a}),Object(f.jsx)("span",{children:t}),Object(f.jsxs)("div",{className:sa.a.fileButtons,children:[Object(f.jsx)(ot,{style:{height:"25px",margin:"0 8px 0 0"},onClick:i,name:"Skasuj"}),Object(f.jsx)(ot,{style:{height:"25px",margin:"0"},onClick:l,name:"Pobierz"})]})]})]})},la=a(88),oa=a.n(la),da=function(e){var t=e.children,a=e.trigger,n=e.closeModal,r=Object(c.useRef)(null);return Ke(r,n),a?Object(f.jsx)("div",{className:oa.a.overlay,children:Object(f.jsxs)("div",{className:oa.a.modal,ref:r,children:[Object(f.jsx)("div",{className:oa.a.header,children:Object(f.jsx)(Ve,{onClick:n,children:Object(f.jsx)(Ye.e,{})})}),t]})}):null},ua=a(64),ja=a.n(ua),ba=function(e){var t=e.cardId,a=e.boardId,n=e.usedMaterials,r=K().data,s=D(),i=Object(b.a)(s,1)[0],l=Q(),o=Object(b.a)(l,1)[0],d=$(),u=Object(b.a)(d,1)[0],j=Object(c.useState)({}),O=Object(b.a)(j,2),m=O[0],p=O[1],x=Object(c.useState)(n),h=Object(b.a)(x,2),_=h[0],y=h[1],g=Object(c.useState)(!1),v=Object(b.a)(g,2),k=v[0],C=v[1];Object(c.useEffect)((function(){r&&p(r[0])}),[r]);var w=function(e){if(_){var t=e.target,a=t.id,n=t.valueAsNumber,c=[],r=_.findIndex((function(e){return e._id===a}));_.map((function(e,t){return c[t]=Object(ae.a)({},e)})),-1!==r&&(c[r].used=n,y(c),C(!0))}},N=function(e){if(r){var t=r.filter((function(t){return t._id===e})).map((function(e){return e.quantity}));return t.length?t:0}};return Object(f.jsx)("div",{className:ja.a.container,children:Object(f.jsxs)("form",{className:ja.a.form,onSubmit:function(e){e.preventDefault();var n=Object(nt.a)(_);o({_id:t,usedMaterials:_}),n.map((function(e){u({_id:e._id,quantity:e.used&&e.quantity-e.used})})),i({_id:a}),C(!1)},children:[Object(f.jsx)("label",{htmlFor:"products",children:"Dodaj produkt z magazynu"}),Object(f.jsxs)("div",{className:ja.a.selectContainer,children:[Object(f.jsx)("select",{id:"products",className:ja.a.select,onChange:function(e){if(r){var t=Object(nt.a)(r).find((function(t){return t._id===e.target.value}));p(t)}},children:r?r.map((function(e){return Object(f.jsx)("option",{value:e._id,children:e.name},e._id)})):null}),Object(f.jsx)(Ue,{onClick:function(){if(Object(nt.a)(_).find((function(e){return e._id===m._id})))return alert("produkt zosta\u0142 ju\u017c dodany do listy");var e=[].concat(Object(nt.a)(_),[Object(ae.a)(Object(ae.a)({},m),{},{used:1})]);y(e),C(!0)},title:"Dodaj",type:"button",style:{height:"38px",marginLeft:"10px"}})]}),Object(f.jsx)("div",{className:ja.a.list,children:null===_||void 0===_?void 0:_.map((function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{children:e.name}),Object(f.jsx)("input",{type:"text",name:"quantity",value:"stan: ".concat(N(e._id)," ").concat(e.unit),disabled:!0}),Object(f.jsx)("input",{id:e._id,type:"number",name:e.name,defaultValue:e.used,max:N(e._id)?e.quantity:e.used,min:1,onChange:w}),Object(f.jsx)(Ve,{onClick:function(){return function(e){if(_){var n=Object(nt.a)(_).filter((function(t){return t._id!==e}));y(n),o({_id:t,usedMaterials:n}),i({_id:a});var c=Number(Object(nt.a)(_).filter((function(t){return t._id===e})).map((function(e){return e.quantity})));u({_id:e,quantity:c}),C(!0)}}(e._id)},style:{marginLeft:"8px"},children:"X"})]},e._id)}))}),(null===_||void 0===_?void 0:_.length)?Object(f.jsx)(Ue,{title:"Zapisz",type:"submit",style:{width:"100%",padding:"0.6rem"},disabled:!k}):null]})})},Oa=a(126),ma=a(127),pa=function(e){var t=e._id,a=e.boardId,n=e.title,r=e.description,s=e.completed,i=e.labels,l=e.deadline,o=e.cover,d=e.files,O=e.usedMaterials,p=e.nameList,x=e.dateIsSameOrBefore,h=e.deadlineIsSoon,_=e.cardDateDisplay,y=e.cardFileIndex,g=e.setCardCompleted,v=e.setIsCardWindowOpen,k=e.setCardCover,C=e.setCardFileIndex;pt.a.locale("pl"),Object(Lt.registerLocale)("pl",Tt.a);var w=z(a).data,N=H().data,S=Q(),F=Object(b.a)(S,1)[0],L=U(),I=Object(b.a)(L,1)[0],M=D(),P=Object(b.a)(M,1)[0],q=Z(),T=Object(b.a)(q,1)[0],B=Object(c.useState)(n),A=Object(b.a)(B,2),E=A[0],W=A[1],R=Object(c.useState)(r),G=Object(b.a)(R,2),V=G[0],Y=G[1],K=Object(c.useState)(i),J=Object(b.a)(K,2),X=J[0],$=J[1],ee=Object(c.useState)(l?new Date(l):new Date),te=Object(b.a)(ee,2),ne=te[0],ce=te[1],re=Object(c.useState)([]),se=Object(b.a)(re,2),ie=se[0],le=se[1],oe=Object(c.useState)(""),de=Object(b.a)(oe,2),ue=de[0],be=de[1],Oe=Object(c.useState)(!1),me=Object(b.a)(Oe,2),pe=me[0],fe=me[1],xe=Object(c.useState)(!1),he=Object(b.a)(xe,2),_e=he[0],ye=he[1],ge=Object(c.useState)(!1),ve=Object(b.a)(ge,2),ke=ve[0],Ce=ve[1],we=Object(c.useState)(""),Ne=Object(b.a)(we,2),Se=Ne[0],Fe=Ne[1],ze=Object(c.useState)(""),De=Object(b.a)(ze,2),Ie=De[0],Me=De[1],qe=Object(c.useState)(""),Te=Object(b.a)(qe,2),Be=Te[0],Ae=Te[1],Ee=Object(c.useState)(!1),He=Object(b.a)(Ee,2),We=He[0],Qe=He[1],Re=Object(c.useState)(!1),Ze=Object(b.a)(Re,2),Ge=Ze[0],Ve=Ze[1],Je=Object(c.useState)(!1),$e=Object(b.a)(Je,2),et=$e[0],tt=$e[1],at=Object(c.useState)(!1),ct=Object(b.a)(at,2),rt=ct[0],st=ct[1],it=Object(c.useState)(!1),lt=Object(b.a)(it,2),dt=lt[0],ut=lt[1],bt=Object(c.useState)([]),Ot=Object(b.a)(bt,2),mt=Ot[0],ft=Ot[1],xt=Object(c.useState)([]),ht=Object(b.a)(xt,2),_t=ht[0],yt=ht[1],gt=Object(c.useState)(0),vt=Object(b.a)(gt,2),kt=vt[0],Ct=vt[1],Nt=Object(c.useState)(null),St=Object(b.a)(Nt,2),Ft=St[0],zt=St[1],Mt=Object(c.useRef)(null);Object(c.useEffect)((function(){w&&le(w.labels)}),[w]);var Bt=Object(c.useCallback)((function(e){var t=e.target.files;if(null!==t){(null===t||void 0===t?void 0:t.length)&&ft(Array.from(t));for(var a=[],n=0;n<t.length;n++)a.push(t[n].name),yt(a)}zt(!0),Ct(0)}),[]),At=function(){var e=Object(j.a)(u.a.mark((function e(n){var c,r,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),mt.length){e.next=3;break}return e.abrupt("return");case 3:if(Ft){e.next=5;break}return e.abrupt("return");case 5:for((c=new FormData).append("cardId",t),r=0;r<mt.length;r++)c.append("files",mt[r]);return s={headers:{"content-type":"multipart/form-data"},onUploadProgress:function(e){var t=e.loaded,a=e.total,n=Math.floor(100*t/a);Ct(n)}},e.next=11,m.a.post("".concat("https://print-control-m-backend.herokuapp.com/","files"),c,s).then((function(e){F({_id:t}),P({_id:a}),zt(!0),setTimeout((function(){Ct(0),yt([]),tt(!1)}),500)})).catch((function(e){console.log(e),zt(!1)}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Ke(Mt,v),Object(f.jsx)(da,{trigger:!0,closeModal:v,children:Object(f.jsxs)("div",{className:Dt.a.container,children:[o&&wt(o)?Object(f.jsx)("div",{className:Dt.a.cardCover,children:Object(f.jsx)("img",{onClick:function(){var e=window.open("".concat(o),"_blank","noopener,noreferrer");e&&(e.opener=null)},src:o,alt:o})}):null,Object(f.jsx)("div",{className:Dt.a.cardModalHeader,children:Object(f.jsxs)("div",{className:Dt.a.cardModalHeaderTextarea,children:[Object(f.jsx)(jt.a,{id:"card-title",autoFocus:!1,value:E,className:Dt.a.cardModalTextareaTitle,onChange:function(e){"card-title"===e.target.id&&(W(e.target.value),F({_id:t,title:e.target.value}),P({_id:a}))},onFocus:function(e){return e.target.select()},rows:20,maxRows:4,required:!0}),Object(f.jsxs)("p",{children:["Na liscie: ",Object(f.jsx)("strong",{children:p})]})]})}),Object(f.jsxs)("div",{className:Dt.a.groupWrapper,children:[Object(f.jsxs)("div",{className:Dt.a.content,children:[Object(f.jsx)(Zt,{data:X,title:"Etykiety",children:X.map((function(e){return Object(f.jsx)("div",{style:{backgroundColor:"".concat(e.color)},className:Dt.a.cardModalLabel,onClick:function(){return Qe(!0)},children:Object(f.jsx)("span",{children:e.title})},e._id)}))}),Object(f.jsx)(Zt,{data:l,title:"Termin",children:Object(f.jsx)(f.Fragment,{children:l?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("input",{type:"checkbox",checked:s,onChange:function(){g(!s),F({_id:t,completed:!s}),P({_id:a})}}),Object(f.jsxs)("button",{onClick:function(){return Ve(!0)},className:Dt.a.cardModalSelectedDateBtn,children:[Object(f.jsx)("span",{children:pt()(l).format("DD-MM-YYYY HH:mm")}),x&&!s?Object(f.jsx)("span",{title:_.title,style:{backgroundColor:_.style.backgroundColor},className:Dt.a.dateNotificationSpan,children:_.name}):null,h&&!s?Object(f.jsx)("span",{title:_.title,style:{backgroundColor:_.style.backgroundColor},className:Dt.a.dateNotificationSpan,children:_.name}):null,s?Object(f.jsx)("span",{title:_.title,style:{backgroundColor:_.style.backgroundColor},className:Dt.a.dateNotificationSpan,children:_.name}):null]})]}):null})}),Object(f.jsxs)("div",{className:Dt.a.descriptionContainer,children:[Object(f.jsxs)("div",{className:Dt.a.descriptionHeader,children:[Object(f.jsx)("h4",{children:"Opis"}),Object(f.jsx)("div",{style:{maxWidth:"100px",marginLeft:"1rem"},children:pe||void 0===V||""===V?null:Object(f.jsx)(ot,{onClick:function(){return fe(!0)},name:"Edytuj",icon:Object(f.jsx)(Ye.b,{})})})]}),pe?Object(f.jsx)(Et,{id:"card-description",handleChange:function(e){"card-description"===e.target.id&&Y(e.target.value)},handleSubmit:function(e){e.preventDefault(),F({_id:t,description:V}),P({_id:a}),fe(!1)},closeForm:function(){fe(!1),Y(r)},value:V,onFocus:function(e){return e.target.select()},titleBtn:"Zapisz"}):Object(f.jsx)("div",{children:""!==V&&void 0!==V?Object(f.jsx)("p",{onClick:function(){return fe(!0)},children:V}):Object(f.jsx)(ot,{onClick:function(){return fe(!0)},name:"Dodaj opis...",icon:Object(f.jsx)(Oa.a,{})})})]}),Object(f.jsx)(Zt,{data:O,title:"Wykorzystane materia\u0142y",children:Object(f.jsx)(f.Fragment,{children:null===O||void 0===O?void 0:O.map((function(e){return Object(f.jsx)("div",{style:{backgroundColor:"grey"},className:Dt.a.cardModalLabel,onClick:function(){return ut(!0)},children:Object(f.jsxs)("span",{children:[e.name,": ",e.used," ",e.unit]})},e._id)}))})}),Object(f.jsx)(Zt,{data:d,title:"Za\u0142\u0105czniki",children:null===d||void 0===d?void 0:d.map((function(e,n){return Object(f.jsx)(ia,{title:e.fileName,created:"Dodano ".concat(pt()(e.createdAt).format("DD MMM")," o ").concat(pt()(e.createdAt).format("HH:mm")),active:y,index:n,src:"".concat(e.fileUrl),type:e.fileType,handleDeleteFile:function(){return n=e._id,void(window.confirm("Usun\u0105\u0107 plik?")&&(T(n),F({_id:t,files:d}),P({_id:a}),d.length?k(d[0].fileUrl):k("")));var n},handleDownloadFile:function(){return t=e.fileUrl,void m.a.get(t,{responseType:"blob"}).then((function(e){var a,n=t.replace(/^.*[\\\/]/,"");a=(a=t.split("."))[a.length-1],Pt()(e.data,"".concat(n,".").concat(a)),console.log("".concat(n,".").concat(a))}));var t},handleSelectCover:function(){return function(e){C(e),k(d[e].fileUrl),F({_id:t,cover:d[e].fileUrl}),P({_id:a})}(n)}},e._id)}))})]}),Object(f.jsxs)("div",{className:Dt.a.cardModalSidebar,children:[Object(f.jsx)(Xe,{title:_e?"Edytuj etykiet\u0119":ke?"Dodaj Etykiet\u0119":"Etykiety",trigger:We,closePopup:function(){Qe(!1),ye(!1),Ce(!1)},isEditWindow:_e||ke,backToMainWindow:function(){ye(!1),Ce(!1)},children:Object(f.jsx)("div",{className:Dt.a.cardModalLabels,children:_e||ke?Object(f.jsx)(ta,{formId:_e?"label-title-edit":ke?"label-title-add":"",handleChangeTitle:function(e){"label-title-edit"===e.target.id&&Fe(e.target.value),"label-title-add"===e.target.id&&be(e.target.value)},handleChangeLabelTitle:_e?function(e){if(ie){e.preventDefault();var t=Object(nt.a)(ie).map((function(e){return e._id!==Ie?e:Object(ae.a)(Object(ae.a)({},e),{},{title:Se,color:Be})}));null===N||void 0===N||N.map((function(e){var t=e.labels.map((function(e){return e._id!==Ie?e:Object(ae.a)(Object(ae.a)({},e),{},{title:Se,color:Be})}));F({_id:e._id,labels:t}),$(t)})),le(t),P({_id:a,labels:t}),ye(!1)}}:ke?function(e){e.preventDefault();var t=[].concat(Object(nt.a)(ie),[{color:Be,title:ue,active:!1}]);P({_id:a,labels:t}),Ce(!1)}:function(){return console.log("label does not exist")},handleDeleteLabel:function(){var e=Object(nt.a)(ie).filter((function(e){return e._id!==Ie}));null===N||void 0===N||N.map((function(e){var t=e.labels.filter((function(e){return e._id!==Ie}));$(t),F({_id:e._id,labels:t})})),le(e),P({_id:a,labels:e}),ye(!1)},value:_e?Se:ke?ue:"",onFocus:function(e){return e.target.select()},selectColor:Be,setSelectColor:Ae}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:Dt.a.cardModalLabelsList,children:ie.map((function(e){return Object(f.jsx)(Ut,{labelId:e._id,title:e.title,color:e.color,cardLabels:i,openLabelEditWindow:function(){ye(!0),function(e){var t=Object(nt.a)(ie).filter((function(t){return t._id===e})),a=t.map((function(e){return e.title})).toString(),n=t.map((function(e){return e.color})).toString();Fe(a),Ae(n),Me(e)}(e._id)},handleCheckedLabel:function(){return function(e){var n=Object(nt.a)(X),c=Object(ae.a)(Object(ae.a)({},e),{},{active:!e.active}),r=n.find((function(e){return e._id===c._id}));if(r){var s=Object(nt.a)(X).filter((function(e){return e._id!==r._id}));$(s),F({_id:t,labels:s})}else{var i=[].concat(Object(nt.a)(X),[c]);$(i),F({_id:t,labels:i})}P({_id:a})}(e)}},e._id)}))}),Object(f.jsx)(ot,{onClick:function(){return Ce(!0)},name:"Utw\xf3rz now\u0105 etykiet\u0119"})]})})}),Object(f.jsxs)(Xe,{title:"Data",trigger:Ge,closePopup:function(){return Ve(!1)},backToMainWindow:function(){return Ve(!1)},children:[Object(f.jsx)(It.a,{dateFormat:"DD/MM/YYYY",timeFormat:"hh:mm",locale:"pl",selected:ne,onChange:function(e){return ce(e)},inline:!0,showTimeInput:!0,timeInputLabel:"Godzina:"}),Object(f.jsxs)("label",{children:["Termin ",Object(f.jsx)("br",{}),console.log(ne),Object(f.jsx)("input",{style:{maxWidth:"100px",marginRight:"10px"},placeholder:pt()(ne||new Date).format("DD/MM/YYYY")}),Object(f.jsx)("input",{style:{maxWidth:"100px"},placeholder:pt()(ne||new Date).format("HH:mm")})]}),Object(f.jsxs)("div",{className:Dt.a.actionsForm,children:[Object(f.jsx)(Ue,{onClick:function(e){e.preventDefault(),F({_id:t,deadline:ne}),P({_id:a}),Ve(!1)},title:"Zapisz",type:"button"}),Object(f.jsx)("div",{style:{marginRight:"1rem"}}),Object(f.jsx)(Ue,{onClick:function(e){e.preventDefault(),ce(null),F({_id:t,deadline:null}),P({_id:a}),Ve(!1)},title:"Usu\u0144",type:"reset"})]})]}),Object(f.jsxs)(Xe,{title:"Za\u0142\u0105czniki",trigger:et,closePopup:function(){return tt(!1)},backToMainWindow:function(){return tt(!1)},children:[Object(f.jsx)(ca,{name:"za\u0142\u0105czniki",size:0,label:"za\u0142\u0105czniki",type:"file",listNames:_t,handleInputState:Bt,handleSubmitFiles:At}),kt>0?Object(f.jsxs)(f.Fragment,{children:[null!==Ft&&!0===Ft?Object(f.jsxs)("div",{children:[Object(f.jsx)(qt.a,{percent:kt,strokeWidth:4,strokeColor:"#D3D3D3"}),Object(f.jsxs)("p",{children:[kt,"%"]})]}):null,!1===Ft?Object(f.jsxs)("p",{style:{color:"red"},children:["B\u0142\u0105d przesy\u0142ania",Object(f.jsx)("small",{children:" (max 10mb, lub nieprawid\u0142owy format pliku)"})]}):null]}):null]}),Object(f.jsx)(Xe,{title:"Dodaj wycen\u0119",trigger:rt,closePopup:function(){return st(!1)},children:Object(f.jsx)("div",{children:Object(f.jsx)("p",{children:"Is in progress ..."})})}),Object(f.jsx)(Xe,{title:"Wykorzystane materia\u0142y",trigger:dt,closePopup:function(){return ut(!1)},children:Object(f.jsx)(ba,{cardId:t,boardId:a,usedMaterials:O})}),Object(f.jsx)(ot,{onClick:function(){return Qe(!0)},name:"Etykiety",icon:Object(f.jsx)(Le.c,{})}),Object(f.jsx)(ot,{onClick:function(){return Ve(!0)},name:"Data",icon:Object(f.jsx)(Ye.c,{})}),Object(f.jsx)(ot,{onClick:function(){return tt(!0)},name:"Za\u0142\u0105cznik",icon:Object(f.jsx)(Pe.a,{})}),Object(f.jsx)(ot,{onClick:function(){return ut(!0)},name:"Magazyn",icon:Object(f.jsx)(je.e,{})}),Object(f.jsx)(ot,{onClick:function(){return st(!0)},name:"Dodaj wycen\u0119",icon:Object(f.jsx)(je.e,{})}),Object(f.jsx)("div",{className:Dt.a.divider}),Object(f.jsx)(ot,{onClick:function(){window.confirm("Usun\u0105\u0107 kart\u0119?")&&(I(t),P({_id:a}))},name:"Usu\u0144",icon:Object(f.jsx)(ma.a,{})})]})]})]})})},fa=a(81),xa=function(e){var t=e._id,a=e.boardId,n=e.title,r=e.index,s=e.nameList,i=e.description,l=e.completed,o=e.labels,d=e.deadline,u=e.cover,j=e.files,O=e.usedMaterials,m=e.createdAt,p=e.setIsDragDisabled,x=Q(),h=Object(b.a)(x,1)[0],_=D(),y=Object(b.a)(_,1)[0],g=Object(c.useState)(!1),v=Object(b.a)(g,2),k=v[0],C=v[1],w=Object(c.useState)(l),N=Object(b.a)(w,2),S=N[0],F=N[1],z=Object(c.useState)(Date.now()),L=Object(b.a)(z,2),I=L[0],M=L[1],P=Object(c.useState)(u),q=Object(b.a)(P,2),T=q[0],B=q[1],A=Object(c.useState)(0),E=Object(b.a)(A,2),H=E[0],W=E[1],U=Object(c.useState)(j),R=Object(b.a)(U,2),Z=R[0],G=R[1];pt.a.locale("pl"),pt.a.extend(xt.a),pt.a.extend(gt.a),pt.a.extend(_t.a);var V=Object(c.useRef)(null),Y=Ct(V);Object(c.useEffect)((function(){var e=setInterval((function(){return M(Date.now())}),1e5);return function(){return clearInterval(e)}}),[]),Object(c.useEffect)((function(){j&&G(j)}),[j]),Object(c.useEffect)((function(){K()}),[Z]),Object(c.useEffect)((function(){h({_id:t,cover:T}),y({_id:a})}),[T]);var K=function(){if(Z){var e=Object(nt.a)(Z),t=e.filter((function(e){return wt(e.fileUrl)})),a=t.find((function(e){return e.fileUrl===u})),n=t.indexOf(a),c=e.findIndex((function(e){return wt(e.fileUrl)}));t.length?n<0?(B(t[0].fileUrl),W(c)):(B(t[n].fileUrl),W(n)):B("")}},J=function(){C(!0),p(!0)},X=function(){F(!S),h({_id:t,completed:!S}),y({_id:a})},$=pt()(d).isSameOrBefore(I,"minute"),ee=pt()(d).diff(pt()(I),"minute",!0),te=ee<300&&ee>0,ne={style:{color:S||$||te?"white":"black",backgroundColor:S?"green":$?"red":te?"orange":"transparent"},title:S?"Ta karta zosta\u0142a uko\u0144czona":$?"Ta karta jest przeterminowana":te?"Deadline ".concat(pt()(d).fromNow()):"Karta jest na p\xf3\u017aniej",name:S?"zrealizowany":$?"termin przekroczony":te?"wkr\xf3tce":"",iconStyle:{marginRight:"5px",fontSize:"14px"}};return Object(f.jsxs)("div",{children:[k?Object(f.jsx)(pa,{_id:t,nameList:s,title:n,description:i,boardId:a,deadline:d,labels:o,files:Z,usedMaterials:O,cover:T,completed:S,cardFileIndex:H,dateIsSameOrBefore:$,deadlineIsSoon:te,cardDateDisplay:ne,createdAt:m,setCardCompleted:F,setIsCardWindowOpen:function(){C(!1),p(!1)},setCardFileIndex:W,setCardCover:B}):null,Object(f.jsx)("div",{className:Ot.a.container,children:Object(f.jsx)(st.b,{draggableId:t,index:r,children:function(e){return Object(f.jsx)("div",Object(ae.a)(Object(ae.a)(Object(ae.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:Object(f.jsxs)(Ft,{onClick:J,children:[Z.length?Object(f.jsx)("div",{className:Ot.a.cardCover,style:{backgroundColor:T,backgroundImage:"url(".concat(T,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}}):null,Object(f.jsxs)("div",{className:Ot.a.cardDetails,children:[o.length?Object(f.jsx)("div",{className:Ot.a.cardLabels,onClick:J,children:o.map((function(e){return Object(f.jsx)("div",{title:"".concat(e.title),className:Ot.a.cardLabel,style:{backgroundColor:"".concat(e.color)}},e._id)}))}):null,Object(f.jsx)("p",{children:n}),Object(f.jsxs)("div",{className:Ot.a.iconsContainer,children:[Object(f.jsx)("div",{ref:V,children:d?Object(f.jsxs)("button",{className:Ot.a.dateBtn,onClick:X,style:ne.style,title:ne.title,children:[Y?S?Object(f.jsx)(fa.a,{style:ne.iconStyle}):Object(f.jsx)(fa.b,{style:ne.iconStyle}):Object(f.jsx)(Ye.c,{style:ne.iconStyle}),pt()(d).format("DD MMM")]}):null}),i?Object(f.jsx)("div",{className:Ot.a.icons,title:"Ta karta ma opis.",children:Object(f.jsx)(Pe.c,{onClick:J})}):null,Z.length?Object(f.jsxs)("div",{className:Ot.a.icons,title:"Za\u0142\u0105czniki",children:[Object(f.jsx)(Pe.a,{}),Object(f.jsx)("span",{children:Z.length})]}):null]})]})]})}))}})})]})},ha=a(59),_a=function(e){var t=e._id,a=e.boardId,n=e.title,r=e.cards,s=e.index,i=W(),l=Object(b.a)(i,1)[0],o=D(),d=Object(b.a)(o,1)[0],u=q(),j=Object(b.a)(u,1)[0],O=T(),m=Object(b.a)(O,1)[0],p=B(),x=Object(b.a)(p,1)[0],h=Object(c.useState)(n),_=Object(b.a)(h,2),y=_[0],g=_[1],v=Object(c.useState)(""),k=Object(b.a)(v,2),C=k[0],w=k[1],N=Object(c.useState)(!1),S=Object(b.a)(N,2),F=S[0],z=S[1],L=Object(c.useState)(!1),I=Object(b.a)(L,2),M=I[0],P=I[1],A=Object(c.useState)(!1),E=Object(b.a)(A,2),H=E[0],U=E[1],Q=Object(c.useState)(!1),R=Object(b.a)(Q,2),Z=R[0],G=R[1],V=Object(c.useRef)(null),Y=function(e){"list"===e.target.id&&g(e.target.value),j({_id:t,title:e.target.value})},K=function(e){"card"===e.target.id&&w(e.target.value)},J=function(e){"Enter"!==e.key&&"NumpadEnter"!==e.code||(e.stopPropagation(),P(!1))},X=function(e){e.preventDefault(),e.stopPropagation(),0!==C.length&&(l({listId:t,title:C}),d({_id:a}),z(!1),w(""))},$=function(){x({_id:t}),d({_id:a}),G(!1)},ee=function(){window.confirm("Usun\u0105\u0107 list\u0119?")&&(m(t),d({_id:a}))},te=function(e){var n=Object(nt.a)(r);"sort-from-oldest"===e&&n.sort((function(e,t){return+new Date(e.createdAt)-+new Date(t.createdAt)})),"sort-from-newest"===e&&n.sort((function(e,t){return+new Date(t.createdAt)-+new Date(e.createdAt)})),j({_id:t,cards:n}),d({_id:a}),G(!1),U(!1)};return Ke(V,(function(){z(!1),w("")})),Object(f.jsx)("div",{className:ut.a.listWrapper,children:Object(f.jsx)(st.b,{draggableId:String(t),index:s,isDragDisabled:H,children:function(e){return Object(f.jsxs)("div",Object(ae.a)(Object(ae.a)(Object(ae.a)({className:ut.a.list},e.draggableProps),{},{ref:e.innerRef},e.dragHandleProps),{},{children:[Object(f.jsxs)("div",{className:ut.a.listHeader,children:[Object(f.jsx)("div",{onClick:function(){return P(!0)},ref:V,children:M?Object(f.jsx)("div",{className:ut.a.textareaWrapper,children:Object(f.jsx)(jt.a,{id:"list",autoFocus:!0,value:y,className:ut.a.textarea,onChange:Y,onFocus:function(e){return e.target.select()},onBlur:function(){return P(!1)},onKeyDown:J,required:!0})}):Object(f.jsx)("div",{className:ut.a.textareaWrapper,children:Object(f.jsx)("h2",{children:y})})}),Object(f.jsx)(Ve,{onClick:function(){G(!0),U(!0)},children:Object(f.jsx)(Ye.d,{style:{fontSize:"1.3em"}})}),Object(f.jsx)(Xe,{title:"Akcje listy",trigger:Z,closePopup:function(){G(!1),U(!1)},top:"30px",right:"-30px",children:Object(f.jsxs)("div",{className:ut.a.popupContent,children:[r.length>1?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ot,{onClick:function(){return te("sort-from-newest")},name:"Sortuj karty od najnowszych"}),Object(f.jsx)(ot,{onClick:function(){return te("sort-from-oldest")},name:"Sortuj karty od najstarszych"})]}):null,r.length?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:ut.a.divider}),Object(f.jsx)(ot,{onClick:$,name:"Usu\u0144 wszystkie karty"})]}):null,Object(f.jsx)(ot,{onClick:ee,name:"Usu\u0144 list\u0119"})]})})]}),Object(f.jsx)(st.c,{droppableId:String(t),type:"card",children:function(e){return Object(f.jsx)("div",Object(ae.a)(Object(ae.a)({},e.droppableProps),{},{ref:e.innerRef,className:ut.a.cards,children:Object(f.jsxs)("div",{className:ut.a.cardsContainer,children:[null===r||void 0===r?void 0:r.map((function(e,t){return Object(f.jsx)(xa,{_id:e._id,index:t,boardId:a,title:e.title,deadline:e.deadline,completed:e.completed,description:e.description,labels:e.labels,files:e.files,cover:e.cover,usedMaterials:e.usedMaterials,nameList:y,createdAt:e.createdAt,setIsDragDisabled:U},e._id)})),e.placeholder]})}))}}),Object(f.jsx)("div",{className:ut.a.addCardForm,children:F?Object(f.jsx)("div",{ref:V,children:Object(f.jsx)(Et,{id:"card",handleChange:K,handleSubmit:X,closeForm:function(){z(!1),w("")},value:C,titleBtn:"Dodaj Kart\u0119"})}):Object(f.jsx)(ot,{onClick:function(){return z(!0)},name:"Dodaj kart\u0119",icon:Object(f.jsx)(ha.a,{})})})]}))}})})},ya=a(42),ga=a.n(ya),va=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.floor(20*Math.random()+1),14,a="https://api.unsplash.com/search/photos?page=".concat(t,"&per_page=").concat(14,"&query=Landscape&client_id=").concat("TqG5JhrasvAl1tEr7Gn82XanmpWr7OhuPhqQydr_ieA"),e.next=5,m.a.get(a);case 5:return n=e.sent,c=n.data.results.map((function(e){return{id:e.id,thumb:e.urls.thumb,full:e.urls.full,user:{username:e.user.username,link:e.user.links.html}}})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ka=va,Ca=function(e){var t=e.handleCloseMenu,a=e.setBackgroundUrl,n=e.boardId,r=D(),s=Object(b.a)(r,1)[0],i=Object(c.useState)(!1),l=Object(b.a)(i,2),o=l[0],d=l[1],O=Object(c.useState)(!1),m=Object(b.a)(O,2),p=m[0],x=m[1],h=Object(c.useState)([]),_=Object(b.a)(h,2),y=_[0],g=_[1],v=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ka();case 2:t=e.sent,g(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){v()}),[]),Object(f.jsxs)("div",{className:ga.a.sideMenu,children:[Object(f.jsxs)("div",{className:ga.a.menuHeader,children:[Object(f.jsx)("h3",{children:"Zmie\u0144 t\u0142o"}),Object(f.jsx)(Ve,{onClick:t,children:Object(f.jsx)(Ye.e,{})})]}),Object(f.jsxs)("div",{className:ga.a.menuOptions,children:[Object(f.jsx)("div",{className:ga.a.itemBox,onClick:function(){x(!0),d(!1)},style:{backgroundImage:"url(".concat(Xt,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:Object(f.jsx)("p",{children:"Zdj\u0119cia"})}),Object(f.jsx)("div",{className:ga.a.itemBox,onClick:function(){x(!1),d(!0)},style:{backgroundImage:"url(".concat($t,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:Object(f.jsx)("p",{children:"Kolory"})})]}),Object(f.jsxs)("div",{className:ga.a.optionsContainer,children:[p?y.map((function(e){return Object(f.jsx)("div",{className:ga.a.itemBox,style:{backgroundImage:"url(".concat(e.thumb,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},onClick:function(){a(e.full),s({_id:n,background:e.full})}},e.id)})):null,o?ea.map((function(e,t){return Object(f.jsx)("div",{className:ga.a.itemBox,style:{backgroundColor:"".concat(e)},onClick:function(){a(e),s({_id:n,background:e})}},t)})):null]})]})},wa=function(e){var t=e._id,a=e.lists,n=e.background,r=P(),s=Object(b.a)(r,1)[0],i=q(),l=Object(b.a)(i,1)[0],o=Q(),d=Object(b.a)(o,1)[0],u=D(),j=Object(b.a)(u,1)[0],O=Object(c.useState)(""),m=Object(b.a)(O,2),p=m[0],x=m[1],h=Object(c.useState)(""),_=Object(b.a)(h,2),y=_[0],g=_[1],v=Object(c.useState)(!1),k=Object(b.a)(v,2),C=k[0],w=k[1],N=Object(c.useState)(!1),S=Object(b.a)(N,2),F=S[0],z=S[1],L=Object(c.useState)([]),I=Object(b.a)(L,2),M=I[0],T=I[1],B=Object(c.useRef)(null);Ke(B,(function(){w(!1),g("")})),Object(c.useEffect)((function(){a&&(T(a),x("#f6faff"))}),[a,n]);var A={backgroundColor:p,backgroundImage:"url(".concat(p,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"};return Object(f.jsx)("div",{className:rt.a.board,style:A,children:Object(f.jsxs)("div",{className:rt.a.container,children:[F?Object(f.jsx)(Ca,{boardId:t,setBackgroundUrl:x,handleCloseMenu:function(){return z(!1)}}):null,Object(f.jsxs)(st.a,{onDragEnd:function(e){var a=e.destination,n=e.source,c=e.type,r=e.draggableId,s=Object(nt.a)(M);if(a&&(a.droppableId!==n.droppableId||a.index!==n.index)){if("list"===c){var i=s.splice(n.index,1),o=Object(b.a)(i,1)[0];s.splice(a.index,0,o),T(s),j({_id:t,lists:s})}if("card"===c){var u=s.find((function(e){return e._id===n.droppableId})),O=s.find((function(e){return e._id===a.droppableId}));if(n.droppableId===a.droppableId&&u){var m=Object(nt.a)(u.cards),p=m.splice(n.index,1),f=Object(b.a)(p,1)[0];m.splice(a.index,0,f);var x=Object(ae.a)(Object(ae.a)({},u),{},{cards:m}),h=s.map((function(e){return[x].find((function(t){return t._id===e._id}))||e}));T(h),l({_id:n.droppableId,cards:m})}if(n.droppableId!==a.droppableId&&u&&O){var _=Object(nt.a)(u.cards),y=Object(nt.a)(O.cards),g=_.splice(n.index,1),v=Object(b.a)(g,1)[0],k=Object(ae.a)(Object(ae.a)({},u),{},{cards:_});y.splice(a.index,0,v);var C=[k,Object(ae.a)(Object(ae.a)({},O),{},{cards:y})],w=s.map((function(e){return C.find((function(t){return t._id===e._id}))||e}));T(w),d({_id:r,listId:a.droppableId}),l({_id:n.droppableId,cards:_}),l({_id:a.droppableId,cards:y})}}}},children:[Object(f.jsx)(st.c,{droppableId:"all-list",direction:"horizontal",type:"list",children:function(e){return Object(f.jsxs)("div",Object(ae.a)(Object(ae.a)({className:rt.a.listContainer},e.droppableProps),{},{ref:e.innerRef,children:[null===M||void 0===M?void 0:M.map((function(e,t){return Object(f.jsx)(_a,{_id:e._id,index:t,boardId:e.boardId,title:e.title,cards:e.cards},e._id)})),e.placeholder]}))}}),Object(f.jsx)("div",{className:rt.a.formContainer,children:C?Object(f.jsx)("div",{className:rt.a.addListForm,ref:B,children:Object(f.jsx)(Et,{id:"list",handleChange:function(e){"list"===e.target.id&&g(e.target.value)},handleSubmit:function(e){e.preventDefault(),0!==y.length&&(s({title:y,boardId:t}),j({_id:t}),g(""),w(!1))},closeForm:function(){w(!1),g("")},value:y,titleBtn:"Dodaj List\u0119"})}):Object(f.jsx)(ot,{onClick:function(){return w(!0)},name:"Dodaj list\u0119 zada\u0144",icon:Object(f.jsx)(ha.a,{style:{margin:".3rem 0"}})})})]})]})})},Na=function(){var e=F(),t=e.data,a=e.error,n=e.isLoading,r=Object(c.useState)([]),s=Object(b.a)(r,2);s[0],s[1];return Object(f.jsxs)(f.Fragment,{children:[a&&Object(f.jsx)("h2",{children:"Error 500"}),n?Object(f.jsx)(xe,{}):null===t||void 0===t?void 0:t.map((function(e){return Object(f.jsx)(wa,{_id:e._id,lists:e.lists,background:e.background},e._id)}))]})},Sa=a(72),Fa=a.n(Sa),za=a(22),Da=a.n(za),La=function(e){var t=e.message;return Object(f.jsx)("div",{className:ue.a.validateWrapper,children:Object(f.jsx)("span",{className:ue.a.validate,children:t})})},Ia={required:!0,maxLength:40,minLength:2},Ma={required:!0,maxLength:20,minLength:2},Pa={required:!0,pattern:/[0-9]/g},qa={required:!0,pattern:/[0-9]/g},Ta=function(e){var t,a,n,r,s=e.defaultName,i=e.defaultCategory,l=e.defaultQuantity,o=e.defaultUnit,d=e.defaultPrice,u=e.categoryList,j=e.formTitle,O=e.message,m=e.handleSubmitForm,p=Object(c.useState)(!0),x=Object(b.a)(p,2),h=x[0],_=x[1],y=Object(re.a)(),g=y.register,v=y.handleSubmit,k=y.formState.errors;return Object(f.jsxs)("div",{className:Da.a.container,children:[Object(f.jsx)("h2",{children:j}),Object(f.jsxs)("form",{className:Da.a.form,onSubmit:v(m),children:[Object(f.jsx)("div",{className:Da.a.message,children:O}),Object(f.jsxs)("div",{className:Da.a.formContainer,children:[Object(f.jsxs)("div",{className:Da.a.formGroup,children:[Object(f.jsxs)("div",{className:Da.a.inputContainer,children:[Object(f.jsx)("label",{htmlFor:"name",children:"Nazwa"}),Object(f.jsx)(oe,Object(ae.a)({id:"name",placeholder:"Nazwa",label:"Nazwa",type:"text",defaultValue:s,error:k.name},g("name",Object(ae.a)({},Ia)))),function(e){switch(e){case"required":return Object(f.jsx)(La,{message:"Nazwa jest wymagana"});case"minLength":return Object(f.jsx)(La,{message:"Nazwa musi zawiera\u0107 conajmiej 2 znaki"});case"maxLength":return Object(f.jsx)(La,{message:"Nazwa mo\u017ce zawiera\u0107 maksymalnie 20 znak\xf3w"});default:return null}}(null===(t=k.name)||void 0===t?void 0:t.type)]}),Object(f.jsxs)("div",{className:Da.a.inputContainer,children:[Object(f.jsx)("label",{htmlFor:"quantity",children:"Stan"}),Object(f.jsx)(oe,Object(ae.a)({id:"quantity",placeholder:"Stan",label:"Stan",type:"number",defaultValue:l,minValue:0,error:k.quantity},g("quantity",Object(ae.a)({},Pa)))),function(e){switch(e){case"required":return Object(f.jsx)(La,{message:"Stan jest wymagany"});case"pattern":return Object(f.jsx)(La,{message:"Stan jest niepoprawny"});default:return null}}(null===(a=k.quantity)||void 0===a?void 0:a.type)]}),Object(f.jsxs)("div",{className:Da.a.inputContainer,children:[Object(f.jsx)("label",{htmlFor:"price",children:"Cena"}),Object(f.jsx)(oe,Object(ae.a)({id:"price",placeholder:"Cena",label:"Cena",type:"number",step:"0.01",defaultValue:d,minValue:0,error:k.price},g("price",Object(ae.a)({},qa)))),function(e){switch(e){case"required":return Object(f.jsx)(La,{message:"Has\u0142o jest wymagane"});case"pattern":return Object(f.jsx)(La,{message:"Has\u0142o musi zawiera\u0107: co najmniej 8 znak\xf3w, 1 cyfr\u0119, 1 ma\u0142\u0105 liter\u0119 i 1 wielk\u0105 liter\u0119"});default:return null}}(null===(n=k.price)||void 0===n?void 0:n.type)]})]}),Object(f.jsxs)("div",{className:Da.a.formGroup,children:[Object(f.jsxs)("div",{className:Da.a.inputContainer,children:[Object(f.jsx)("label",{htmlFor:"unit",children:"Jednostka"}),Object(f.jsxs)("select",Object(ae.a)(Object(ae.a)({},g("unit")),{},{className:Da.a.select,defaultValue:o,children:[Object(f.jsx)("option",{value:"szt",children:"szt"}),Object(f.jsx)("option",{value:"m2",children:"m2"}),Object(f.jsx)("option",{value:"mb",children:"mb"}),Object(f.jsx)("option",{value:"ark",children:"ark"}),Object(f.jsx)("option",{value:"ryz",children:"ryz"}),Object(f.jsx)("option",{value:"litry",children:"litry"}),Object(f.jsx)("option",{value:"inne",children:"inne"})]}))]}),Object(f.jsxs)("div",{className:Da.a.inputContainer,children:[Object(f.jsxs)("div",{className:Da.a.selectGroup,children:[Object(f.jsx)("input",{type:"checkbox",checked:h,onChange:function(){return _((function(e){return!e}))}}),Object(f.jsx)("label",{htmlFor:"category",children:"Dodaj now\u0105 kategori\u0119"})]}),Object(f.jsx)(oe,Object(ae.a)({id:"category",placeholder:"Dodaj kategori\u0119",label:"Kategoria",type:"text",defaultValue:i,error:k.category,disabled:!h},g("category",Object(ae.a)({},Ma)))),function(e){switch(e){case"required":return Object(f.jsx)(La,{message:"Kategoria jest wymagana"});case"minLength":return Object(f.jsx)(La,{message:"Kategoria musi zawiera\u0107 conajmiej 2 znaki"});case"maxLength":return Object(f.jsx)(La,{message:"Kategoria mo\u017ce zawiera\u0107 maksymalnie 20 znak\xf3w"});default:return null}}(null===(r=k.category)||void 0===r?void 0:r.type)]}),Object(f.jsxs)("div",{className:Da.a.inputContainer,children:[Object(f.jsxs)("div",{className:Da.a.selectGroup,children:[Object(f.jsx)("input",{type:"checkbox",checked:!h,onChange:function(){return _((function(e){return!e}))}}),Object(f.jsx)("label",{htmlFor:"category",children:"Wybierz kategori\u0119"})]}),u?Object(f.jsx)("select",Object(ae.a)(Object(ae.a)({},!h&&Object(ae.a)({},g("category"))),{},{className:Da.a.select,disabled:h,defaultValue:i,children:Object.entries(u).map((function(e){var t=Object(b.a)(e,1)[0];return Object(f.jsx)("option",{value:t,children:t},t)}))})):null]})]})]}),Object(f.jsx)("div",{className:Da.a.actionForm,children:Object(f.jsx)(Ue,{title:"Zapisz",type:"submit",style:{width:"100%",padding:"0.8rem"}})})]})]})},Ba=a(65),Aa=a.n(Ba),Ea=function(e){var t=e.categories,a=e.allCategoryValue,n=e.activeCategory,r=e.addNewProduct,s=e.handleFilterCategory,i=Object(c.useState)(!1),l=Object(b.a)(i,2),o=l[0],d=l[1];return Object(f.jsxs)("div",{className:Aa.a.header,children:[Object(f.jsx)(ot,{icon:Object(f.jsx)(ha.a,{style:{color:"grey",fontSize:"1.2rem"}}),name:"Dodaj produkt",onClick:r,style:{width:"200px"}}),Object(f.jsxs)("div",{className:Aa.a.filter,children:[Object(f.jsx)("div",{className:Aa.a.categoryName,children:Object(f.jsx)("h3",{children:n})}),Object(f.jsx)("div",{className:Aa.a.filterBtn,children:Object(f.jsx)(ot,{icon:Object(f.jsx)(Ye.a,{style:{color:"grey",fontSize:"1.2rem"}}),name:"Filtruj",onClick:function(){return d(!0)},style:{width:"200px"}})}),Object(f.jsx)(Xe,{title:"Filtruj kategorie",trigger:o,closePopup:function(){return d(!1)},top:"10px",right:"10px",children:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ot,{onClick:function(){return s(a)},name:a,style:{margin:"8px 0"}}),t?Object.entries(t).map((function(e){var t=Object(b.a)(e,1)[0];return Object(f.jsx)("div",{className:Aa.a.popupContent,children:Object(f.jsx)(ot,{onClick:function(){return s(t)},name:t,style:{margin:"8px 0"}})},t)})):null]})})]})]})},Ha=a(66),Wa=a.n(Ha),Ua=a(60),Qa=function(e){var t=e.data,a=e.children,n=e.sortProducts,r=Object(c.useState)("asc"),s=Object(b.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(""),d=Object(b.a)(o,2),u=d[0],j=d[1],O=Object(c.useCallback)((function(e){var a=e.sortBy;if(t){var c=Object(nt.a)(t);if("asc"===i){var r=c.sort((function(e,t){return e[a].toString().localeCompare(t[a].toString(),"pl",{numeric:!0})}));n(r),l("desc")}if("desc"===i){var s=c.sort((function(e,t){return t[a].toString().localeCompare(e[a].toString(),"pl",{numeric:!0})}));n(s),l("asc")}j(a)}}),[t,i,u]);return Object(f.jsxs)("div",{className:Wa.a.container,children:[Object(f.jsx)("div",{className:Wa.a.head,children:[{key:"name",label:"Nazwa",sortable:!0},{key:"category",label:"Kategoria",sortable:!0},{key:"quantity",label:"Stan",sortable:!0},{key:"unit",label:"Jedn.",sortable:!1},{key:"price",label:"Cena",sortable:!0},{key:"actions",label:"Akcje",sortable:!1}].map((function(e){return Object(f.jsx)("div",Object(ae.a)(Object(ae.a)({className:"".concat(Wa.a.block," ").concat(e.sortable?Wa.a.sortable:"")},e.sortable&&{onClick:function(){return O({sortBy:e.key})}}),{},{children:Object(f.jsxs)("span",{children:[e.label,e.sortable?u===e.key?"desc"===i?Object(f.jsx)(Ua.a,{}):Object(f.jsx)(Ua.b,{}):Object(f.jsx)(Ua.c,{color:"#c8c8c8"}):null]})}),e.key)}))}),Object(f.jsx)("div",{className:Wa.a.list,children:a})]})},Ra=a(43),Za=a.n(Ra),Ga=function(e){var t=e.name,a=e.category,n=e.quantity,r=e.unit,s=e.price,i=e.editProd,l=e.deleteProd,o=Object(c.useState)(!1),d=Object(b.a)(o,2),u=d[0],j=d[1],O=0===n?"red":"initial";return Object(f.jsxs)("div",{className:Za.a.row,style:{color:O},children:[Object(f.jsx)("div",{className:"".concat(Za.a.block),children:Object(f.jsx)("span",{children:t})}),Object(f.jsx)("div",{className:"".concat(Za.a.block),children:Object(f.jsx)("span",{children:a})}),Object(f.jsx)("div",{className:"".concat(Za.a.block),children:Object(f.jsx)("span",{children:n})}),Object(f.jsx)("div",{className:"".concat(Za.a.block),children:Object(f.jsx)("span",{children:r})}),Object(f.jsx)("div",{className:"".concat(Za.a.block),children:Object(f.jsxs)("span",{children:[s," z\u0142"]})}),Object(f.jsx)("div",{className:"".concat(Za.a.block),children:Object(f.jsx)(Ve,{onClick:function(){return j(!0)},children:Object(f.jsx)(je.c,{style:{fontSize:"1.2rem",color:"grey"}})})}),Object(f.jsx)(Xe,{title:"Akcje produktu",trigger:u,closePopup:function(){return j(!1)},top:"10px",right:"10px",children:Object(f.jsxs)("div",{className:Za.a.popupContent,children:[Object(f.jsx)(ot,{onClick:i,name:"Etytuj",style:{margin:"10px 0"}}),Object(f.jsx)(ot,{onClick:l,name:"Usu\u0144"})]})})]})},Va=a(73),Ya=a.n(Va),Ka=function(e){var t=e.data;return Object(f.jsxs)("div",{className:Ya.a.container,children:[Object(f.jsxs)("div",{className:Ya.a.header,children:[Object(f.jsx)(je.a,{fontSize:"1.5rem"}),Object(f.jsx)("h4",{children:"Magazyn"})]}),Object(f.jsx)("div",{className:Ya.a.categoryList,children:t?Object.entries(t).map((function(e){var t=Object(b.a)(e,2),a=t[0],n=t[1];return Object(f.jsxs)("div",{className:Ya.a.box,children:[Object(f.jsx)("h5",{children:a}),Object(f.jsx)("span",{children:"ilo\u015b\u0107: ".concat(n)})]},a)})):null})]})},Ja=function(){var e=K(),t=e.data,a=e.error,n=e.isLoading,r=X(),s=Object(b.a)(r,1)[0],i=J(),l=Object(b.a)(i,1)[0],o=$(),d=Object(b.a)(o,1)[0],u=Object(c.useState)(),j=Object(b.a)(u,2),O=j[0],m=j[1],p=Object(c.useState)(),x=Object(b.a)(p,2),h=x[0],_=x[1],g=Object(c.useState)(null),v=Object(b.a)(g,2),k=v[0],C=v[1],w=Object(c.useState)(!1),N=Object(b.a)(w,2),S=N[0],F=N[1],z=Object(c.useState)(!1),D=Object(b.a)(z,2),L=D[0],I=D[1],M=Object(c.useState)(!1),P=Object(b.a)(M,2),q=P[0],T=P[1],B="Wszystkie kategorie",A=Object(c.useState)(B),E=Object(b.a)(A,2),H=E[0],W=E[1];Object(c.useEffect)((function(){t&&(m(t),_(U(t)),setTimeout((function(){return T(!1)}),2e3))}),[t]);var U=function(e){if(e)return Object(nt.a)(e).map((function(e){return e.category})).reduce((function(e,t){return Object(ae.a)(Object(ae.a)({},e),{},Object(y.a)({},t,(e[t]||0)+1))}),{})};return Object(f.jsxs)("div",{className:Fa.a.container,children:[a&&Object(f.jsx)("h2",{children:"Error 500"}),Object(f.jsxs)("div",{className:Fa.a.left,children:[Object(f.jsx)("div",{className:Fa.a.top,children:Object(f.jsx)(Ka,{data:h})}),Object(f.jsxs)("div",{className:Fa.a.bottom,children:[Object(f.jsx)(Ea,{addNewProduct:function(){return F(!0)},categories:h,handleFilterCategory:function(e){if(t){var a=Object(nt.a)(t).filter((function(t){return t.category===e}));m(e!==B?a:t),W(e)}},activeCategory:H,allCategoryValue:B}),n?Object(f.jsx)("div",{children:"Loading..."}):Object(f.jsx)(Qa,{data:O,sortProducts:m,children:null===O||void 0===O?void 0:O.slice(0).reverse().map((function(e){return Object(f.jsx)(Ga,{_id:e._id,name:e.name,category:e.category,quantity:e.quantity,unit:e.unit,price:e.price,editProd:function(){return t=e,I(!0),void C(t);var t},deleteProd:function(){window.confirm("Usun\u0105\u0107 produkt?")&&s(e._id)}},e._id)}))})]})]}),Object(f.jsx)(da,{trigger:S,closeModal:function(){return F(!1)},children:Object(f.jsx)(Ta,{categoryList:h,formTitle:"Dodaj produkt",handleSubmitForm:function(e){var t=e.name,a=e.category,n=e.quantity,c=e.unit,r=e.price;l({name:t,category:a,quantity:n,unit:c,price:r}),T(!0)},message:q&&Object(f.jsx)(ve,{message:"Produkt zosta\u0142 dodany"})})}),Object(f.jsx)(da,{trigger:L,closeModal:function(){return I(!1)},children:k&&Object(f.jsx)(Ta,{formTitle:"Edytuj produkt",categoryList:h,defaultName:k.name,defaultCategory:k.category,defaultQuantity:k.quantity,defaultUnit:k.unit,defaultPrice:k.price,handleSubmitForm:function(e){var t=e.name,a=e.category,n=e.quantity,c=e.unit,r=e.price;d({_id:k._id,name:t,category:a,quantity:n,unit:c,price:r}),T(!0)},message:q&&Object(f.jsx)(ve,{message:"Produkt zosta\u0142 zmieniony"})})})]})},Xa=Ja,$a=function(){return Object(f.jsx)("div",{style:{padding:"4rem"},children:Object(f.jsx)("h2",{children:"Is in progress..."})})},en=function(){return Object(f.jsx)("div",{style:{padding:"4rem"},children:Object(f.jsx)("h2",{children:"Is in progress..."})})},tn=function(){return Object(f.jsx)("div",{style:{padding:"4rem"},children:Object(f.jsx)("h2",{children:"Is in progress..."})})},an=function(){return Object(f.jsx)(p.e,{children:Object(f.jsxs)(p.c,{element:Object(f.jsx)(tt,{}),children:[Object(f.jsx)(p.c,{path:"/zadania",element:Object(f.jsx)(Na,{})}),Object(f.jsx)(p.c,{path:"/magazyn",element:Object(f.jsx)(Xa,{})}),Object(f.jsx)(p.c,{path:"/kalkulator",element:Object(f.jsx)(tn,{})}),Object(f.jsx)(p.c,{path:"/statystyki",element:Object(f.jsx)($a,{})}),Object(f.jsx)(p.c,{path:"/ustawienia",element:Object(f.jsx)(en,{})}),Object(f.jsx)(p.c,{path:"/",element:Object(f.jsx)(p.a,{replace:!0,to:"/zadania"})})]})})},nn=function(){var e=_().user,t=Object(p.h)();return Object(c.useEffect)((function(){t(e?"/":"/logowanie")}),[e]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(p.e,{children:e?Object(f.jsx)(p.c,{path:"/*",element:Object(f.jsx)(an,{})}):Object(f.jsx)(p.c,{path:"/*",element:Object(f.jsx)(at,{})})})})};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(te,{children:Object(f.jsx)(nn,{})})}),document.getElementById("root"))},22:function(e,t,a){e.exports={container:"styles_container__1-Vs_",formContainer:"styles_formContainer__3C9j6",formGroup:"styles_formGroup__9bsMI",inputContainer:"styles_inputContainer__qQIMg",selectGroup:"styles_selectGroup__QrqKR",select:"styles_select__1Kg3n",actionForm:"styles_actionForm__LxvJg",message:"styles_message__31VVT"}},26:function(e,t,a){e.exports={sidebar:"styles_sidebar__2ENmZ",sidebarHidden:"styles_sidebarHidden__2Qp4g",logo:"styles_logo__1gi2a",navButton:"styles_navButton__WPDJj",navButtonHidden:"styles_navButtonHidden__2k5LP",linksContainer:"styles_linksContainer__13Tdb",navItem:"styles_navItem__1XbL9",navLink:"styles_navLink__1DFB4",icon:"styles_icon__d5IPB",active:"styles_active__1qHPd",divider:"styles_divider__1FaYq"}},30:function(e,t,a){e.exports={list:"styles_list__10VXO",listHeader:"styles_listHeader__AZh60",textareaWrapper:"styles_textareaWrapper__22zi6",textarea:"styles_textarea__1OwBV",cardsContainer:"styles_cardsContainer__9wbRc",addCardForm:"styles_addCardForm__3OMuD",popupContent:"styles_popupContent__3R-MM",divider:"styles_divider__3pBig"}},38:function(e,t,a){e.exports={container:"styles_container__3seBR",cardDetails:"styles_cardDetails__3IlNx",textarea:"styles_textarea__1UO7U",btnContainer:"styles_btnContainer__2K_79",cardLabels:"styles_cardLabels__wxQ6P",cardLabel:"styles_cardLabel__1veyb",iconsContainer:"styles_iconsContainer__FrvYa",dateContainer:"styles_dateContainer__1zIDa",dateBtn:"styles_dateBtn__MSJbB",icons:"styles_icons__3feCS",cardCover:"styles_cardCover__1qwF_",actionsContainer:"styles_actionsContainer__2ZPg7",actionsPopup:"styles_actionsPopup__1YDHd",actionsPopupContent:"styles_actionsPopupContent__3-CHs"}},41:function(e,t,a){e.exports={wrapper:"styles_wrapper__1Q7lS",validateWrapper:"styles_validateWrapper__2SnbK",success:"styles_success__2OtKq",error:"styles_error__1QR-F",validate:"styles_validate__2zM6k"}},42:function(e,t,a){e.exports={sideMenu:"styles_sideMenu__n4Dft",menuHeader:"styles_menuHeader__yYTfi",menuOptions:"styles_menuOptions__YWr_m",optionsContainer:"styles_optionsContainer__3tHVd",description:"styles_description__1cACy",itemBox:"styles_itemBox__1cVqL"}},43:function(e,t,a){e.exports={row:"styles_row__jrhZD",block:"styles_block__LpmRW"}},47:function(e,t,a){e.exports={container:"styles_container__1Ckeh",login_formContainer:"styles_login_formContainer__1Aa54",left:"styles_left__1B5XZ",form_container:"styles_form_container__15YG_",input:"styles_input__1iHTC",error_msg:"styles_error_msg__3c5F1",right:"styles_right__rHiwj",white_btn:"styles_white_btn__1l2Cg",green_btn:"styles_green_btn__JtBYx"}},48:function(e,t,a){e.exports={container:"styles_container__9Abju",signup_formContainer:"styles_signup_formContainer__3QQH_",left:"styles_left__3a-9v",right:"styles_right__o1z62",form_container:"styles_form_container__2S9ok",input:"styles_input__XjSrT",error_msg:"styles_error_msg__2WEth",white_btn:"styles_white_btn__3jQeg",green_btn:"styles_green_btn__1r5ke"}},49:function(e,t,a){e.exports={form:"styles_form__1hc4B",textarea:"styles_textarea__1sylW",actionsForm:"styles_actionsForm__2XYHx",reactColorful:"styles_reactColorful__1b326",pickerSwatches:"styles_pickerSwatches__1fckf",pickerSwatch:"styles_pickerSwatch__F-iwJ"}},51:function(e,t,a){e.exports={container:"styles_container__1-ydT",logoContainer:"styles_logoContainer__3ysgE",userInfo:"styles_userInfo__14Neq",userSignature:"styles_userSignature__XPf4S",userActionBtn:"styles_userActionBtn__8-DQQ"}},61:function(e,t,a){e.exports={layout:"styles_layout__26wyt",appbar:"styles_appbar__1Areq",sidebar:"styles_sidebar__3gXVy",pages:"styles_pages__TSa_W"}},62:function(e,t,a){e.exports={board:"styles_board__3OQwQ",container:"styles_container__3n57t",listContainer:"styles_listContainer__1casg",formContainer:"styles_formContainer__A9q7d",addListForm:"styles_addListForm__3om-h"}},63:function(e,t,a){e.exports={container:"styles_container__5hdP_",fileImg:"styles_fileImg__3_nJn",selectCover:"styles_selectCover__2yoNp",fileDetails:"styles_fileDetails__1MuDJ",fileButtons:"styles_fileButtons__22PkH"}},64:function(e,t,a){e.exports={container:"styles_container__1zH9P",form:"styles_form__3Z9PF",selectContainer:"styles_selectContainer__3ZZMO",select:"styles_select__9n_H4",list:"styles_list__1YBo2"}},65:function(e,t,a){e.exports={header:"styles_header__1A8I6",filter:"styles_filter__bgwFP",filterBtn:"styles_filterBtn__1zXD9"}},66:function(e,t,a){e.exports={container:"styles_container__Q8g_j",header:"styles_header__1SGdT",head:"styles_head__egO-Y",block:"styles_block__36pkB",sortable:"styles_sortable__1-zpP"}},71:function(e,t,a){e.exports={formFile:"styles_formFile__1H0hl",labelFile:"styles_labelFile__1xSWE",spanContainer:"styles_spanContainer__1k5nW"}},72:function(e,t,a){e.exports={container:"styles_container__3iTl6",left:"styles_left__3c1Yx",top:"styles_top__2KYAn",bottom:"styles_bottom__17AQS",right:"styles_right__3WLBw"}},73:function(e,t,a){e.exports={container:"styles_container__1xxgR",header:"styles_header__1vqFE",categoryList:"styles_categoryList__Ea49i",box:"styles_box__3y_wB"}},85:function(e,t,a){e.exports={popup:"styles_popup__1Jc4w",header:"styles_header__3ANqf",popupContent:"styles_popupContent__3P6hY"}},86:function(e,t,a){e.exports={box:"styles_box__1PsiF",container:"styles_container__3elxg",clickableArea:"styles_clickableArea__mdMjk"}},87:function(e,t,a){e.exports={form:"styles_form__oc3HO",textarea:"styles_textarea__3-Mx0",actionsForm:"styles_actionsForm__2-exw"}},88:function(e,t,a){e.exports={overlay:"styles_overlay__LtLkb",modal:"styles_modal__1hzmg",header:"styles_header__Khp8x"}},97:function(e,t,a){e.exports={button:"styles_button__kzQWl",reset:"styles_reset__pbyPF"}},98:function(e,t,a){e.exports={taskButton:"styles_taskButton__37MC8",icon:"styles_icon__19Jm-"}},99:function(e,t,a){e.exports={container:"styles_container__1Qt0X",boxColor:"styles_boxColor__1nnMd"}}},[[208,1,2]]]);
//# sourceMappingURL=main.aabfbafc.chunk.js.map